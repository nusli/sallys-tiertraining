"use strict";(self.webpackChunksallys_tiertraining=self.webpackChunksallys_tiertraining||[]).push([[179],{6304:(Xe,he,M)=>{M.d(he,{Dh:()=>Pe});var l=M(4946);M(7142),Xe=M.hmd(Xe);const Pe=new l.OlP("angularfire2.app.options");globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},9058:(Xe,he,M)=>{M.d(he,{$s:()=>bl,BH:()=>Q,DV:()=>_l,G6:()=>W,GJ:()=>xs,L:()=>ye,LL:()=>Mn,P0:()=>ct,Pz:()=>ue,Sg:()=>ge,UI:()=>It,US:()=>fe,Wl:()=>en,Yr:()=>V,ZB:()=>$,ZR:()=>je,aH:()=>ne,b$:()=>os,cI:()=>Ft,dS:()=>Ns,eu:()=>Ce,g5:()=>X,gK:()=>zt,gQ:()=>Qe,h$:()=>Be,hl:()=>de,hu:()=>U,jU:()=>Oe,m9:()=>uo,ne:()=>Os,p$:()=>N,q4:()=>nt,r3:()=>lr,ru:()=>Ln,tV:()=>F,uI:()=>pe,ug:()=>Vn,vZ:()=>gu,w1:()=>Le,w9:()=>ri,xO:()=>on,xb:()=>cr,z$:()=>be,zI:()=>_e});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},U=function(x,P){if(!x)throw X(P)},X=function(x){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+x)},Y=function(x){const P=[];let R=0;for(let te=0;te<x.length;te++){let G=x.charCodeAt(te);G<128?P[R++]=G:G<2048?(P[R++]=G>>6|192,P[R++]=63&G|128):55296==(64512&G)&&te+1<x.length&&56320==(64512&x.charCodeAt(te+1))?(G=65536+((1023&G)<<10)+(1023&x.charCodeAt(++te)),P[R++]=G>>18|240,P[R++]=G>>12&63|128,P[R++]=G>>6&63|128,P[R++]=63&G|128):(P[R++]=G>>12|224,P[R++]=G>>6&63|128,P[R++]=63&G|128)}return P},fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(x,P){if(!Array.isArray(x))throw Error("encodeByteArray takes an array as a parameter");this.init_();const R=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,te=[];for(let G=0;G<x.length;G+=3){const Ge=x[G],Ye=G+1<x.length,Lt=Ye?x[G+1]:0,Vt=G+2<x.length,Zn=Vt?x[G+2]:0;let Ar=(15&Lt)<<2|Zn>>6,jr=63&Zn;Vt||(jr=64,Ye||(Ar=64)),te.push(R[Ge>>2],R[(3&Ge)<<4|Lt>>4],R[Ar],R[jr])}return te.join("")},encodeString(x,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(x):this.encodeByteArray(Y(x),P)},decodeString(x,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(x):function(x){const P=[];let R=0,te=0;for(;R<x.length;){const G=x[R++];if(G<128)P[te++]=String.fromCharCode(G);else if(G>191&&G<224){const Ge=x[R++];P[te++]=String.fromCharCode((31&G)<<6|63&Ge)}else if(G>239&&G<365){const Vt=((7&G)<<18|(63&x[R++])<<12|(63&x[R++])<<6|63&x[R++])-65536;P[te++]=String.fromCharCode(55296+(Vt>>10)),P[te++]=String.fromCharCode(56320+(1023&Vt))}else{const Ge=x[R++],Ye=x[R++];P[te++]=String.fromCharCode((15&G)<<12|(63&Ge)<<6|63&Ye)}}return P.join("")}(this.decodeStringToByteArray(x,P))},decodeStringToByteArray(x,P){this.init_();const R=P?this.charToByteMapWebSafe_:this.charToByteMap_,te=[];for(let G=0;G<x.length;){const Ge=R[x.charAt(G++)],Lt=G<x.length?R[x.charAt(G)]:0;++G;const Zn=G<x.length?R[x.charAt(G)]:64;++G;const yt=G<x.length?R[x.charAt(G)]:64;if(++G,null==Ge||null==Lt||null==Zn||null==yt)throw new Pe;te.push(Ge<<2|Lt>>4),64!==Zn&&(te.push(Lt<<4&240|Zn>>2),64!==yt&&te.push(Zn<<6&192|yt))}return te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let x=0;x<this.ENCODED_VALS.length;x++)this.byteToCharMap_[x]=this.ENCODED_VALS.charAt(x),this.charToByteMap_[this.byteToCharMap_[x]]=x,this.byteToCharMapWebSafe_[x]=this.ENCODED_VALS_WEBSAFE.charAt(x),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[x]]=x,x>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(x)]=x,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(x)]=x)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Be=function(x){const P=Y(x);return fe.encodeByteArray(P,!0)},ye=function(x){return Be(x).replace(/\./g,"")},F=function(x){try{return fe.decodeString(x,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function N(x){return $(void 0,x)}function $(x,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===x&&(x={});break;case Array:x=[];break;default:return P}for(const R in P)!P.hasOwnProperty(R)||!Ae(R)||(x[R]=$(x[R],P[R]));return x}function Ae(x){return"__proto__"!==x}const Ee=()=>{try{return function ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const x=process.env.__FIREBASE_DEFAULTS__;return x?JSON.parse(x):void 0})()||(()=>{if(typeof document>"u")return;let x;try{x=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=x&&F(x[1]);return P&&JSON.parse(P)})()}catch(x){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${x}`)}},nt=x=>{var P,R;return null===(R=null===(P=Ee())||void 0===P?void 0:P.emulatorHosts)||void 0===R?void 0:R[x]},ct=x=>{const P=nt(x);if(!P)return;const R=P.lastIndexOf(":");if(R<=0||R+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const te=parseInt(P.substring(R+1),10);return"["===P[0]?[P.substring(1,R-1),te]:[P.substring(0,R),te]},ne=()=>{var x;return null===(x=Ee())||void 0===x?void 0:x.config},ue=x=>{var P;return null===(P=Ee())||void 0===P?void 0:P[`_${x}`]};class Q{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,R)=>{this.resolve=P,this.reject=R})}wrapCallback(P){return(R,te)=>{R?this.reject(R):this.resolve(te),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(R):P(R,te))}}}function ge(x,P){if(x.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const te=P||"demo-project",G=x.iat||0,Ge=x.sub||x.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${te}`,aud:te,iat:G,exp:G+3600,auth_time:G,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},x);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Ye)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function Oe(){return"object"==typeof self&&self.self===self}function Ln(){const x="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof x&&void 0!==x.id}function os(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Le(){const x=be();return x.indexOf("MSIE ")>=0||x.indexOf("Trident/")>=0}function V(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function W(){return!function ce(){var x;const P=null===(x=Ee())||void 0===x?void 0:x.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){try{return"object"==typeof indexedDB}catch{return!1}}function Ce(){return new Promise((x,P)=>{try{let R=!0;const te="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(te);G.onsuccess=()=>{G.result.close(),R||self.indexedDB.deleteDatabase(te),x(!0)},G.onupgradeneeded=()=>{R=!1},G.onerror=()=>{var Ge;P((null===(Ge=G.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(R){P(R)}})}function _e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class je extends Error{constructor(P,R,te){super(R),this.code=P,this.customData=te,this.name="FirebaseError",Object.setPrototypeOf(this,je.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mn.prototype.create)}}class Mn{constructor(P,R,te){this.service=P,this.serviceName=R,this.errors=te}create(P,...R){const te=R[0]||{},G=`${this.service}/${P}`,Ge=this.errors[P],Ye=Ge?function at(x,P){return x.replace(Zt,(R,te)=>{const G=P[te];return null!=G?String(G):`<${te}?>`})}(Ge,te):"Error";return new je(G,`${this.serviceName}: ${Ye} (${G}).`,te)}}const Zt=/\{\$([^}]+)}/g;function Ft(x){return JSON.parse(x)}function en(x){return JSON.stringify(x)}const qn=function(x){let P={},R={},te={},G="";try{const Ge=x.split(".");P=Ft(F(Ge[0])||""),R=Ft(F(Ge[1])||""),G=Ge[2],te=R.d||{},delete R.d}catch{}return{header:P,claims:R,data:te,signature:G}},ri=function(x){const R=qn(x).claims;return!!R&&"object"==typeof R&&R.hasOwnProperty("iat")},xs=function(x){const P=qn(x).claims;return"object"==typeof P&&!0===P.admin};function lr(x,P){return Object.prototype.hasOwnProperty.call(x,P)}function _l(x,P){if(Object.prototype.hasOwnProperty.call(x,P))return x[P]}function cr(x){for(const P in x)if(Object.prototype.hasOwnProperty.call(x,P))return!1;return!0}function It(x,P,R){const te={};for(const G in x)Object.prototype.hasOwnProperty.call(x,G)&&(te[G]=P.call(R,x[G],G,x));return te}function gu(x,P){if(x===P)return!0;const R=Object.keys(x),te=Object.keys(P);for(const G of R){if(!te.includes(G))return!1;const Ge=x[G],Ye=P[G];if(mu(Ge)&&mu(Ye)){if(!gu(Ge,Ye))return!1}else if(Ge!==Ye)return!1}for(const G of te)if(!R.includes(G))return!1;return!0}function mu(x){return null!==x&&"object"==typeof x}function on(x){const P=[];for(const[R,te]of Object.entries(x))Array.isArray(te)?te.forEach(G=>{P.push(encodeURIComponent(R)+"="+encodeURIComponent(G))}):P.push(encodeURIComponent(R)+"="+encodeURIComponent(te));return P.length?"&"+P.join("&"):""}class Qe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let P=1;P<this.blockSize;++P)this.pad_[P]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(P,R){R||(R=0);const te=this.W_;if("string"==typeof P)for(let yt=0;yt<16;yt++)te[yt]=P.charCodeAt(R)<<24|P.charCodeAt(R+1)<<16|P.charCodeAt(R+2)<<8|P.charCodeAt(R+3),R+=4;else for(let yt=0;yt<16;yt++)te[yt]=P[R]<<24|P[R+1]<<16|P[R+2]<<8|P[R+3],R+=4;for(let yt=16;yt<80;yt++){const Ar=te[yt-3]^te[yt-8]^te[yt-14]^te[yt-16];te[yt]=4294967295&(Ar<<1|Ar>>>31)}let Zn,mt,G=this.chain_[0],Ge=this.chain_[1],Ye=this.chain_[2],Lt=this.chain_[3],Vt=this.chain_[4];for(let yt=0;yt<80;yt++){yt<40?yt<20?(Zn=Lt^Ge&(Ye^Lt),mt=1518500249):(Zn=Ge^Ye^Lt,mt=1859775393):yt<60?(Zn=Ge&Ye|Lt&(Ge|Ye),mt=2400959708):(Zn=Ge^Ye^Lt,mt=3395469782);const Ar=(G<<5|G>>>27)+Zn+Vt+mt+te[yt]&4294967295;Vt=Lt,Lt=Ye,Ye=4294967295&(Ge<<30|Ge>>>2),Ge=G,G=Ar}this.chain_[0]=this.chain_[0]+G&4294967295,this.chain_[1]=this.chain_[1]+Ge&4294967295,this.chain_[2]=this.chain_[2]+Ye&4294967295,this.chain_[3]=this.chain_[3]+Lt&4294967295,this.chain_[4]=this.chain_[4]+Vt&4294967295}update(P,R){if(null==P)return;void 0===R&&(R=P.length);const te=R-this.blockSize;let G=0;const Ge=this.buf_;let Ye=this.inbuf_;for(;G<R;){if(0===Ye)for(;G<=te;)this.compress_(P,G),G+=this.blockSize;if("string"==typeof P){for(;G<R;)if(Ge[Ye]=P.charCodeAt(G),++Ye,++G,Ye===this.blockSize){this.compress_(Ge),Ye=0;break}}else for(;G<R;)if(Ge[Ye]=P[G],++Ye,++G,Ye===this.blockSize){this.compress_(Ge),Ye=0;break}}this.inbuf_=Ye,this.total_+=R}digest(){const P=[];let R=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let G=this.blockSize-1;G>=56;G--)this.buf_[G]=255&R,R/=256;this.compress_(this.buf_);let te=0;for(let G=0;G<5;G++)for(let Ge=24;Ge>=0;Ge-=8)P[te]=this.chain_[G]>>Ge&255,++te;return P}}function Os(x,P){const R=new as(x,P);return R.subscribe.bind(R)}class as{constructor(P,R){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=R,this.task.then(()=>{P(this)}).catch(te=>{this.error(te)})}next(P){this.forEachObserver(R=>{R.next(P)})}error(P){this.forEachObserver(R=>{R.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,R,te){let G;if(void 0===P&&void 0===R&&void 0===te)throw new Error("Missing Observer.");G=function Ti(x,P){if("object"!=typeof x||null===x)return!1;for(const R of P)if(R in x&&"function"==typeof x[R])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:R,complete:te},void 0===G.next&&(G.next=vn),void 0===G.error&&(G.error=vn),void 0===G.complete&&(G.complete=vn);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),Ge}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let R=0;R<this.observers.length;R++)this.sendOne(R,P)}sendOne(P,R){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{R(this.observers[P])}catch(te){typeof console<"u"&&console.error&&console.error(te)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vn(){}function zt(x,P){return`${x} failed: ${P} argument `}const Ns=function(x){const P=[];let R=0;for(let te=0;te<x.length;te++){let G=x.charCodeAt(te);if(G>=55296&&G<=56319){const Ge=G-55296;te++,U(te<x.length,"Surrogate pair missing trail surrogate."),G=65536+(Ge<<10)+(x.charCodeAt(te)-56320)}G<128?P[R++]=G:G<2048?(P[R++]=G>>6|192,P[R++]=63&G|128):G<65536?(P[R++]=G>>12|224,P[R++]=G>>6&63|128,P[R++]=63&G|128):(P[R++]=G>>18|240,P[R++]=G>>12&63|128,P[R++]=G>>6&63|128,P[R++]=63&G|128)}return P},Vn=function(x){let P=0;for(let R=0;R<x.length;R++){const te=x.charCodeAt(R);te<128?P++:te<2048?P+=2:te>=55296&&te<=56319?(P+=4,R++):P+=3}return P},Ah=1e3,Qt=2,ao=144e5,ls=.5;function bl(x,P=Ah,R=Qt){const te=P*Math.pow(R,x),G=Math.round(ls*te*(Math.random()-.5)*2);return Math.min(ao,te+G)}function uo(x){return x&&x._delegate?x._delegate:x}},687:(Xe,he,M)=>{var l=M(4946);let U=null;function X(){return U}class se{}const fe=new l.OlP("DocumentToken");let Pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(ye)},providedIn:"platform"}),n})();const Be=new l.OlP("Location Initialized");let ye=(()=>{class n extends Pe{constructor(){super(),this._doc=(0,l.f3M)(fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(t){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function F(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function N(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $(n){return n&&"?"!==n[0]?"?"+n:n}let Ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(We)},providedIn:"root"}),n})();const ve=new l.OlP("appBaseHref");let We=(()=>{class n extends Ae{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return F(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const u=this.prepareExternalUrl(i+$(o));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,o){const u=this.prepareExternalUrl(i+$(o));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe),l.LFG(ve,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),et=(()=>{class n extends Ae{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=F(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let u=this.prepareExternalUrl(i+$(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,o){let u=this.prepareExternalUrl(i+$(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pe),l.LFG(ve,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),me=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ne(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(N(ct(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$(r))}normalize(t){return n.stripTrailingSlash(function nt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ct(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=$,n.joinWithSlash=F,n.stripTrailingSlash=N,n.\u0275fac=function(t){return new(t||n)(l.LFG(Ae))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ee(){return new me((0,l.LFG)(Ae))}()},providedIn:"root"}),n})();function ct(n){return n.replace(/\/index.html$/,"")}function $r(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const Ko=/\s+/,jg=[];let ur=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=jg,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Ko):jg}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Ko):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Ko).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class rb{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new rb(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===o?void 0:o);else if(null!==o){const f=r.get(o);r.move(f,u),qg(f,i)}});for(let i=0,o=r.length;i<o;i++){const f=r.get(i).context;f.index=i,f.count=o,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{qg(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function qg(n,e){n.context.$implicit=e.item}let dr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ib,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sb("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sb("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ib{constructor(){this.$implicit=null,this.ngIf=null}}function sb(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let cs=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),u=-1===i.indexOf("-")?void 0:l.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,u):this._renderer.removeStyle(this._ngEl.nativeElement,i,u)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),ks=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const wn="browser";function Rs(n){return n===wn}function Qg(n){return"server"===n}let El=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new us((0,l.LFG)(fe),window)}),n})();class us{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function gb(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Il(this.window.history)||Il(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Il(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ds{}class $A extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Rh extends $A{static makeCurrent(){!function Y(n){U||(U=n)}(new Rh)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function WA(){return Al=Al||document.querySelector("base"),Al?Al.getAttribute("href"):null}();return null==t?null:function qA(n){Dl=Dl||document.createElement("a"),Dl.setAttribute("href",n);const e=Dl.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Al=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $r(document.cookie,e)}}let Dl,Al=null,Tb=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Fh=new l.OlP("EventManagerPlugins");let Wt=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Fh),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Eb{constructor(e){this._doc=e}}const Ml="ng-app-id";let Mr=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qg(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Ml}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Ml),o;{const u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=r,this.platformIsServer&&u.setAttribute(Ml,this.appId),u}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,u=o.get(r)?.elements;u?u.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const om={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Lh=/%COMP%/g,QA=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Sb(n,e){return e.map(t=>t.replace(Lh,n))}let am=(()=>{class n{constructor(t,r,i,o,u,f,g,_=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.doc=u,this.platformId=f,this.ngZone=g,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=Qg(f),this.defaultRenderer=new Vh(t,u,g,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===l.ifc.ShadowDom&&(r={...r,encapsulation:l.ifc.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Pb?i.applyToHost(t):i instanceof Mb&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const u=this.doc,f=this.ngZone,g=this.eventManager,_=this.sharedStylesHost,v=this.removeStylesOnCompDestory,w=this.platformIsServer;switch(r.encapsulation){case l.ifc.Emulated:o=new Pb(g,_,r,this.appId,v,u,f,w);break;case l.ifc.ShadowDom:return new Db(g,_,t,r,u,f,this.nonce,w);default:o=new Mb(g,_,r,v,u,f,w)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wt),l.LFG(Mr),l.LFG(l.AFp),l.LFG(QA),l.LFG(fe),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Vh{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(om[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(it(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(it(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new l.vHH(5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=om[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=om[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=X().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function it(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Db extends Vh{constructor(e,t,r,i,o,u,f,g){super(e,o,u,g),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=Sb(i.id,i.styles);for(const v of _){const w=document.createElement("style");f&&w.setAttribute("nonce",f),w.textContent=v,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Mb extends Vh{constructor(e,t,r,i,o,u,f,g){super(e,o,u,f),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=g?Sb(g,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Pb extends Mb{constructor(e,t,r,i,o,u,f,g){const _=i+"-"+r.id;super(e,t,r,o,u,f,g,_),this.contentAttr=function fo(n){return"_ngcontent-%COMP%".replace(Lh,n)}(_),this.hostAttr=function Ib(n){return"_nghost-%COMP%".replace(Lh,n)}(_)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let YA=(()=>{class n extends Eb{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const xb=["alt","control","meta","shift"],Ob={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Pl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let JA=(()=>{class n extends Eb{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),u=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>X().onAndCancel(t,o.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let u="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),u="code."),xb.forEach(_=>{const v=r.indexOf(_);v>-1&&(r.splice(v,1),u+=_+".")}),u+=o,0!=r.length||0===o.length)return null;const g={};return g.domEventName=i,g.fullKey=u,g}static matchEventFullKeyCode(t,r){let i=Ob[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),xb.forEach(u=>{u!==i&&(0,Pl[u])(t)&&(o+=u+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const sr=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:wn},{provide:l.g9A,useValue:function ie(){Rh.makeCurrent()},multi:!0},{provide:fe,useFactory:function kb(){return(0,l.RDi)(document),document},deps:[]}]),Rb=new l.OlP(""),xl=[{provide:l.rWj,useClass:class fs{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new l.vHH(5103,!1);return o},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let o=i.length,u=!1;const f=function(g){u=u||g,o--,0==o&&r(u)};i.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?X().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],ji=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function St(){return new l.qLn},deps:[]},{provide:Fh,useClass:YA,multi:!0,deps:[fe,l.R0b,l.Lbi]},{provide:Fh,useClass:JA,multi:!0,deps:[fe]},am,Mr,Wt,{provide:l.FYo,useExisting:am},{provide:ds,useClass:Tb,deps:[]},[]];let cm=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rb,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...ji,...xl],imports:[ks,l.hGG]}),n})(),pr=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Lb(){return new pr((0,l.LFG)(fe))}(),r},providedIn:"root"}),n})();function fm(n){return Array.isArray(n)?n:[n]}typeof window<"u"&&window;var Vs=M(8645),Kr=M(5592);const{isArray:Uh}=Array,{getPrototypeOf:gm,prototype:zb,keys:jb}=Object;function $b(n){if(1===n.length){const e=n[0];if(Uh(e))return{args:e,keys:null};if(function kl(n){return n&&"object"==typeof n&&gm(n)===zb}(e)){const t=jb(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Cn=M(2459),bu=M(2737),kt=M(7398);const{isArray:mm}=Array;function _m(n){return(0,kt.U)(e=>function Z3(n,e){return mm(e)?n(...e):n(e)}(n,e))}var wu=M(4564);function s1(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var ci=M(8251),Wb=M(7103);function na(...n){const e=(0,wu.yG)(n),t=(0,wu.jO)(n),{args:r,keys:i}=$b(n);if(0===r.length)return(0,Cn.D)([],e);const o=new Kr.y(function o1(n,e,t=bu.y){return r=>{Cu(e,()=>{const{length:i}=n,o=new Array(i);let u=i,f=i;for(let g=0;g<i;g++)Cu(e,()=>{const _=(0,Cn.D)(n[g],e);let v=!1;_.subscribe((0,ci.x)(r,w=>{o[g]=w,v||(v=!0,f--),f||r.next(t(o.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>s1(i,u):bu.y));return t?o.pipe(_m(t)):o}function Cu(n,e,t){n?(0,Wb.f)(t,n,e):e()}var ra=M(7537);function ym(...n){return function Hh(){return(0,ra.J)(1)}()((0,Cn.D)(n,(0,wu.yG)(n)))}var Bs=M(6232),Pr=M(9360);function ia(n){return n<=0?()=>Bs.E:(0,Pr.e)((e,t)=>{let r=0;e.subscribe((0,ci.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Gn(n,e){return(0,Pr.e)((t,r)=>{let i=0;t.subscribe((0,ci.x)(r,o=>n.call(e,o,i++)&&r.next(o)))})}var Rl=M(7394);class vm extends Rl.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Tu={setInterval(n,e,...t){const{delegate:r}=Tu;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Tu;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var bm=M(9039);class Gh extends vm{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Tu.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Tu.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,bm.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const qb={now:()=>(qb.delegate||Date).now(),delegate:void 0};class Fl{constructor(e,t=Fl.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Fl.now=qb.now;class wm extends Fl{constructor(e,t=Fl.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Cm=new wm(Gh);function Eu(...n){const e=(0,wu.yG)(n);return(0,Pr.e)((t,r)=>{(e?ym(n,t,e):ym(n,t)).subscribe(r)})}var $i=M(4829),u1=M(2420);function Zb(n){return(0,Pr.e)((e,t)=>{(0,$i.Xf)(n).subscribe((0,ci.x)(t,()=>t.complete(),u1.Z)),!t.closed&&e.subscribe(t)})}let zh;try{zh=typeof Intl<"u"&&Intl.v8BreakIterator}catch{zh=!1}let Ll=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Rs(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!zh)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const h1=new Set;let Bl,Su=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):tV}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function eV(n,e){if(!h1.has(n))try{Bl||(Bl=document.createElement("style"),e&&(Bl.nonce=e),Bl.setAttribute("type","text/css"),document.head.appendChild(Bl)),Bl.sheet&&(Bl.sheet.insertRule(`@media ${n} {body{ }}`,0),h1.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ll),l.LFG(l.Ojb,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tV(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let zn=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Vs.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Qb(fm(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=na(Qb(fm(t)).map(u=>this._registerQuery(u).observable));return o=ym(o.pipe(ia(1)),o.pipe(function a1(n){return Gn((e,t)=>n<=t)}(1),function c1(n,e=Cm){return(0,Pr.e)((t,r)=>{let i=null,o=null,u=null;const f=()=>{if(i){i.unsubscribe(),i=null;const _=o;o=null,r.next(_)}};function g(){const _=u+n,v=e.now();if(v<_)return i=this.schedule(void 0,_-v),void r.add(i);f()}t.subscribe((0,ci.x)(r,_=>{o=_,u=e.now(),i||(i=e.schedule(g,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{o=i=null}))})}(0))),o.pipe((0,kt.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:_})=>{f.matches=f.matches||g,f.breakpoints[_]=g}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new Kr.y(u=>{const f=g=>this._zone.run(()=>u.next(g));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(Eu(r),(0,kt.U)(({matches:u})=>({query:t,matches:u})),Zb(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Su),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qb(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var Si=M(4674),rt=M(2096),Di=M(5619);const go=(0,M(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Yb(n){return new Kr.y(e=>{(0,$i.Xf)(n()).subscribe(e)})}var nV=M(8407);function Au(n,e){const t=(0,Si.m)(n)?n:()=>n,r=i=>i.error(t());return new Kr.y(e?i=>e.schedule(r,0,i):r)}function Jb(){return(0,Pr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ci.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Qr extends Kr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Pr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Rl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ci.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Rl.w0.EMPTY)}return e}refCount(){return Jb()(this)}}var Mi=M(4664),Tn=M(1631);function Em(n){return(0,Pr.e)((e,t)=>{let r=!1;e.subscribe((0,ci.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Im(n=f1){return(0,Pr.e)((e,t)=>{let r=!1;e.subscribe((0,ci.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function f1(){return new go}function aa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gn((i,o)=>n(i,o,r)):bu.y,ia(1),t?Em(e):Im(()=>new go))}function Ul(n,e){return(0,Si.m)(e)?(0,Tn.z)(n,e,1):(0,Tn.z)(n,1)}function gr(n,e,t){const r=(0,Si.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,Pr.e)((i,o)=>{var u;null===(u=r.subscribe)||void 0===u||u.call(r);let f=!0;i.subscribe((0,ci.x)(o,g=>{var _;null===(_=r.next)||void 0===_||_.call(r,g),o.next(g)},()=>{var g;f=!1,null===(g=r.complete)||void 0===g||g.call(r),o.complete()},g=>{var _;f=!1,null===(_=r.error)||void 0===_||_.call(r,g),o.error(g)},()=>{var g,_;f&&(null===(g=r.unsubscribe)||void 0===g||g.call(r)),null===(_=r.finalize)||void 0===_||_.call(r)}))}):bu.y}function la(n){return(0,Pr.e)((e,t)=>{let o,r=null,i=!1;r=e.subscribe((0,ci.x)(t,void 0,void 0,u=>{o=(0,$i.Xf)(n(u,la(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Hl(n){return n<=0?()=>Bs.E:(0,Pr.e)((e,t)=>{let r=[];e.subscribe((0,ci.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Du(n){return(0,Pr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ut="primary",Mu=Symbol("RouteTitle");class Xb{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function mo(n){return new Xb(n)}function qh(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const u=r[o],f=n[o];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function gs(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!tw(n[i],e[i]))return!1;return!0}function tw(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function ca(n){return n.length>0?n[n.length-1]:null}function Pi(n){return function Ai(n){return!!n&&(n instanceof Kr.y||(0,Si.m)(n.lift)&&(0,Si.m)(n.subscribe))}(n)?n:(0,l.QGY)(n)?(0,Cn.D)(Promise.resolve(n)):(0,rt.of)(n)}const m1={exact:function v1(n,e,t){if(!_o(n.segments,e.segments)||!ua(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!v1(n.children[r],e.children[r],t))return!1;return!0},subset:nw},_1={exact:function y1(n,e){return gs(n,e)},subset:function b1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>tw(n[t],e[t]))},ignored:()=>!0};function Am(n,e,t){return m1[t.paths](n.root,e.root,t.matrixParams)&&_1[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function nw(n,e,t){return rw(n,e,e.segments,t)}function rw(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!_o(i,t)||e.hasChildren()||!ua(i,t,r))}if(n.segments.length===t.length){if(!_o(n.segments,t)||!ua(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!nw(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(_o(n.segments,i)&&ua(n.segments,i,r)&&n.children[ut])&&rw(n.children[ut],e,o,r)}}function ua(n,e,t){return e.every((r,i)=>_1[t](n[i].parameters,r.parameters))}class da{constructor(e=new Gt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mo(this.queryParams)),this._queryParamMap}toString(){return Mm.serialize(this)}}class Gt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pm(this)}}class Gl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=mo(this.parameters)),this._parameterMap}toString(){return sw(this)}}function _o(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Pu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Dm},providedIn:"root"}),n})();class Dm{parse(e){const t=new ms(e);return new da(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Zh(e.root,!0)}`,r=function Nm(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${xm(t)}=${xm(i)}`).join("&"):`${xm(t)}=${xm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function sV(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Mm=new Dm;function Pm(n){return n.segments.map(e=>sw(e)).join("/")}function Zh(n,e){if(!n.hasChildren())return Pm(n);if(e){const t=n.children[ut]?Zh(n.children[ut],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ut&&r.push(`${i}:${Zh(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function iV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ut&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ut&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===ut?[Zh(n.children[ut],!1)]:[`${i}:${Zh(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ut]?`${Pm(n)}/${t[0]}`:`${Pm(n)}/(${t.join("//")})`}}function Kh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xm(n){return Kh(n).replace(/%3B/gi,";")}function iw(n){return Kh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Om(n){return decodeURIComponent(n)}function w1(n){return Om(n.replace(/\+/g,"%20"))}function sw(n){return`${iw(n.path)}${function Qh(n){return Object.keys(n).map(e=>`;${iw(e)}=${iw(n[e])}`).join("")}(n.parameters)}`}const ow=/^[^\/()?;#]+/;function Yh(n){const e=n.match(ow);return e?e[0]:""}const aw=/^[^\/()?;=#]+/,lw=/^[^=?&#]+/,Jh=/^[^&#]+/;class ms{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ut]=new Gt(e,t)),r}parseSegment(){const e=Yh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new Gl(Om(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function zl(n){const e=n.match(aw);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Yh(this.remaining);i&&(r=i,this.capture(r))}e[Om(t)]=Om(r)}parseQueryParam(e){const t=function cw(n){const e=n.match(lw);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function Xh(n){const e=n.match(Jh);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=w1(t),o=w1(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Yh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ut);const u=this.parseChildren();t[o]=1===Object.keys(u).length?u[ut]:new Gt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function uw(n){return n.segments.length>0?new Gt([],{[ut]:n}):n}function dw(n){const e={};for(const r of Object.keys(n.children)){const o=dw(n.children[r]);if(r===ut&&0===o.segments.length&&o.hasChildren())for(const[u,f]of Object.entries(o.children))e[u]=f;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function C1(n){if(1===n.numberOfChildren&&n.children[ut]){const e=n.children[ut];return new Gt(n.segments.concat(e.segments),e.children)}return n}(new Gt(n.segments,e))}function yo(n){return n instanceof da}function hw(n){let e;const i=uw(function t(o){const u={};for(const g of o.children){const _=t(g);u[g.outlet]=_}const f=new Gt(o.url,u);return o===n&&(e=f),f}(n.root));return e??i}function fw(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return Rm(i,i,i,t,r);const o=function Fm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new xr(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return Object.entries(o.outlets).forEach(([g,_])=>{f[g]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===u?(o.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,o]},[]);return new xr(t,e,r)}(e);if(o.toRoot())return Rm(i,i,new Gt([],{}),t,r);const u=function Lm(n,e,t){if(n.isAbsolute)return new xu(e,!0,0);if(!t)return new xu(e,!1,NaN);if(null===t.parent)return new xu(t,!0,0);const r=ef(n.commands[0])?0:1;return function mr(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new xu(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),f=u.processChildren?$l(u.segmentGroup,u.index,o.commands):Vm(u.segmentGroup,u.index,o.commands);return Rm(i,u.segmentGroup,f,t,r)}function ef(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jl(n){return"object"==typeof n&&null!=n&&n.outlets}function Rm(n,e,t,r,i){let u,o={};r&&Object.entries(r).forEach(([g,_])=>{o[g]=Array.isArray(_)?_.map(v=>`${v}`):`${_}`}),u=n===e?t:pw(n,e,t);const f=uw(dw(u));return new da(f,o,i)}function pw(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:pw(o,e,t)}),new Gt(n.segments,r)}class xr{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ef(r[0]))throw new l.vHH(4003,!1);const i=r.find(jl);if(i&&i!==ca(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Vm(n,e,t){if(n||(n=new Gt([],{})),0===n.segments.length&&n.hasChildren())return $l(n,e,t);const r=function T1(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const u=n.segments[i],f=t[r];if(jl(f))break;const g=`${f}`,_=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&_&&"object"==typeof _&&void 0===_.outlets){if(!gw(g,_,u))return o;r+=2}else{if(!gw(g,{},u))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Gt(n.segments.slice(0,r.pathIndex),{});return o.children[ut]=new Gt(n.segments.slice(r.pathIndex),n.children),$l(o,0,i)}return r.match&&0===i.length?new Gt(n.segments,{}):r.match&&!n.hasChildren()?tf(n,e,t):r.match?$l(n,0,i):tf(n,e,t)}function $l(n,e,t){if(0===t.length)return new Gt(n.segments,{});{const r=function Ou(n){return jl(n[0])?n[0].outlets:{[ut]:n}}(t),i={};if(!r[ut]&&n.children[ut]&&1===n.numberOfChildren&&0===n.children[ut].segments.length){const o=$l(n.children[ut],e,t);return new Gt(n.segments,o.children)}return Object.entries(r).forEach(([o,u])=>{"string"==typeof u&&(u=[u]),null!==u&&(i[o]=Vm(n.children[o],e,u))}),Object.entries(n.children).forEach(([o,u])=>{void 0===r[o]&&(i[o]=u)}),new Gt(n.segments,i)}}function tf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(jl(o)){const g=E1(o.outlets);return new Gt(r,g)}if(0===i&&ef(t[0])){r.push(new Gl(n.segments[e].path,Bm(t[0]))),i++;continue}const u=jl(o)?o.outlets[ut]:`${o}`,f=i<t.length-1?t[i+1]:null;u&&f&&ef(f)?(r.push(new Gl(u,Bm(f))),i+=2):(r.push(new Gl(u,{})),i++)}return new Gt(r,{})}function E1(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=tf(new Gt([],{}),0,r))}),e}function Bm(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function gw(n,e,t){return n==t.path&&gs(e,t.parameters)}const Wl="imperative";class _s{constructor(e,t){this.id=e,this.url=t}}class nf extends _s{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Wi extends _s{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ql extends _s{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nu extends _s{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class ha extends _s{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class I1 extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class S1 extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mw extends _s{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _w extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yw extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zl{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rf{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Um{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sf{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A1{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bw{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class D1{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ku,this.attachRef=null}}let ku=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new D1,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ww{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=af(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=af(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ru(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ru(e,this._root).map(t=>t.value)}}function af(n,e){if(n===e.value)return e;for(const t of e.children){const r=af(n,t);if(r)return r}return null}function Ru(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ru(n,t);if(r.length)return r.unshift(e),r}return[]}class ys{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function vo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Cw extends ww{constructor(e,t){super(e),this.snapshot=t,Sw(this,e)}toString(){return this.snapshot.toString()}}function Tw(n,e){const t=function Hm(n,e){const u=new Fu([],{},{},"",{},ut,e,null,{});return new Iw("",new ys(u,[]))}(0,e),r=new Di.X([new Gl("",{})]),i=new Di.X({}),o=new Di.X({}),u=new Di.X({}),f=new Di.X(""),g=new bo(r,i,u,f,o,ut,e,t.root);return g.snapshot=t.root,new Cw(new ys(g,[]),t)}class bo{constructor(e,t,r,i,o,u,f,g){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=u,this.component=f,this._futureSnapshot=g,this.title=this.dataSubject?.pipe((0,kt.U)(_=>_[Mu]))??(0,rt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,kt.U)(e=>mo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,kt.U)(e=>mo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wo(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Ew(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Fu{get title(){return this.data?.[Mu]}constructor(e,t,r,i,o,u,f,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=f,this.routeConfig=g,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Iw extends ww{constructor(e,t){super(t),this.url=e,Sw(this,t)}toString(){return Lu(this._root)}}function Sw(n,e){e.value._routerState=n,e.children.forEach(t=>Sw(n,t))}function Lu(n){const e=n.children.length>0?` { ${n.children.map(Lu).join(", ")} } `:"";return`${n.value}${e}`}function Gm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gs(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),gs(e.params,t.params)||n.paramsSubject.next(t.params),function ew(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),gs(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function lf(n,e){const t=gs(n.params,e.params)&&function rV(n,e){return _o(n,e)&&n.every((t,r)=>gs(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||lf(n.parent,e.parent))}let cf=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ut,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(ku),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(Kl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=t;const i=this.location,u=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,g=new Aw(t,f,i.injector);this.activated=i.createComponent(u,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class Aw{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===bo?this.route:e===ku?this.childContexts:this.parent.get(e,t)}}const Kl=new l.OlP("");let zm=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=na([r.queryParams,r.params,r.data]).pipe((0,Mi.w)(([o,u,f],g)=>(f={...o,...u,...f},0===g?(0,rt.of)(f):Promise.resolve(f)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const u=(0,l.qFp)(r.component);if(u)for(const{templateName:f}of u.inputs)t.activatedComponentRef.setInput(f,o[f]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Hs(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Dw(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Hs(n,r,i);return Hs(n,r)})}(n,e,t);return new ys(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Hs(n,f)),u}}const r=function jm(n){return new bo(new Di.X(n.url),new Di.X(n.params),new Di.X(n.queryParams),new Di.X(n.fragment),new Di.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Hs(n,o));return new ys(r,i)}}const Ql="ngNavigationCancelingError";function $m(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=yo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=df(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function df(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Ql]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Yl(n){return Mw(n)&&yo(n.url)}function Mw(n){return n&&n[Ql]}let Wm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[cf],encapsulation:2}),n})();function qm(n){const e=n.children&&n.children.map(qm),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ut&&(t.component=Wm),t}function vs(n){return n.outlet||ut}function fa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ff{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Gm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=vo(t);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,i[u],r),delete i[u]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=vo(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=vo(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=vo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new A1(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Um(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Gm(i),i===o)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Gm(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=fa(i.snapshot);u.attachRef=null,u.route=i,u.injector=f,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class pf{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Bu{constructor(e,t){this.component=e,this.route=t}}function xw(n,e,t){const r=n._root;return Uu(r,e?e._root:null,t,[r.value])}function pa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function Uu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=vo(e);return n.children.forEach(u=>{(function k1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const g=function R1(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!_o(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_o(n.url,e.url)||!gs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lf(n,e)||!gs(n.queryParams,e.queryParams);default:return!lf(n,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new pf(r)):(o.data=u.data,o._resolvedData=u._resolvedData),Uu(n,e,o.component?f?f.children:null:t,r,i),g&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Bu(f.outlet.component,u))}else u&&Hu(e,f,i),i.canActivateChecks.push(new pf(r)),Uu(n,null,o.component?f?f.children:null:t,r,i)})(u,o[u.value.outlet],t,r.concat([u.value]),i),delete o[u.value.outlet]}),Object.entries(o).forEach(([u,f])=>Hu(f,t.getContext(u),i)),i}function Hu(n,e,t){const r=vo(n),i=n.value;Object.entries(r).forEach(([o,u])=>{Hu(u,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Bu(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gu(n){return"function"==typeof n}function Zm(n){return n instanceof go||"EmptyError"===n?.name}const gf=Symbol("INITIAL_VALUE");function Xl(){return(0,Mi.w)(n=>na(n.map(e=>e.pipe(ia(1),Eu(gf)))).pipe((0,kt.U)(e=>{for(const t of e)if(!0!==t){if(t===gf)return gf;if(!1===t||t instanceof da)return t}return!0}),Gn(e=>e!==gf),ia(1)))}function B1(n){return(0,nV.z)(gr(e=>{if(yo(e))throw $m(0,e)}),(0,kt.U)(e=>!0===e))}class ec{constructor(e){this.segmentGroup=e||null}}class mf{constructor(e){this.urlTree=e}}function $u(n){return Au(new ec(n))}function U1(n){return Au(new mf(n))}class G1{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new l.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,rt.of)(r);if(i.numberOfChildren>1||!i.children[ut])return Au(new l.vHH(4e3,!1));i=i.children[ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new da(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const f=o.substring(1);r[i]=t[f]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let u={};return Object.entries(t.children).forEach(([f,g])=>{u[f]=this.createSegmentGroup(e,g,r,i)}),new Gt(o,u)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const Qm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function z1(n,e,t,r,i){const o=_f(n,e,t);return o.matched?(r=function M1(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function gV(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,rt.of)(!0);const o=i.map(u=>{const f=pa(u,n);return Pi(function hV(n){return n&&Gu(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))});return(0,rt.of)(o).pipe(Xl(),B1())}(r,e,t).pipe((0,kt.U)(u=>!0===u?o:{...Qm}))):(0,rt.of)(o)}function _f(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Qm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qh)(t,n,e);if(!i)return{...Qm};const o={};Object.entries(i.posParams??{}).forEach(([f,g])=>{o[f]=g.path});const u=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Wu(n,e,t,r){return t.length>0&&function $1(n,e,t){return t.some(r=>yf(n,e,r)&&vs(r)!==ut)}(n,t,r)?{segmentGroup:new Gt(e,Ym(r,new Gt(t,n.children))),slicedSegments:[]}:0===t.length&&function xn(n,e,t){return t.some(r=>yf(n,e,r))}(n,t,r)?{segmentGroup:new Gt(n.segments,j1(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Gt(n.segments,n.children),slicedSegments:t}}function j1(n,e,t,r,i){const o={};for(const u of r)if(yf(n,t,u)&&!i[vs(u)]){const f=new Gt([],{});o[vs(u)]=f}return{...i,...o}}function Ym(n,e){const t={};t[ut]=e;for(const r of n)if(""===r.path&&vs(r)!==ut){const i=new Gt([],{});t[vs(r)]=i}return t}function yf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class q1{constructor(e,t,r,i,o,u,f){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=u,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new G1(this.urlSerializer,this.urlTree)}noMatchError(e){return new l.vHH(4002,!1)}recognize(){const e=Wu(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ut).pipe(la(t=>{if(t instanceof mf)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof ec?this.noMatchError(t):t}),(0,kt.U)(t=>{const r=new Fu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ut,this.rootComponentType,null,{}),i=new ys(r,t),o=new Iw("",i),u=function km(n,e,t=null,r=null){return fw(hw(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(u),this.inheritParamsAndData(o._root),{state:o,tree:u}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,ut).pipe(la(r=>{throw r instanceof ec?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=wo(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,Cn.D)(i).pipe(Ul(o=>{const u=r.children[o],f=function N1(n,e){const t=n.filter(r=>vs(r)===e);return t.push(...n.filter(r=>vs(r)!==e)),t}(t,o);return this.processSegmentGroup(e,f,u,o)}),function Sm(n,e){return(0,Pr.e)(function p1(n,e,t,r,i){return(o,u)=>{let f=t,g=e,_=0;o.subscribe((0,ci.x)(u,v=>{const w=_++;g=f?n(g,v,w):(f=!0,v),r&&u.next(g)},i&&(()=>{f&&u.next(g),u.complete()})))}}(n,e,arguments.length>=2,!0))}((o,u)=>(o.push(...u),o)),Em(null),function g1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gn((i,o)=>n(i,o,r)):bu.y,Hl(1),t?Em(e):Im(()=>new go))}(),(0,Tn.z)(o=>{if(null===o)return $u(r);const u=Bw(o);return function Z1(n){n.sort((e,t)=>e.value.outlet===ut?-1:t.value.outlet===ut?1:e.value.outlet.localeCompare(t.value.outlet))}(u),(0,rt.of)(u)}))}processSegment(e,t,r,i,o,u){return(0,Cn.D)(t).pipe(Ul(f=>this.processSegmentAgainstRoute(f._injector??e,t,f,r,i,o,u).pipe(la(g=>{if(g instanceof ec)return(0,rt.of)(null);throw g}))),aa(f=>!!f),la(f=>{if(Zm(f))return function Lw(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?(0,rt.of)([]):$u(r);throw f}))}processSegmentAgainstRoute(e,t,r,i,o,u,f){return function W1(n,e,t,r){return!!(vs(n)===r||r!==ut&&yf(e,t,n))&&("**"===n.path||_f(e,n,t).matched)}(r,i,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,u,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,u):$u(i):$u(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?U1(o):this.applyRedirects.lineralizeSegments(r,o).pipe((0,Tn.z)(u=>{const f=new Gt(u,{});return this.processSegment(e,t,f,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u){const{matched:f,consumedSegments:g,remainingSegments:_,positionalParamSegments:v}=_f(t,i,o);if(!f)return $u(t);const w=this.applyRedirects.applyRedirectCommands(g,i.redirectTo,v);return i.redirectTo.startsWith("/")?U1(w):this.applyRedirects.lineralizeSegments(i,w).pipe((0,Tn.z)(E=>this.processSegment(e,r,t,E.concat(_),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,u){let f;if("**"===r.path){const g=i.length>0?ca(i).parameters:{},_=new Fu(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Y1(r),vs(r),r.component??r._loadedComponent??null,r,J1(r));f=(0,rt.of)({snapshot:_,consumedSegments:[],remainingSegments:[]}),t.children={}}else f=z1(t,r,i,e).pipe((0,kt.U)(({matched:g,consumedSegments:_,remainingSegments:v,parameters:w})=>g?{snapshot:new Fu(_,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Y1(r),vs(r),r.component??r._loadedComponent??null,r,J1(r)),consumedSegments:_,remainingSegments:v}:null));return f.pipe((0,Mi.w)(g=>null===g?$u(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,Mi.w)(({routes:_})=>{const v=r._loadedInjector??e,{snapshot:w,consumedSegments:E,remainingSegments:A}=g,{segmentGroup:k,slicedSegments:z}=Wu(t,E,A,_);if(0===z.length&&k.hasChildren())return this.processChildren(v,_,k).pipe((0,kt.U)(Te=>null===Te?null:[new ys(w,Te)]));if(0===_.length&&0===z.length)return(0,rt.of)([new ys(w,[])]);const Z=vs(r)===o;return this.processSegment(v,_,k,z,Z?ut:o,!0).pipe((0,kt.U)(Te=>[new ys(w,Te)]))}))))}getChildConfig(e,t,r){return t.children?(0,rt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,rt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function pV(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,rt.of)(!0);const o=i.map(u=>{const f=pa(u,n);return Pi(function zu(n){return n&&Gu(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))});return(0,rt.of)(o).pipe(Xl(),B1())}(e,t,r).pipe((0,Tn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(gr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function H1(n){return Au(df(!1,3))}())):(0,rt.of)({routes:[],injector:e})}}function K1(n){const e=n.value.routeConfig;return e&&""===e.path}function Bw(n){const e=[],t=new Set;for(const r of n){if(!K1(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Bw(r.children);e.push(new ys(r.value,i))}return e.filter(r=>!t.has(r))}function Y1(n){return n.data||{}}function J1(n){return n.resolve||{}}function vf(n){return"string"==typeof n.title||null===n.title}function Jm(n){return(0,Mi.w)(e=>{const t=n(e);return t?(0,Cn.D)(t).pipe((0,kt.U)(()=>e)):(0,rt.of)(e)})}const ga=new l.OlP("ROUTES");let bf=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,rt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Pi(t.loadComponent()).pipe((0,kt.U)(X1),gr(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Du(()=>{this.componentLoaders.delete(t)})),i=new Qr(r,()=>new Vs.x).pipe(Jb());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,rt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,kt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,_;return Array.isArray(f)?_=f:(g=f.create(t).injector,_=g.get(ga,[],l.XFs.Self|l.XFs.Optional).flat()),{routes:_.map(qm),injector:g}}),Du(()=>{this.childrenLoaders.delete(r)})),u=new Qr(o,()=>new Vs.x).pipe(Jb());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return Pi(t()).pipe((0,kt.U)(X1),(0,Tn.z)(r=>r instanceof l.YKP||Array.isArray(r)?(0,rt.of)(r):(0,Cn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X1(n){return function Xm(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let tc=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Vs.x,this.configLoader=(0,l.f3M)(bf),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Pu),this.rootContexts=(0,l.f3M)(ku),this.inputBindingEnabled=null!==(0,l.f3M)(Kl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,rt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new rf(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Zl(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Di.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wl,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gn(r=>0!==r.id),(0,kt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,Mi.w)(r=>{let i=!1,o=!1;return(0,rt.of)(r).pipe(gr(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Mi.w)(u=>{const f=t.browserUrlTree.toString(),g=!t.navigated||u.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!g&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const v="";return this.events.next(new Nu(u.id,t.serializeUrl(r.rawUrl),v,0)),t.rawUrlTree=u.rawUrl,u.resolve(null),Bs.E}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return zw(u.source)&&(t.browserUrlTree=u.extractedUrl),(0,rt.of)(u).pipe((0,Mi.w)(v=>{const w=this.transitions?.getValue();return this.events.next(new nf(v.id,this.urlSerializer.serialize(v.extractedUrl),v.source,v.restoredState)),w!==this.transitions?.getValue()?Bs.E:Promise.resolve(v)}),function qu(n,e,t,r,i,o){return(0,Tn.z)(u=>function Vw(n,e,t,r,i,o,u="emptyOnly"){return new q1(n,e,t,r,i,u,o).recognize()}(n,e,t,r,u.extractedUrl,i,o).pipe((0,kt.U)(({state:f,tree:g})=>({...u,targetSnapshot:f,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),gr(v=>{if(r.targetSnapshot=v.targetSnapshot,r.urlAfterRedirects=v.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:v.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!v.extras.skipLocationChange){const E=t.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);t.setBrowserUrl(E,v)}t.browserUrlTree=v.urlAfterRedirects}const w=new I1(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(w)}));if(g&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:v,extractedUrl:w,source:E,restoredState:A,extras:k}=u,z=new nf(v,this.urlSerializer.serialize(w),E,A);this.events.next(z);const Z=Tw(0,this.rootComponentType).snapshot;return r={...u,targetSnapshot:Z,urlAfterRedirects:w,extras:{...k,skipLocationChange:!1,replaceUrl:!1}},(0,rt.of)(r)}{const v="";return this.events.next(new Nu(u.id,t.serializeUrl(r.extractedUrl),v,1)),t.rawUrlTree=u.rawUrl,u.resolve(null),Bs.E}}),gr(u=>{const f=new S1(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),(0,kt.U)(u=>r={...u,guards:xw(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function L1(n,e){return(0,Tn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:u}}=t;return 0===u.length&&0===o.length?(0,rt.of)({...t,guardsResult:!0}):function V1(n,e,t,r){return(0,Cn.D)(n).pipe((0,Tn.z)(i=>function Rw(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,rt.of)(!0);const u=o.map(f=>{const g=fa(e)??i,_=pa(f,g);return Pi(function dV(n){return n&&Gu(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,r):g.runInContext(()=>_(n,e,t,r))).pipe(aa())});return(0,rt.of)(u).pipe(Xl())}(i.component,i.route,t,e,r)),aa(i=>!0!==i,!0))}(u,r,i,n).pipe((0,Tn.z)(f=>f&&function Co(n){return"boolean"==typeof n}(f)?function Km(n,e,t,r){return(0,Cn.D)(e).pipe(Ul(i=>ym(function ju(n,e){return null!==n&&e&&e(new vw(n)),(0,rt.of)(!0)}(i.route.parent,r),function Gs(n,e){return null!==n&&e&&e(new sf(n)),(0,rt.of)(!0)}(i.route,r),function kw(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function Ow(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Yb(()=>{const f=u.guards.map(g=>{const _=fa(u.node)??t,v=pa(g,_);return Pi(function uV(n){return n&&Gu(n.canActivateChild)}(v)?v.canActivateChild(r,n):_.runInContext(()=>v(r,n))).pipe(aa())});return(0,rt.of)(f).pipe(Xl())}));return(0,rt.of)(o).pipe(Xl())}(n,i.path,t),function Nw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,rt.of)(!0);const i=r.map(o=>Yb(()=>{const u=fa(e)??t,f=pa(o,u);return Pi(function F1(n){return n&&Gu(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(aa())}));return(0,rt.of)(i).pipe(Xl())}(n,i.route,t))),aa(i=>!0!==i,!0))}(r,o,n,e):(0,rt.of)(f)),(0,kt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,u=>this.events.next(u)),gr(u=>{if(r.guardsResult=u.guardsResult,yo(u.guardsResult))throw $m(0,u.guardsResult);const f=new mw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),Gn(u=>!!u.guardsResult||(t.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Jm(u=>{if(u.guards.canActivateChecks.length)return(0,rt.of)(u).pipe(gr(f=>{const g=new _w(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),(0,Mi.w)(f=>{let g=!1;return(0,rt.of)(f).pipe(function Rt(n,e){return(0,Tn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,rt.of)(t);let o=0;return(0,Cn.D)(i).pipe(Ul(u=>function Zu(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!vf(i)&&(o[Mu]=i.title),function Uw(n,e,t,r){const i=function Hw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,rt.of)({});const o={};return(0,Cn.D)(i).pipe((0,Tn.z)(u=>function Gw(n,e,t,r){const i=fa(e)??r,o=pa(n,i);return Pi(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[u],e,t,r).pipe(aa(),gr(f=>{o[u]=f}))),Hl(1),function Wh(n){return(0,kt.U)(()=>n)}(o),la(u=>Zm(u)?Bs.E:Au(u)))}(o,n,e,r).pipe((0,kt.U)(u=>(n._resolvedData=u,n.data=wo(n,t).resolve,i&&vf(i)&&(n.data[Mu]=i.title),null)))}(u.route,r,n,e)),gr(()=>o++),Hl(1),(0,Tn.z)(u=>o===i.length?(0,rt.of)(t):Bs.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),gr({next:()=>g=!0,complete:()=>{g||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),gr(f=>{const g=new yw(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),Jm(u=>{const f=g=>{const _=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(g.routeConfig).pipe(gr(v=>{g.component=v}),(0,kt.U)(()=>{})));for(const v of g.children)_.push(...f(v));return _};return na(f(u.targetSnapshot.root)).pipe(Em(),ia(1))}),Jm(()=>this.afterPreactivation()),(0,kt.U)(u=>{const f=function uf(n,e,t){const r=Hs(n,e._root,t?t._root:void 0);return new Cw(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return r={...u,targetRouterState:f}}),gr(u=>{t.currentUrlTree=u.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),t.routerState=u.targetRouterState,"deferred"===t.urlUpdateStrategy&&(u.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,u),t.browserUrlTree=u.urlAfterRedirects)}),((n,e,t,r)=>(0,kt.U)(i=>(new ff(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),ia(1),gr({next:u=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Wi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{i=!0}}),Du(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),la(u=>{if(o=!0,Mw(u)){Yl(u)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new ql(r.id,this.urlSerializer.serialize(r.extractedUrl),u.message,u.cancellationCode);if(this.events.next(f),Yl(u)){const g=t.urlHandlingStrategy.merge(u.url,t.rawUrlTree),_={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||zw(r.source)};t.scheduleNavigation(g,Wl,null,_,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new ha(r.id,this.urlSerializer.serialize(r.extractedUrl),u,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(u))}catch(g){r.reject(g)}}return Bs.E}))}))}cancelNavigationTransition(t,r,i){const o=new ql(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zw(n){return n!==Wl}let wf=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ut);return r}getResolvedTitleForRoute(t){return t.data[Mu]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(jw)},providedIn:"root"}),n})(),jw=(()=>{class n extends wf{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(eD)},providedIn:"root"}),n})();class ma{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let eD=(()=>{class n extends ma{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nc=new l.OlP("",{providedIn:"root",factory:()=>({})});let Cf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(tD)},providedIn:"root"}),n})(),tD=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Or=(()=>((Or=Or||{})[Or.COMPLETE=0]="COMPLETE",Or[Or.FAILED=1]="FAILED",Or[Or.REDIRECTING=2]="REDIRECTING",Or))();function Ku(n,e){n.events.pipe(Gn(t=>t instanceof Wi||t instanceof ql||t instanceof ha||t instanceof Nu),(0,kt.U)(t=>t instanceof Wi||t instanceof Nu?Or.COMPLETE:t instanceof ql&&(0===t.code||1===t.code)?Or.REDIRECTING:Or.FAILED),Gn(t=>t!==Or.REDIRECTING),ia(1)).subscribe(()=>{e()})}function _a(n){throw n}function e_(n,e,t){return e.parse("/")}const t_={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(nc,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||_a,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||e_,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Cf),this.routeReuseStrategy=(0,l.f3M)($w),this.titleStrategy=(0,l.f3M)(wf),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(ga,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(tc),this.urlSerializer=(0,l.f3M)(Pu),this.location=(0,l.f3M)(me),this.componentInputBindingEnabled=!!(0,l.f3M)(Kl,{optional:!0}),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new da,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Tw(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Wl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},u=i?.navigationId?i:null;if(i){const g={...i};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(qm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:u,queryParamsHandling:f,preserveFragment:g}=r,_=g?this.currentUrlTree.fragment:u;let w,v=null;switch(f){case"merge":v={...this.currentUrlTree.queryParams,...o};break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=o||null}null!==v&&(v=this.removeEmptyProps(v));try{w=hw(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),w=this.currentUrlTree.root}return fw(w,t,v,_??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=yo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Wl,null,r)}navigate(t,r={skipLocationChange:!1}){return function Ww(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new l.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...t_}:!1===r?{...nD}:r,yo(t))return Am(this.currentUrlTree,t,i);const o=this.parseUrl(t);return Am(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,u){if(this.disposed)return Promise.resolve(!1);let f,g,_;u?(f=u.resolve,g=u.reject,_=u.promise):_=new Promise((w,E)=>{f=w,g=E});const v=this.pendingTasks.add();return Ku(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:f,reject:g,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(w=>Promise.reject(w))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const u={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",u)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kr=(()=>{class n{constructor(t,r,i,o,u,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=u,this.locationStrategy=f,this.href=null,this.commands=null,this.onChanges=new Vs.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const g=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=t.events.subscribe(_=>{_ instanceof Wi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Nr),l.Y36(bo),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ae))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]}),n})(),n_=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,u){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=u,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.vpe,this.routerEventsSubscription=t.events.subscribe(f=>{f instanceof Wi&&this.update()})}ngAfterContentInit(){(0,rt.of)(this.links.changes,(0,rt.of)(null)).pipe((0,ra.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,Cn.D)(t).pipe((0,ra.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function rD(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Nr),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(l.sBO),l.Y36(kr,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,kr,5),2&t){let o;l.iGM(o=l.CRH())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.TTD]}),n})();class qw{}let sD=(()=>{class n{constructor(t,r,i,o,u){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Gn(t=>t instanceof Wi),Ul(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,l.MMx)(o.providers,t,`Route: ${o.path}`));const u=o._injector??t,f=o._loadedInjector??u;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(u,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(f,o.children??o._loadedRoutes))}return(0,Cn.D)(i).pipe((0,ra.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,rt.of)(null);const o=i.pipe((0,Tn.z)(u=>null===u?(0,rt.of)(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,Cn.D)([o,u]).pipe((0,ra.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Nr),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(qw),l.LFG(bf))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tf=new l.OlP("");let Ef=(()=>{class n{constructor(t,r,i,o,u={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof nf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Nu&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function zs(n,e){return{\u0275kind:n,\u0275providers:e}}function Kw(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(Nr),i=n.get(If);1===n.get(Qu)&&r.initialNavigation(),n.get(rc,null,l.XFs.Optional)?.setUpPreloading(),n.get(Tf,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const If=new l.OlP("",{factory:()=>new Vs.x}),Qu=new l.OlP("",{providedIn:"root",factory:()=>1}),rc=new l.OlP("");function Sf(n){return zs(0,[{provide:rc,useExisting:sD},{provide:qw,useExisting:n}])}const Mf=new l.OlP("ROUTER_FORROOT_GUARD"),s_=[me,{provide:Pu,useClass:Dm},Nr,ku,{provide:bo,useFactory:function oD(n){return n.routerState.root},deps:[Nr]},bf,[]];function Jw(){return new l.PXZ("Router",Nr)}let Pf=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[s_,[],{provide:ga,multi:!0,useValue:t},{provide:Mf,useFactory:uD,deps:[[Nr,new l.FiY,new l.tp0]]},{provide:nc,useValue:r||{}},r?.useHash?{provide:Ae,useClass:et}:{provide:Ae,useClass:We},{provide:Tf,useFactory:()=>{const n=(0,l.f3M)(El),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(nc),r=(0,l.f3M)(tc),i=(0,l.f3M)(Pu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Ef(i,r,n,e,t)}},r?.preloadingStrategy?Sf(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:Jw},r?.initialNavigation?dD(r):[],r?.bindToComponentInputs?zs(8,[zm,{provide:Kl,useExisting:zm}]).\u0275providers:[],[{provide:hD,useFactory:Kw},{provide:l.tb,multi:!0,useExisting:hD}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ga,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mf,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function uD(n){return"guarded"}function dD(n){return["disabled"===n.initialNavigation?zs(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(Nr);return()=>{e.setUpLocationChangeListener()}}},{provide:Qu,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?zs(2,[{provide:Qu,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(Be,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Nr),o=e.get(If);Ku(i,()=>{r(!0)}),e.get(tc).afterPreactivation=()=>(r(!0),o.closed?(0,rt.of)(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const hD=new l.OlP("");let iC=(()=>{class n{constructor(t,r){this.document=t,this.platformId=r,this.documentIsAccessible=Rs(this.platformId)}static getCookieRegExp(t){const r=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+r+"|;\\s*"+r+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch{return t}}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),n.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const i=n.getCookieRegExp(t).exec(this.document.cookie);return i[1]?n.safeDecodeURIComponent(i[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},r=this.document;return r.cookie&&""!==r.cookie&&r.cookie.split(";").forEach(i=>{const[o,u]=i.split("=");t[n.safeDecodeURIComponent(o.replace(/^ /,""))]=n.safeDecodeURIComponent(u)}),t}set(t,r,i,o,u,f,g){if(!this.documentIsAccessible)return;if("number"==typeof i||i instanceof Date||o||u||f||g)return void this.set(t,r,{expires:i,path:o,domain:u,secure:f,sameSite:g||"Lax"});let _=encodeURIComponent(t)+"="+encodeURIComponent(r)+";";const v=i||{};v.expires&&(_+="number"==typeof v.expires?"expires="+new Date((new Date).getTime()+1e3*v.expires*60*60*24).toUTCString()+";":"expires="+v.expires.toUTCString()+";"),v.path&&(_+="path="+v.path+";"),v.domain&&(_+="domain="+v.domain+";"),!1===v.secure&&"None"===v.sameSite&&(v.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),v.secure&&(_+="secure;"),v.sameSite||(v.sameSite="Lax"),_+="sameSite="+v.sameSite+";",this.document.cookie=_}delete(t,r,i,o,u="Lax"){this.documentIsAccessible&&this.set(t,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:r,domain:i,secure:o,sameSite:u})}deleteAll(t,r,i,o="Lax"){if(!this.documentIsAccessible)return;const u=this.getAll();for(const f in u)u.hasOwnProperty(f)&&this.delete(f,t,r,i,o)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ya={UKNOWN:"Unknown"},a_={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:ya.UKNOWN},Ju={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Xu={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},To={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:ya.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},ed=[To.PS4,To.CHROME_BOOK,To.MAC,To.DELL,To.ASUS,To.UNKNOWN],gD={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:ya.UKNOWN},ic={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:ya.UKNOWN.toLowerCase()},sc={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},sC={...Ju,...Xu,...sc,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}},l_={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},c_={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},_D=Object.keys(l_).reduce((n,e)=>(n[e]=l_[e],n),{}),u_=Object.keys(c_).reduce((n,e)=>(n[a_[e]]=c_[e],n),{});var qi=Object.freeze({__proto__:null,BROWSERS:a_,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},BROWSER_VERSIONS_RE:u_,BROWSER_VERSIONS_RE_MAP:c_,DESKTOP_DEVICES:ed,DEVICES:To,DEVICES_RE:sC,GENERAL:ya,MOBILES_RE:Ju,OS:gD,OS_RE:sc,OS_VERSIONS:ic,OS_VERSIONS_RE:_D,OS_VERSIONS_RE_MAP:l_,TABLETS_RE:Xu});class d_{constructor(){}test(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.test(e):t&&Array.isArray(t.and)?t.and.every(r=>this.test(e,r)):t&&Array.isArray(t.or)?t.or.some(r=>this.test(e,r)):!(!t||!t.not||this.test(e,t.not))}exec(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.exec(e):t&&Array.isArray(t)?t.reduce((r,i)=>r||this.exec(e,i),null):null}}var Rr=(()=>((Rr=Rr||{}).Mobile="mobile",Rr.Tablet="tablet",Rr.Desktop="desktop",Rr.Unknown="unknown",Rr))(),Eo=(()=>((Eo=Eo||{}).Portrait="portrait",Eo.Landscape="landscape",Eo))();const oC="iPad";let h_=(()=>{class n{constructor(t){this.platformId=t,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new d_,this.deviceType="",this.orientation="",Rs(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(t=this.userAgent){t!==this.userAgent&&(this.userAgent=t);const r=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(r.forEach(i=>{this[i.prop]=Object.keys(qi[i.const]).reduce((o,u)=>"device"===qi[i.const][u]&&Rs(this.platformId)&&(this.reTree.test(this.userAgent,Xu[oC])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(o[qi[i.const][u]]=oC,Object):(o[qi[i.const][u]]=this.reTree.test(t,qi[`${i.const}_RE`][u]),o),{})}),r.forEach(i=>{this[i.prop]=Object.keys(qi[i.const]).map(o=>qi[i.const][o]).reduce((o,u)=>"device"===i.prop&&o===qi[i.const].ANDROID?this[i.prop][u]?u:o:o===qi[i.const].UNKNOWN&&this[i.prop][u]?u:o,qi[i.const].UNKNOWN)}),this.browser_version="0",this.browser!==a_.UNKNOWN){const o=this.reTree.exec(t,u_[this.browser]);o&&(this.browser_version=o[1])}this.orientation=typeof window<"u"&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?Eo.Landscape:Eo.Portrait:ya.UKNOWN,this.deviceType=this.isTablet()?Rr.Tablet:this.isMobile(this.userAgent)?Rr.Mobile:this.isDesktop(this.userAgent)?Rr.Desktop:Rr.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(t=this.userAgent){return!this.isTablet(t)&&!!Object.keys(Ju).find(i=>this.reTree.test(t,Ju[i]))}isTablet(t=this.userAgent){return!(!Rs(this.platformId)||!(this.reTree.test(this.userAgent,Xu[oC])||typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Xu).find(i=>!!this.reTree.test(t,Xu[i]))}isDesktop(t=this.userAgent){return(this.device!==To.UNKNOWN||!this.isMobile(t)&&!this.isTablet(t))&&ed.indexOf(this.device)>-1}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var oc=M(4266);const xf=["addListener","removeListener"],aC=["addEventListener","removeEventListener"],lC=["on","off"];function f_(n,e,t,r){if((0,Si.m)(t)&&(r=t,t=void 0),r)return f_(n,e,t).pipe(_m(r));const[i,o]=function bD(n){return(0,Si.m)(n.addEventListener)&&(0,Si.m)(n.removeEventListener)}(n)?aC.map(u=>f=>n[u](e,f,t)):function yD(n){return(0,Si.m)(n.addListener)&&(0,Si.m)(n.removeListener)}(n)?xf.map(cC(n,e)):function vD(n){return(0,Si.m)(n.on)&&(0,Si.m)(n.off)}(n)?lC.map(cC(n,e)):[];if(!i&&(0,oc.z)(n))return(0,Tn.z)(u=>f_(u,e,t))((0,$i.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Kr.y(u=>{const f=(...g)=>u.next(1<g.length?g:g[0]);return i(f),()=>o(f)})}function cC(n,e){return t=>r=>n[t](e,r)}function wD(n,e){if(1&n&&l._UZ(0,"figure",0),2&n){const t=l.oxw(2);l.Q6J("ngClass",t.groups_open?"nav-arrow-open":"nav-arrow-closed")}}const uC=function(){return{openArticle:"0"}},ac=function(){return{openArticle:"1"}};function js(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ul",14)(1,"li",15),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.switchCategories("close"))}),l._uU(2,"Fun Agility"),l.qZA(),l.TgZ(3,"li",15),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.switchCategories("close"))}),l._uU(4,"Tricks & Parcours"),l.qZA()()}2&n&&(l.xp6(1),l.Q6J("queryParams",l.DdM(2,uC)),l.xp6(2),l.Q6J("queryParams",l.DdM(3,ac)))}function dC(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",9),l.NdJ("mouseenter",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.switchCategories("groups_open"))})("mouseleave",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.switchCategories("close"))}),l.TgZ(1,"div",10)(2,"a",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.switchCategories(""))}),l._uU(3,"HUNDEGRUPPE"),l.qZA(),l.YNc(4,wD,1,1,"figure",12),l.qZA(),l.YNc(5,js,5,4,"ul",13),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("ngClass",t.groups_open?"nav-sub-menu-bg":"close"),l.xp6(4),l.Q6J("ngIf",t.groupEntriesAvailable),l.xp6(1),l.Q6J("ngIf",t.groups_open)}}function _V(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"figure",20),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.switchCategories("individual_open"))}),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("ngClass",t.individual_open?"nav-arrow-open":"nav-arrow-closed")}}function CD(n,e){1&n&&(l.TgZ(0,"ul")(1,"li"),l._uU(2,"Eintrag 1"),l.qZA(),l.TgZ(3,"li"),l._uU(4,"Eintrag 2"),l.qZA(),l.TgZ(5,"li"),l._uU(6,"Eintrag 3"),l.qZA()())}function yV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",16)(1,"div",10)(2,"a",17),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.switchCategories(""))}),l._uU(3,"EINZELTRAINING"),l.qZA(),l.YNc(4,_V,1,1,"figure",18),l.qZA(),l.YNc(5,CD,7,0,"ul",19),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("ngClass",t.individual_open?"nav-sub-menu-bg":""),l.xp6(4),l.Q6J("ngIf",t.individualEntriesAvailable),l.xp6(1),l.Q6J("ngIf",t.individual_open)}}function vV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"figure",20),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.switchCategories("horse_open"))}),l.qZA()}if(2&n){const t=l.oxw(2);l.Q6J("ngClass",t.horse_open?"nav-arrow-open":"nav-arrow-closed")}}function hC(n,e){1&n&&(l.TgZ(0,"ul")(1,"li"),l._uU(2,"Eintrag 1"),l.qZA(),l.TgZ(3,"li"),l._uU(4,"Eintrag 2"),l.qZA(),l.TgZ(5,"li"),l._uU(6,"Eintrag 3"),l.qZA()())}function fC(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",16)(1,"div",10)(2,"a",21),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.switchCategories(""))}),l._uU(3,"REITUNTERRICHT"),l.qZA(),l.YNc(4,vV,1,1,"figure",18),l.qZA(),l.YNc(5,hC,7,0,"ul",19),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("ngClass",t.horse_open?"nav-sub-menu-bg":""),l.xp6(4),l.Q6J("ngIf",t.horseEntriesAvailable),l.xp6(1),l.Q6J("ngIf",t.horse_open)}}function bV(n,e){1&n&&(l.TgZ(0,"ul",14)(1,"li",23),l._uU(2,"Unser Reitstall"),l.qZA(),l.TgZ(3,"li",24),l._uU(4,"Pensionsstall"),l.qZA()())}function pC(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",9),l.NdJ("mouseenter",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.switchCategories("stable_open"))})("mouseleave",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.switchCategories("close"))}),l.TgZ(1,"div",10)(2,"a",22),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.switchCategories(""))}),l._uU(3,"STALL"),l.qZA(),l._UZ(4,"figure",0),l.qZA(),l.YNc(5,bV,5,0,"ul",13),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("ngClass",t.stable_open?"nav-sub-menu-bg":""),l.xp6(4),l.Q6J("ngClass",t.stable_open?"nav-arrow-open":"nav-arrow-closed"),l.xp6(1),l.Q6J("ngIf",t.stable_open)}}function Of(n,e){1&n&&(l.TgZ(0,"ul",14)(1,"li",26),l._uU(2,"\xdcber mich"),l.qZA(),l.TgZ(3,"li",27),l._uU(4,"Kontakt"),l.qZA()())}function gC(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",9),l.NdJ("mouseenter",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.switchCategories("personal_open"))})("mouseleave",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.switchCategories("close"))}),l.TgZ(1,"div",10)(2,"a",25),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.switchCategories(""))}),l._uU(3,"DAS BIN ICH"),l.qZA(),l._UZ(4,"figure",0),l.qZA(),l.YNc(5,Of,5,0,"ul",13),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("ngClass",t.personal_open?"nav-sub-menu-bg":""),l.xp6(4),l.Q6J("ngClass",t.personal_open?"nav-arrow-open":"nav-arrow-closed"),l.xp6(1),l.Q6J("ngIf",t.personal_open)}}function mC(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"figure",32),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.switchCategories("open"))}),l.qZA()}}function _C(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"figure",33),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.switchCategories("close"))}),l.qZA()}}const st=function(){return{"width.rem":1,"height.rem":1}};function yC(n,e){if(1&n&&l._UZ(0,"figure",45),2&n){const t=l.oxw(3);l.Q6J("ngClass",t.groups_open?"nav-arrow-open":"nav-arrow-closed")("ngStyle",l.DdM(2,st))}}const vC=function(){return{openArticle:0}},wV=function(){return{openArticle:3}},TD=function(){return{openArticle:2}};function bC(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ul")(1,"li",15),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(3);return l.KtG(i.switchCategories("close"))}),l._uU(2,"Fun Agility"),l.qZA(),l.TgZ(3,"li",15),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(3);return l.KtG(i.switchCategories("close"))}),l._uU(4,"Tricks"),l.qZA(),l.TgZ(5,"li",15),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(3);return l.KtG(i.switchCategories("close"))}),l._uU(6,"Mantrailing"),l.qZA()()}2&n&&(l.xp6(1),l.Q6J("queryParams",l.DdM(3,vC)),l.xp6(2),l.Q6J("queryParams",l.DdM(4,wV)),l.xp6(2),l.Q6J("queryParams",l.DdM(5,TD)))}function ED(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"figure",46),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(3);return l.KtG(i.switchCategories("individual_open"))}),l.qZA()}if(2&n){const t=l.oxw(3);l.Q6J("ngClass",t.individual_open?"nav-arrow-open":"nav-arrow-closed")("ngStyle",l.DdM(2,st))}}function ID(n,e){1&n&&(l.TgZ(0,"ul")(1,"li"),l._uU(2,"Eintrag 1"),l.qZA(),l.TgZ(3,"li"),l._uU(4,"Eintrag 2"),l.qZA(),l.TgZ(5,"li"),l._uU(6,"Eintrag 3"),l.qZA()())}function wC(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"figure",46),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(3);return l.KtG(i.switchCategories("horse_open"))}),l.qZA()}if(2&n){const t=l.oxw(3);l.Q6J("ngClass",t.horse_open?"nav-arrow-open":"nav-arrow-closed")("ngStyle",l.DdM(2,st))}}function SD(n,e){1&n&&(l.TgZ(0,"ul")(1,"li"),l._uU(2,"Eintrag 1"),l.qZA(),l.TgZ(3,"li"),l._uU(4,"Eintrag 2"),l.qZA(),l.TgZ(5,"li"),l._uU(6,"Eintrag 3"),l.qZA()())}function CC(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ul")(1,"li",47),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(3);return l.KtG(i.switchCategories("close"))}),l._uU(2,"Unser Reitstall"),l.qZA(),l.TgZ(3,"li",48),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(3);return l.KtG(i.switchCategories("close"))}),l._uU(4,"Pensionsstall"),l.qZA()()}}function AD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ul")(1,"li",49),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(3);return l.KtG(i.switchCategories("close"))}),l._uU(2,"\xdcber mich"),l.qZA(),l.TgZ(3,"li",50),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(3);return l.KtG(i.switchCategories("close"))}),l._uU(4,"Kontakt"),l.qZA()()}}const p_=function(n){return{"entry-only":n}};function CV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ul",34)(1,"li")(2,"div",35),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.switchCategories("groups_open"))}),l.TgZ(3,"a",36),l._uU(4,"Hundegruppen"),l.qZA(),l.YNc(5,yC,1,3,"figure",37),l.qZA(),l.TgZ(6,"ul",38),l.YNc(7,bC,7,6,"ul",19),l.qZA()(),l.TgZ(8,"li")(9,"div",39)(10,"a",40),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.switchCategories(""))}),l._uU(11,"Einzeltraining"),l.qZA(),l.YNc(12,ED,1,3,"figure",41),l.qZA(),l.TgZ(13,"ul",42),l.YNc(14,ID,7,0,"ul",19),l.qZA()(),l.TgZ(15,"li")(16,"div",39)(17,"a",43),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.switchCategories(""))}),l._uU(18,"Reitunterricht"),l.qZA(),l.YNc(19,wC,1,3,"figure",41),l.qZA(),l.TgZ(20,"ul",42),l.YNc(21,SD,7,0,"ul",19),l.qZA()(),l.TgZ(22,"li")(23,"div",35),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.switchCategories("stable_open"))}),l.TgZ(24,"a",44),l._uU(25,"Stall"),l.qZA(),l._UZ(26,"figure",45),l.qZA(),l.TgZ(27,"ul",42),l.YNc(28,CC,5,0,"ul",19),l.qZA()(),l.TgZ(29,"li")(30,"div",35),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.switchCategories("personal_open"))}),l.TgZ(31,"a",44),l._uU(32,"Das bin ich"),l.qZA(),l._UZ(33,"figure",45),l.qZA(),l.TgZ(34,"ul",42),l.YNc(35,AD,5,0,"ul",19),l.qZA()()()}if(2&n){const t=l.oxw(2);l.xp6(5),l.Q6J("ngIf",t.groupEntriesAvailable),l.xp6(1),l.Q6J("ngClass",l.VKq(15,p_,!t.groupEntriesAvailable)),l.xp6(1),l.Q6J("ngIf",t.groups_open),l.xp6(2),l.Q6J("ngClass",l.VKq(17,p_,!t.individualEntriesAvailable)),l.xp6(3),l.Q6J("ngIf",t.individualEntriesAvailable),l.xp6(2),l.Q6J("ngIf",t.individual_open),l.xp6(2),l.Q6J("ngClass",l.VKq(19,p_,!t.horseEntriesAvailable)),l.xp6(3),l.Q6J("ngIf",t.horseEntriesAvailable),l.xp6(2),l.Q6J("ngIf",t.horse_open),l.xp6(5),l.Q6J("ngClass",t.stable_open?"nav-arrow-open":"nav-arrow-closed")("ngStyle",l.DdM(21,st)),l.xp6(2),l.Q6J("ngIf",t.stable_open),l.xp6(5),l.Q6J("ngClass",t.personal_open?"nav-arrow-open":"nav-arrow-closed")("ngStyle",l.DdM(22,st)),l.xp6(2),l.Q6J("ngIf",t.personal_open)}}function TC(n,e){if(1&n&&(l.TgZ(0,"div",28),l.YNc(1,mC,1,0,"figure",29),l.YNc(2,_C,1,0,"figure",30),l.YNc(3,CV,36,23,"ul",31),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",!t.mobileNavOpen),l.xp6(1),l.Q6J("ngIf",t.mobileNavOpen),l.xp6(1),l.Q6J("ngIf",t.mobileNavOpen)}}const EC=function(n){return{"mobile-nav":n}},$s=function(n,e){return{"height.vh":n,"max-height.px":e}};let lc=(()=>{class n{constructor(){this.mobilePortrait=!1,this.navBackgroundHeight=18.28,this.navBackgroundMaxHeight=165,this.mobileNavOpen=!1,this.groupEntriesAvailable=!0,this.groups_open=!1,this.individualEntriesAvailable=!1,this.individual_open=!1,this.horseEntriesAvailable=!1,this.horse_open=!1,this.openedPage="home",this.stable_open=!1,this.personal_open=!1,this.windowX=window.innerWidth,this.windowY=window.innerHeight,this.windowRatio=this.windowX/this.windowY}ngOnInit(){this.changeNavBackgroundHeight(),this.resizeObservable$=f_(window,"resize"),this.resizeSubscription$=this.resizeObservable$.subscribe(t=>{this.changeNavBackgroundHeight()})}switchCategories(t){"groups_open"===t?(this.individual_open=!1,this.horse_open=!1,this.groups_open=!this.groups_open,this.stable_open=!1,this.personal_open=!1):"individual_open"===t?(this.groups_open=!1,this.individual_open=!this.individual_open,this.horse_open=!1,this.stable_open=!1,this.personal_open=!1):"horse_open"===t?(this.groups_open=!1,this.individual_open=!1,this.horse_open=!this.horse_open,this.stable_open=!1,this.personal_open=!1):"stable_open"===t?(this.groups_open=!1,this.individual_open=!1,this.horse_open=!1,this.stable_open=!this.stable_open,this.personal_open=!1):"personal_open"===t?(this.groups_open=!1,this.individual_open=!1,this.horse_open=!1,this.stable_open=!1,this.personal_open=!this.personal_open):"open"===t?(this.groups_open=!1,this.individual_open=!1,this.horse_open=!1,this.stable_open=!1,this.personal_open=!1,this.mobileNavOpen=!0):(this.groups_open=!1,this.individual_open=!1,this.horse_open=!1,this.mobileNavOpen=!1,this.stable_open=!1,this.personal_open=!1),this.changeNavBackgroundHeight()}changeNavBackgroundHeight(){this.mobilePortrait?(this.navBackgroundHeight=14.5,this.windowRatio<=.65&&(this.navBackgroundHeight=12),this.windowRatio<=.5&&(this.navBackgroundHeight=10),this.windowRatio<=.43&&(this.navBackgroundHeight=14.5),this.mobileNavOpen&&(this.navBackgroundHeight=29,this.navBackgroundMaxHeight=230,(this.groups_open||this.individual_open||this.horse_open||this.stable_open||this.personal_open)&&(this.navBackgroundHeight=44,this.navBackgroundMaxHeight=340))):(this.navBackgroundHeight=9.2,this.navBackgroundMaxHeight=165,this.windowRatio>=1.2&&(this.navBackgroundHeight=11),this.windowRatio>=1.4&&(this.navBackgroundHeight=12),this.windowRatio>=1.6&&(this.navBackgroundHeight=15),this.windowRatio>=2&&(this.navBackgroundHeight=22,this.navBackgroundMaxHeight=210),this.windowRatio>=2.6&&(this.navBackgroundHeight=29,this.navBackgroundMaxHeight=250),this.windowRatio>=3.6&&(this.navBackgroundHeight=40,this.navBackgroundMaxHeight=230))}ngOnDestroy(){null!=this.resizeSubscription$&&this.resizeSubscription$.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navigation"]],inputs:{mobilePortrait:"mobilePortrait"},decls:12,vars:17,consts:[[3,"ngClass"],[1,"nav-bg-red",3,"ngStyle"],[1,"nav-bg-grey",3,"ngStyle"],[1,"navbar"],["routerLink","",1,"nav-logo","nav-entry"],["src","../../../assets/icons/sallys_logo.svg","alt","sallys logo"],["class","nav-entry",3,"ngClass","mouseenter","mouseleave",4,"ngIf"],["class","nav-entry",3,"ngClass",4,"ngIf"],["id","hamburger","class","nav-entry",4,"ngIf"],[1,"nav-entry",3,"ngClass","mouseenter","mouseleave"],[1,"nav-entry-top"],["routerLink","/Hundegruppentraining","routerLinkActive","active",3,"click"],[3,"ngClass",4,"ngIf"],["class","nav-ul-fade",4,"ngIf"],[1,"nav-ul-fade"],["routerLink","/Hundegruppentraining",3,"queryParams","click"],[1,"nav-entry",3,"ngClass"],["routerLink","/Hundeeinzeltraining","routerLinkActive","active",3,"click"],[3,"ngClass","click",4,"ngIf"],[4,"ngIf"],[3,"ngClass","click"],["routerLink","/Reitunterricht","routerLinkActive","active",3,"click"],["routerLink","/Reitstall","routerLinkActive","active",3,"click"],["routerLink","/Reitstall"],["routerLink","/Pension"],["routerLink","/DasBinIch","routerLinkActive","active",3,"click"],["routerLink","/DasBinIch"],["routerLink","/Kontakt"],["id","hamburger",1,"nav-entry"],["class","hamburger-menu default-hamburger",3,"click",4,"ngIf"],["class","hamburger-menu open-hamburger",3,"click",4,"ngIf"],["class","mobile-nav-entries",4,"ngIf"],[1,"hamburger-menu","default-hamburger",3,"click"],[1,"hamburger-menu","open-hamburger",3,"click"],[1,"mobile-nav-entries"],[1,"nav-entry-top",3,"click"],["routerLinkActive","active",1,"mobile-a"],[3,"ngClass","ngStyle",4,"ngIf"],[1,"mobile-nav-group",3,"ngClass"],[1,"nav-entry-top",3,"ngClass"],["routerLink","/Hundeeinzeltraining","routerLinkActive","active",1,"mobile-a",3,"click"],[3,"ngClass","ngStyle","click",4,"ngIf"],[1,"mobile-nav-group"],["routerLink","/Reitunterricht","routerLinkActive","active",1,"mobile-a",3,"click"],[1,"mobile-a"],[3,"ngClass","ngStyle"],[3,"ngClass","ngStyle","click"],["routerLink","/Reitstall",3,"click"],["routerLink","/Pension",3,"click"],["routerLink","/DasBinIch",3,"click"],["routerLink","/Kontakt",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0),l._UZ(1,"figure",1)(2,"figure",2),l.TgZ(3,"div",3)(4,"figure",4),l._UZ(5,"img",5),l.qZA(),l.YNc(6,dC,6,3,"div",6),l.YNc(7,yV,6,3,"div",7),l.YNc(8,fC,6,3,"div",7),l.YNc(9,pC,6,3,"div",6),l.YNc(10,gC,6,3,"div",6),l.YNc(11,TC,4,3,"div",8),l.qZA()()),2&t&&(l.Q6J("ngClass",l.VKq(9,EC,r.mobilePortrait)),l.xp6(1),l.Q6J("ngStyle",l.WLB(11,$s,r.navBackgroundHeight,r.navBackgroundMaxHeight)),l.xp6(1),l.Q6J("ngStyle",l.WLB(14,$s,r.navBackgroundHeight,r.navBackgroundMaxHeight)),l.xp6(4),l.Q6J("ngIf",!r.mobilePortrait),l.xp6(1),l.Q6J("ngIf",!r.mobilePortrait),l.xp6(1),l.Q6J("ngIf",!r.mobilePortrait),l.xp6(1),l.Q6J("ngIf",!r.mobilePortrait),l.xp6(1),l.Q6J("ngIf",!r.mobilePortrait),l.xp6(1),l.Q6J("ngIf",r.mobilePortrait))},dependencies:[ur,dr,cs,kr,n_],styles:[".navbar[_ngcontent-%COMP%]{position:absolute;width:100vw;z-index:3;top:0;left:0;padding:7px 40px 7px 8.33vw;display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.nav-bg-red[_ngcontent-%COMP%]{background-image:url(red_top.52cf0be5edacb18a.svg);background-size:105vw;background-position:bottom;position:absolute;width:105vw;height:7.57vw;max-height:165px;top:0;left:-1vw;z-index:1}.mobile-nav[_ngcontent-%COMP%]   .nav-bg-red[_ngcontent-%COMP%]{background-image:url(red_top_mobile.c08efbe5387ff111.svg);height:35.39vw;max-height:360px}.nav-bg-grey[_ngcontent-%COMP%]{background-image:url(grey_top.94370d83630c2bb1.svg);background-size:105vw;background-position:bottom;position:absolute;width:105vw;height:7.57vw;max-height:165px;top:-.3vw;left:-.15vw;z-index:2}.mobile-nav[_ngcontent-%COMP%]   .nav-bg-grey[_ngcontent-%COMP%]{background-image:url(grey_top_mobile.cce85656a6189d23.svg);height:35.39vw;max-height:360px;top:-.8vw}.nav-entry[_ngcontent-%COMP%]{padding:5px;margin-top:2vw;width:16vw;height:auto;min-height:24px;display:flex;flex-direction:column;align-items:center;border:2px solid rgba(255,255,255,0)}.mobile-nav[_ngcontent-%COMP%]   .nav-entry[_ngcontent-%COMP%]{margin-top:0;width:40vw;align-items:flex-end;border:1px solid rgba(255,255,255,0)}.nav-entry[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;list-style:none;padding-left:0;font-family:worstveld;font-size:1.5rem}.nav-entry-top[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;flex-direction:row;justify-content:center;align-items:center;min-height:24px}.nav-entry-base[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;min-height:24px}.mobile-nav[_ngcontent-%COMP%]   .nav-entry-top[_ngcontent-%COMP%]{justify-content:flex-start}.nav-entry[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--red100);animation-name:_ngcontent-%COMP%_nav-hover-fade;animation-duration:.5s}.nav-logo[_ngcontent-%COMP%]{margin-top:0;display:flex;justify-content:center;align-items:center;width:17.5vw;height:6.94vw;max-width:223px;max-height:120px;cursor:pointer}.mobile-nav[_ngcontent-%COMP%]   .nav-logo[_ngcontent-%COMP%]{justify-content:flex-start;width:28.8vw;height:16.51vw}.nav-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:11.11vw;height:120px;max-width:220px}.mobile-nav[_ngcontent-%COMP%]   .nav-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:28.8vw;height:16.51vw}.nav-sub-menu-bg[_ngcontent-%COMP%]{background-color:#f5fbffe7;border:1px solid var(--red100);animation-name:_ngcontent-%COMP%_open-fade;animation-duration:.25s}.close[_ngcontent-%COMP%]{background-color:#fff0;border:2px solid rgba(255,255,255,0);animation-name:_ngcontent-%COMP%_close-fade;animation-duration:.5s}@keyframes _ngcontent-%COMP%_open-fade{0%{background-color:#fff0;border:2px solid rgba(255,255,255,0)}to{background-color:#f5fbffe7;border:1px solid var(--red100)}}@keyframes _ngcontent-%COMP%_close-fade{0%{background-color:#f5fbffe7;border:1px solid var(--red100)}to{background-color:#fff0;border:2px solid rgba(255,255,255,0)}}#hamburger[_ngcontent-%COMP%]{margin-top:5.5vw}.hamburger-menu[_ngcontent-%COMP%]{width:24px;height:24px}.default-hamburger[_ngcontent-%COMP%]{background-image:url(hamburger_menu_24px_red.a15c0ac9e9bc1be0.svg)}.open-hamburger[_ngcontent-%COMP%]{background-image:url(close_24px_red.150c3fa4404da514.svg)}.hamburger-menu[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{width:1rem;height:1rem}.mobile-a[_ngcontent-%COMP%]{margin:.31rem 0}.entry-only[_ngcontent-%COMP%]   .mobile-a[_ngcontent-%COMP%]{margin-right:1.3rem}.mobile-nav-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.1rem 1.3rem .1rem .25rem;font-family:worstveld;font-size:1.2rem}.active[_ngcontent-%COMP%]{color:var(--red100)!important;border-bottom:2px solid var(--red100)!important;animation-name:_ngcontent-%COMP%_nav-fade;animation-duration:.5s}.mobile-nav[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-bottom:1px solid var(--red100)}@keyframes _ngcontent-%COMP%_nav-fade{0%{color:#000;border-bottom:2px solid rgba(255,255,255,0)}to{color:var(--red100);border-bottom:2px solid var(--red100)}}@keyframes _ngcontent-%COMP%_nav-hover-fade{0%{color:#000}to{color:var(--red100)}}.nav-entry[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .nav-entry[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%}.nav-entry[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:var(--red100);text-decoration-line:underline;box-shadow:0 0 2px #00000080;animation-name:_ngcontent-%COMP%_nav-hover-fade;animation-duration:.5s}"]}),n})();function IC(n,e){if(1&n&&l._UZ(0,"figure",6),2&n){const t=l.oxw();l.Q6J("ngClass",t.context_open?"nav-arrow-open":"nav-arrow-closed")}}function DD(n,e){1&n&&(l.TgZ(0,"li")(1,"a",11),l._uU(2,"Kontaktformular"),l.qZA()())}function Nf(n,e){if(1&n&&(l.TgZ(0,"ul",7)(1,"li")(2,"a",8),l._uU(3,"Tel: +49 174978 9210"),l.qZA()(),l.TgZ(4,"li")(5,"a",9),l._uU(6,"Mail: info@sallys-tiertraining.de"),l.qZA()(),l.YNc(7,DD,3,0,"li",10),l.qZA()),2&n){const t=l.oxw();l.xp6(7),l.Q6J("ngIf",t.mobilePortrait)}}function cc(n,e){1&n&&(l.TgZ(0,"div",12)(1,"button",13)(2,"a",8),l._uU(3,"Tel: +49 174978 9210"),l.qZA()(),l.TgZ(4,"button",13)(5,"a",9),l._uU(6,"Mail: info@sallys-tiertraining.de"),l.qZA()(),l.TgZ(7,"button",13)(8,"a",11),l._uU(9,"Kontaktformular"),l.qZA()()())}const g_=function(n){return{"font-size.rem":n}};let Ws=(()=>{class n{constructor(t){this.router=t,this.buttonType="button",this.cookieButton=!1,this.buttonDesign="primary",this.withContext=!1,this.buttonTitle="",this.mobilePortrait=!1,this.disabled=!1,this.cookiesAccepted=!1,this.context_open=!1,this.buttonFontSize=1,this.cookiesAcceptedChanged=new l.vpe}ngOnInit(){this.mobilePortrait&&(this.buttonFontSize=.88)}clickOn(t){"p"===t&&this.cookieButton&&(this.cookiesAccepted=!0,this.cookiesAcceptedChanged.emit(this.cookiesAccepted))}toggleContext(){this.withContext&&(this.context_open=!this.context_open)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Nr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-button"]],inputs:{buttonType:"buttonType",cookieButton:"cookieButton",buttonDesign:"buttonDesign",withContext:"withContext",buttonTitle:"buttonTitle",mobilePortrait:"mobilePortrait",disabled:"disabled"},outputs:{cookiesAcceptedChanged:"cookiesAcceptedChanged"},decls:7,vars:11,consts:[[3,"type","ngClass","click"],[1,"btn-top",3,"ngClass"],[3,"ngStyle","click"],[3,"ngClass",4,"ngIf"],["class","open context-container",4,"ngIf"],["class","context-container-mobile",4,"ngIf"],[3,"ngClass"],[1,"open","context-container"],["href","tel:+491749789210"],["href","mailto:info@sallys-tiertraining.de"],[4,"ngIf"],["routerLink","/Kontakt"],[1,"context-container-mobile"],[1,"context-button"]],template:function(t,r){1&t&&(l.TgZ(0,"button",0),l.NdJ("click",function(){return r.toggleContext()}),l.TgZ(1,"div",1)(2,"p",2),l.NdJ("click",function(){return r.clickOn("p")}),l._uU(3),l.qZA(),l.YNc(4,IC,1,1,"figure",3),l.qZA(),l.YNc(5,Nf,8,1,"ul",4),l.YNc(6,cc,10,0,"div",5),l.qZA()),2&t&&(l.Q6J("type",r.buttonType)("ngClass",r.buttonDesign),l.uIk("disabled",!!r.disabled||null),l.xp6(1),l.Q6J("ngClass",r.withContext?"withContext":"withoutContext"),l.xp6(1),l.Q6J("ngStyle",l.VKq(9,g_,r.buttonFontSize)),l.xp6(1),l.hij("",r.buttonTitle," "),l.xp6(1),l.Q6J("ngIf",r.withContext),l.xp6(1),l.Q6J("ngIf",r.context_open&&!r.mobilePortrait),l.xp6(1),l.Q6J("ngIf",r.context_open&&r.mobilePortrait))},dependencies:[ur,dr,cs,kr],styles:["button[_ngcontent-%COMP%]{padding:1rem;width:11.625rem;height:3.5rem;margin:0 1.25rem;border-radius:.25rem;border:.12rem solid rgba(255,255,255,0);font-family:ubuntu-bolder;color:#000;font-size:1rem;line-height:1rem}.primary[_ngcontent-%COMP%]{background-color:var(--red80)}.primary[_ngcontent-%COMP%]:disabled{opacity:.4;background-color:var(--red20)}.secondary[_ngcontent-%COMP%]{background-color:#fff;border-color:var(--red100)}.primary[_ngcontent-%COMP%]:hover{border-color:#000;box-shadow:.3vw .3vw .8vw #a9585581;background-color:var(--red100);animation-name:_ngcontent-%COMP%_button-primary-hover-fade;animation-duration:1s}.primary[_ngcontent-%COMP%]:disabled:hover{border-color:#fff0;background-color:var(--red20);box-shadow:none;animation-name:none}.secondary[_ngcontent-%COMP%]:hover{box-shadow:.14vw .14vw .42vw #a9585581;background-color:var(--red40);animation-name:_ngcontent-%COMP%_button-secondary-hover-fade;animation-duration:1s}.wide[_ngcontent-%COMP%]{width:20rem}.context-button[_ngcontent-%COMP%]{width:100%;margin:0 0 5px;background:#e9e9ed;opacity:.8;border-color:var(--red100);box-shadow:1px 1px 4px #703b3a81}.context-container-mobile[_ngcontent-%COMP%]{margin-top:5px}.btn-top[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.withoutContext[_ngcontent-%COMP%]{justify-content:center}.withContext[_ngcontent-%COMP%]{justify-content:space-between}ul[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;list-style:none;padding-left:0;font-family:ubuntu;font-size:1rem;line-height:1rem;color:var(--red100)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2px;margin-bottom:3px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{color:var(--red100);text-decoration-line:underline;box-shadow:0 0 2px #00000080;animation-name:nav-hover-fade;animation-duration:.5s}.open[_ngcontent-%COMP%]{margin-top:.3rem;padding:.5rem;background-color:#f5fbffe7;border:1px solid var(--red100)}@keyframes _ngcontent-%COMP%_button-primary-hover-fade{0%{border-color:#fff0;box-shadow:.3vw .3vw .8vw #fff0;background-color:var(--red80)}to{border-color:#000;box-shadow:.3vw .3vw .8vw #a9585581;background-color:var(--red100)}}@keyframes _ngcontent-%COMP%_button-secondary-hover-fade{0%{box-shadow:.3vw .3vw .8vw #fff0;background-color:#fff}to{box-shadow:.14vw .14vw .42vw #a9585581;background-color:var(--red40)}}"]}),n})();function SC(n,e){if(1&n&&l._UZ(0,"app-button",56),2&n){const t=l.oxw(2);l.Q6J("mobilePortrait",t.mobilePortrait)("buttonDesign","primary wide")}}const td=function(n){return{"mobile-section":n}};function m_(n,e){if(1&n&&(l.TgZ(0,"section",50)(1,"h1",51),l._uU(2,"Kontaktiere mich"),l.qZA(),l.TgZ(3,"p",52),l._uU(4,"Habe ich dein Interesse geweckt, hast du Anregungen, Fragen oder ben\xf6tigst Hilfe, hab keine Scheu, mich zu kontaktieren. Ich bei\xdfe nicht!"),l.qZA(),l.TgZ(5,"div",53),l.YNc(6,SC,1,2,"app-button",54),l._UZ(7,"app-button",55),l.qZA()()),2&n){const t=l.oxw();l.Q6J("ngClass",l.VKq(5,td,t.mobilePortrait)),l.xp6(6),l.Q6J("ngIf",!t.mobilePortrait),l.xp6(1),l.Q6J("buttonDesign","secondary wide")("mobilePortrait",t.mobilePortrait)("withContext",!0)}}function __(n,e){if(1&n&&(l.TgZ(0,"p",64),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.hij(" ",t.date,"")}}function AC(n,e){if(1&n&&(l.TgZ(0,"article",61)(1,"div",62)(2,"h2",51),l._uU(3),l.qZA(),l.YNc(4,__,2,1,"p",63),l.TgZ(5,"p"),l._uU(6),l.qZA()()()),2&n){const t=e.$implicit,r=e.index,i=l.oxw(2);l.Q6J("ngClass",i.activeNews===r?"visible-article":"invisible-article"),l.xp6(3),l.Oqu(t.title),l.xp6(1),l.Q6J("ngIf",""!==t.date),l.xp6(2),l.hij(" ",t.text,"")}}const y_=function(n){return{"background-image":n}};function MD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"section",57)(1,"div",58)(2,"figure",59),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeNews(-1))}),l.qZA(),l.YNc(3,AC,7,4,"article",60),l.TgZ(4,"figure",59),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeNews(1))}),l.qZA()()()}if(2&n){const t=l.oxw();l.Q6J("ngClass",l.VKq(5,td,t.mobilePortrait))("ngStyle",l.VKq(7,y_,"url("+t.news[0].pictureUrl+")")),l.xp6(2),l.Q6J("ngClass",0!=t.activeNews?"nav-arrow-left":"nav-arrow-left-disabled"),l.xp6(1),l.Q6J("ngForOf",t.news),l.xp6(1),l.Q6J("ngClass",t.activeNews!=t.news.length-1?"nav-arrow-right":"nav-arrow-right-disabled")}}const PD=function(){return{article:"schlubeck"}};let xD=(()=>{class n{constructor(t){this.router=t,this.mobilePortrait=!1,this.newsAvailable=!0,this.ctaOn=!0,this.activeNews=0,this.activeRoute="/",this.news=[{id:"jumping",pictureUrl:"../../../assets/gallery/placeholder-icon.png",title:"Freispringen",date:"28. Juni",text:"Lass dein Pferd bei uns in der Halle freispringen oder komm einfach vorbei und schau zu."},{id:"kinderferienwoche",pictureUrl:"../../../assets/gallery/placeholder-icon.png",title:"Kinderferienwoche",date:"10. Juli - 14. Juli",text:""},{id:"longe",pictureUrl:"../../../assets/gallery/placeholder-icon.png",title:"Longenlehrgang",date:"18. Juli - 19. Juli",text:"Erlerne die richtige Arbeit mit der Longe und Doppellonge. Durchgef\xfchrt vom Friesenverband."},{id:"abzeichen",pictureUrl:"../../../assets/gallery/placeholder-icon.png",title:"Reitabzeichenlehrgang",date:"5. Oktober - 7. Oktober",text:"Ihr wollt die Pr\xfcfung f\xfcr ein Reitabzeichen absolvieren? Dieser Lehrgang bereitet euch optimal darauf vor. Im Lehrgang lernt ihr das theoretische Wissen und die\n      praktischen F\xe4higkeiten um euch ein neues Reitabzeichen zu verdienen. Die Pr\xfcfung findet am 23. Oktober hier auf der Anlage statt."}],this.dosbOpen=!1,this.zeugnisOpen=!1,this.router.events.subscribe(r=>{r instanceof Wi&&(this.activeRoute=r.url,this.ctaOn="/Kontakt"!==this.activeRoute)})}ngOnInit(){}changeNews(t){1===t?this.activeNews!=this.news.length-1&&this.activeNews++:0!=this.activeNews&&this.activeNews--}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Nr))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],inputs:{mobilePortrait:"mobilePortrait",newsAvailable:"newsAvailable",ctaOn:"ctaOn"},decls:87,vars:7,consts:[["id","footer-cta",3,"ngClass",4,"ngIf"],["id","fNews","class","footer-news",3,"ngClass","ngStyle",4,"ngIf"],[1,"footer-credentials",3,"ngClass"],[1,"footer-bg-red"],[1,"footer-bg-redfade"],[1,"footer-fade"],["id","footer-container"],[1,"footer-content"],["routerLink","","routerLinkActive","active",1,"footer-entry"],["src","../../../assets/icons/sallys_logo.svg","alt","sallys tiertraining logo"],[1,"footer-entry"],[1,"directlinks"],["routerLink","/Hundegruppentraining",3,"click"],["routerLink","/Hundeeinzeltraining",3,"click"],["routerLink","/Reitunterricht",3,"click"],["routerLink","/DasBinIch",3,"click"],["routerLink","/Galerie",3,"click"],["routerLink","/Kontakt",3,"click"],["routerLink","/Impressum",3,"click"],["routerLink","/Qualifikationen",3,"click"],[1,"contact"],[1,"contact-entry"],[1,"contact-icon"],["src","../../../assets/interaction/call_24px_red.svg","alt","Sally anrufen"],["src","../../../assets/interaction/email_24px_red.svg","alt","Sally mailen"],[1,"social"],[1,"social-icons"],["href","https://www.tiktok.com/@sallys_tiertraining"],["src","../../../assets/icons/tiktok.png","alt","Sally's Tiktok"],["href","https://www.instagram.com/sallystiertraining/"],["src","../../../assets/icons/insta.svg","alt","Sally's Instagram"],["href","https://www.facebook.com/people/Sallys-Tiertraining/pfbid0F2wkUo3mEM8aJJtev13V53tHaeyvvoDSNY5QmcgYNcWKW8yeEx27qf8KPhmTAuBLl/"],["src","../../../assets/icons/fb.png","alt","Sally's Facebook"],["href","https://www.youtube.com/@sallys-tiertraining"],["src","../../../assets/icons/yt.svg","alt","Sally's Youtube"],["href","https://wa.me/491749789210"],["src","../../../assets/icons/whatsapp.svg","alt","Sally's Whatsapp"],[1,"credentials"],["href",""],["id","footer-qualification"],[1,"qualification-container"],[1,"qualification"],["href","https://www.instagram.com/hsv_klein_wanzleben/"],["src","../../../assets/icons/hundesportvereinKleinWanzleben.jpg","alt","Hundesportverein Klein Wanzleben"],["href","https://de-de.facebook.com/pauvidiscdogs/"],["src","../../../assets/icons/pauvi.png","alt","PauVi DiscDogs"],["routerLink","/PartnerUndSponsoren",1,"qualification",3,"queryParams"],["href","https://reiterhof-schlubeck.de/"],["src","../../../assets/icons/schlubeck.png","alt","Reiterhof Schlubeck"],["src","../../../assets/icons/esi.png","alt","F\xf6rderung durch den ESI-Fonds in Sachsen-Anhalt"],["id","footer-cta",3,"ngClass"],[1,"h1-p"],[1,"p-content"],[1,"button-holder"],["buttonTitle","Kontaktformular","routerLink","/Kontakt",3,"mobilePortrait","buttonDesign",4,"ngIf"],["buttonTitle","Kontakt",3,"buttonDesign","mobilePortrait","withContext"],["buttonTitle","Kontaktformular","routerLink","/Kontakt",3,"mobilePortrait","buttonDesign"],["id","fNews",1,"footer-news",3,"ngClass","ngStyle"],[1,"news-holder"],[3,"ngClass","click"],["class","fade",3,"ngClass",4,"ngFor","ngForOf"],[1,"fade",3,"ngClass"],[1,"footer-container"],["class","bold",4,"ngIf"],[1,"bold"]],template:function(t,r){1&t&&(l.YNc(0,m_,8,7,"section",0),l.YNc(1,MD,5,9,"section",1),l.TgZ(2,"section",2),l._UZ(3,"figure",3)(4,"figure",4)(5,"figure",5),l.TgZ(6,"div",6)(7,"div",7)(8,"figure",8),l._UZ(9,"img",9),l.qZA(),l.TgZ(10,"div",10)(11,"h4"),l._uU(12,"Direktlinks"),l.qZA(),l.TgZ(13,"div",11)(14,"ul")(15,"li",12),l.NdJ("click",function(){return r.ctaOn=!0}),l._uU(16,"Hundetraining (Gruppe)"),l.qZA(),l.TgZ(17,"li",13),l.NdJ("click",function(){return r.ctaOn=!0}),l._uU(18,"Hundetraining (einzeln)"),l.qZA(),l.TgZ(19,"li",14),l.NdJ("click",function(){return r.ctaOn=!0}),l._uU(20,"Reitunterricht"),l.qZA(),l.TgZ(21,"li",15),l.NdJ("click",function(){return r.ctaOn=!0}),l._uU(22,"Das bin ich"),l.qZA()(),l.TgZ(23,"ul")(24,"li",16),l.NdJ("click",function(){return r.ctaOn=!0}),l._uU(25,"Galerie"),l.qZA(),l.TgZ(26,"li",17),l.NdJ("click",function(){return r.ctaOn=!1}),l._uU(27,"Kontakt"),l.qZA(),l.TgZ(28,"li",18),l.NdJ("click",function(){return r.ctaOn=!1}),l._uU(29,"Impressum"),l.qZA(),l.TgZ(30,"li",19),l.NdJ("click",function(){return r.ctaOn=!0}),l._uU(31,"Qualifikationen"),l.qZA()()()(),l.TgZ(32,"div",10)(33,"h4"),l._uU(34,"Kontaktiere mich!"),l.qZA(),l.TgZ(35,"div",20)(36,"div",21)(37,"figure",22),l._UZ(38,"img",23),l.qZA(),l.TgZ(39,"p"),l._uU(40,"0174 97 89 210"),l.qZA()(),l.TgZ(41,"div",21)(42,"figure",22),l._UZ(43,"img",24),l.qZA(),l.TgZ(44,"p"),l._uU(45,"info@sallys-tiertraining.de"),l.qZA()()(),l.TgZ(46,"div",25)(47,"figure",26)(48,"a",27),l._UZ(49,"img",28),l.qZA()(),l.TgZ(50,"figure",26)(51,"a",29),l._UZ(52,"img",30),l.qZA()(),l.TgZ(53,"figure",26)(54,"a",31),l._UZ(55,"img",32),l.qZA()(),l.TgZ(56,"figure",26)(57,"a",33),l._UZ(58,"img",34),l.qZA()(),l.TgZ(59,"figure",26)(60,"a",35),l._UZ(61,"img",36),l.qZA()()()()(),l.TgZ(62,"div",37)(63,"a",38),l._uU(64,"\xa9 Sally's "),l.TgZ(65,"span"),l._uU(66,"Tiertraining"),l.qZA(),l._uU(67," 2023"),l.qZA(),l.TgZ(68,"a",38),l._uU(69,"sedra"),l.TgZ(70,"span"),l._uU(71,"neo"),l.qZA(),l._uU(72,"."),l.qZA()(),l.TgZ(73,"div",39)(74,"div",40)(75,"figure",41)(76,"a",42),l._UZ(77,"img",43),l.qZA()(),l.TgZ(78,"figure",41)(79,"a",44),l._UZ(80,"img",45),l.qZA()(),l.TgZ(81,"figure",46)(82,"a",47),l._UZ(83,"img",48),l.qZA()(),l.TgZ(84,"figure",41)(85,"a",38),l._UZ(86,"img",49),l.qZA()()()()()()),2&t&&(l.Q6J("ngIf",r.ctaOn),l.xp6(1),l.Q6J("ngIf",null!=r.news[0]),l.xp6(1),l.Q6J("ngClass",l.VKq(4,td,r.mobilePortrait)),l.xp6(79),l.Q6J("queryParams",l.DdM(6,PD)))},dependencies:[ur,Hi,dr,cs,kr,n_,Ws],styles:[".mobile-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:2rem}.mobile-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mobile-section[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .mobile-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.88rem;line-height:1.17rem}.mobile-section[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .mobile-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.75rem;line-height:1.17rem}.mobile-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;line-height:2rem}.mobile-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.1rem}.mobile-section[_ngcontent-%COMP%]   .h1-p[_ngcontent-%COMP%]{margin-bottom:.9rem}.mobile-section[_ngcontent-%COMP%]   .p-content[_ngcontent-%COMP%]{margin-bottom:1.5rem}.button-holder[_ngcontent-%COMP%]{display:flex;justify-content:center}.footer-news[_ngcontent-%COMP%]{background-size:100%;background-position:top}.mobile-section[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat}.news-holder[_ngcontent-%COMP%]{padding:2.5rem .625rem;background-color:#f5fbffc4;display:flex;justify-content:space-between;align-items:center}.news-holder[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{width:77.22vw;height:auto}.visible-article[_ngcontent-%COMP%]{display:block}.invisible-article[_ngcontent-%COMP%]{display:none}.footer-credentials[_ngcontent-%COMP%]{width:100vw;height:20vh;padding:0;margin-top:-6vw}.footer-bg-red[_ngcontent-%COMP%]{background-image:url(red_bottom.706e6e0765b5d0b9.svg);background-size:105vw;background-position:top;position:absolute;width:105vw;height:100%;top:-.3vw;left:-.15vw;z-index:1}.mobile-section[_ngcontent-%COMP%]   .footer-bg-red[_ngcontent-%COMP%]{top:-1vw}.footer-bg-redfade[_ngcontent-%COMP%]{background-image:url(red60_bottom.f9a583d261733502.svg);background-size:105vw;background-position:top;position:absolute;top:0;left:-1vw;width:105vw;height:100%;z-index:2}.footer-fade[_ngcontent-%COMP%]{background:linear-gradient(180deg,var(--red60),white);position:absolute;top:7vw;left:-1vw;width:105vw;height:100%;z-index:3}#footer-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:10;padding:7.5vw 8.33vw 0}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.mobile-section[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.footer-entry[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;width:27vw;min-height:205px}.mobile-section[_ngcontent-%COMP%]   .footer-entry[_ngcontent-%COMP%]{width:83.34vw;min-height:100px;margin-bottom:6.25vh}figure.footer-entry[_ngcontent-%COMP%]{justify-content:center}.footer-entry[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80%;max-width:350px;height:auto;cursor:pointer}.directlinks[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}.mobile-section[_ngcontent-%COMP%]   .directlinks[_ngcontent-%COMP%]{justify-content:space-between}.directlinks[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-end;list-style:none;padding-left:0;font-family:ubuntu;font-size:1rem;color:#000;min-width:163px}.mobile-section[_ngcontent-%COMP%]   .directlinks[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-size:.75rem}.directlinks[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:nth-of-type(2){align-items:flex-start}.directlinks[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:.3rem .6rem}.contact[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:space-around}.mobile-section[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.contact-entry[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:.3rem;font-size:1rem;min-width:192px}.contact-icon[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:1.5rem;height:1.5rem;margin-right:.3rem}.social[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.social[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%}.social-icons[_ngcontent-%COMP%]{margin-top:.3rem;width:4rem;height:4rem;display:flex;justify-content:center;align-items:center;cursor:pointer}.credentials[_ngcontent-%COMP%]{margin-top:5.56vw;width:100%;display:flex;justify-content:space-between;align-items:center;font-family:ubuntu;font-size:.81rem}.mobile-section[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]{width:83.34vw;font-size:.75rem}.credentials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .directlinks[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:ubuntu-bolder;font-size:.81rem;line-height:1.17rem;color:#000;cursor:pointer}.mobile-section[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .mobile-section[_ngcontent-%COMP%]   .directlinks[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .mobile-section[_ngcontent-%COMP%]   .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.credentials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .directlinks[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .contact[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{animation-name:a-fade;animation-duration:1s;color:var(--red100)}.credentials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:ubuntu-bolder;font-size:.81rem;color:var(--red100)}.mobile-section[_ngcontent-%COMP%]   .credentials[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem}#footer-qualification[_ngcontent-%COMP%]{margin-top:2.2vw}.qualification-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.qualification[_ngcontent-%COMP%]{margin:.63rem 5vw;display:flex;justify-content:center;align-items:center;height:120px;width:120px}.qualification[_ngcontent-%COMP%]:last-of-type{margin:.63rem 3vw;display:flex;justify-content:center;align-items:center;height:120px;width:500px}.mobile-section[_ngcontent-%COMP%]   .qualification[_ngcontent-%COMP%]{height:60px;width:60px}.qualification[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:120px;max-width:120px;cursor:pointer}.qualification[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:last-of-type{max-height:120px;max-width:480px;cursor:pointer}.mobile-section[_ngcontent-%COMP%]   .qualification[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:60px;max-width:60px}.qualification-large[_ngcontent-%COMP%]{background-color:#f5fbffe7;border:1px solid var(--red100);margin:.63rem 3vw;display:flex;justify-content:center;align-items:center;height:20vw;width:20vw}.mobile-section[_ngcontent-%COMP%]   .qualification-large[_ngcontent-%COMP%]{height:50vw;width:50vw}.qualification-large[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:19vw;max-width:19vw}.mobile-section[_ngcontent-%COMP%]   .qualification-large[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:49vw;max-width:49vw}app-button[_ngcontent-%COMP%]{z-index:50}.footer-container[_ngcontent-%COMP%]{max-width:800px;margin:auto;text-align:left}"]}),n})();const DC=function(n){return{"mobile-cookie-container":n}},OD=function(){return{article:"cookies"}};let ND=(()=>{class n{constructor(t){this.cookieService=t,this.mobilePortrait=!1,this.cookie_name="",this.all_cookies="",this.cookiesAccepted=!1,this.cookiesAcceptedChanged=new l.vpe}ngOnInit(){}setCookie(){this.cookieService.set("name","sallys-tiertraining"),console.log(this.cookieService.get("name"))}changeCookiesAccepted(t){this.cookiesAccepted=t,this.setCookie(),this.cookiesAcceptedChanged.emit(this.cookiesAccepted)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(iC))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-cookie-disclaimer"]],inputs:{mobilePortrait:"mobilePortrait"},outputs:{cookiesAcceptedChanged:"cookiesAcceptedChanged"},decls:6,vars:8,consts:[[1,"cookie-container",3,"ngClass"],["routerLink","/Impressum",3,"queryParams"],["buttonTitle","Zustimmen",3,"mobilePortrait","buttonDesign","cookieButton","cookiesAcceptedChanged"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"p"),l._uU(2,"Diese Internetseite verwendet Cookies zu unterschiedlichen Zwecken. Bitte stimme deren Verwendung zu, um die Seite vollumf\xe4nglich nutzen zu k\xf6nnen."),l.qZA(),l.TgZ(3,"a",1),l._uU(4,"Mehr erfahren"),l.qZA(),l.TgZ(5,"app-button",2),l.NdJ("cookiesAcceptedChanged",function(o){return r.changeCookiesAccepted(o)}),l.qZA()()),2&t&&(l.Q6J("ngClass",l.VKq(5,DC,r.mobilePortrait)),l.xp6(3),l.Q6J("queryParams",l.DdM(7,OD)),l.xp6(2),l.Q6J("mobilePortrait",r.mobilePortrait)("buttonDesign","secondary")("cookieButton",!0))},dependencies:[ur,kr,Ws],styles:[".cookie-container[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100vw;padding:0 1vw;height:auto;z-index:300;background-color:#a99998c5;display:flex;justify-content:space-between;align-items:center}p[_ngcontent-%COMP%]{width:60%;font-size:1rem;text-align:left}a[_ngcontent-%COMP%]{font-family:ubuntu-bolder;font-size:1rem}app-button[_ngcontent-%COMP%]{margin:.3rem 0}.mobile-cookie-container[_ngcontent-%COMP%]{flex-direction:column;padding:.5rem}.mobile-cookie-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem;text-align:center;font-size:1rem}.mobile-cookie-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:.5rem}.mobile-cookie-container[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{margin:0}"]}),n})();function kD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"app-cookie-disclaimer",4),l.NdJ("cookiesAcceptedChanged",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.cookiesAccepted=i)}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("mobilePortrait",t.mobilePortrait)}}const RD=function(n){return{"browser-without-a":n}};let MC=(()=>{class n{constructor(t,r,i,o,u){this.cookieService=t,this.responsive=r,this.router=i,this.route=o,this.deviceDetectorService=u,this.title="sallys-tiertraining",this.mobilePortrait=!1,this.activeRoute="/",this.browserWithoutA=!1,this.heroes=[{id:"individual",pictureUrl:"../../../assets/backgrounds/heroes/einzel_mobile.jpg",pictureUrlDesk:"../../../assets/backgrounds/heroes/einzel_desk.jpg",title:"Einzeltraining Hunde",subtitle:"Aller Anfang ist schwer?!",text:"Einzigartige Hunde brauchen individuelle L\xf6sungen. In meinem Einzeltraining k\xf6nnen wir ihre \u201eBaustellen\u201c gezielt analysieren und finden gemeinsam L\xf6sungen f\xfcr ein entspannteres Zusammenleben."},{id:"group",pictureUrl:"../../../assets/backgrounds/heroes/gruppe_mobile.JPG",pictureUrlDesk:"../../../assets/backgrounds/heroes/gruppe_desk.JPG",title:"Gruppentraining Hunde",subtitle:"Vom Tollpatsch zum Akrobaten",text:"Du willst deinem Hund eine Aufgabe oder Besch\xe4ftigung geben? Daf\xfcr habe ich in meinem Gruppentraining verschiedene Wege, nicht nur deinem vierbeinigen Freund k\xf6rperlich und kognitiv gerecht zu werden, sondern auch f\xfcr viel gemeinsamen Spa\xdf zu sorgen.\n      Bitte beachte, dass die Voraussetzung f\xfcr eine Gruppenstunde mindestens eine Einzelstunde ist.\n      "},{id:"me",pictureUrl:"../../../assets/backgrounds/heroes/me_mobile.jpg",pictureUrlDesk:"../../../assets/backgrounds/heroes/me_desk.jpg",title:"Das bin ich",subtitle:"Sally Davidson (mit meinen Hunden Maya und Biene)",text:"Ich bin einfach tierverr\xfcckt. Mehr ist eigentlich nicht zu sagen."},{id:"horse",pictureUrl:"../../../assets/backgrounds/heroes/pferde_hero.jpg",pictureUrlDesk:"../../../assets/backgrounds/heroes/pferde_hero.jpg",title:"Pferdereiten",subtitle:"Gl\xfcck auf vier Hufen",text:"Was lange aufgebaut wird, bleibt lange gut. Ich helfe dir sowohl deine F\xe4higkeiten als auch die deines Pferdes langfristig zu verbessern. Egal ob du ein Turnierziel verfolgst, dein Pferd gesund halten willst oder ihr einfach zusammen Spa\xdf haben wollt, einer meiner Trainings ist das Richtige f\xfcr dich, um dich in der n\xf6tigen Arbeit mit deinem Pferd zu unterst\xfctzen."},{id:"gallery",pictureUrl:"../../../assets/backgrounds/heroes/gallery_mobile.JPG",pictureUrlDesk:"../../../assets/backgrounds/heroes/gallery_desk.JPG",title:"Galerie",subtitle:"Einige Eindr\xfccke",text:"Hier kannst du dir selbst ein Bild von Maya, mir und meiner Arbeit machen."},{id:"contact",pictureUrl:"../../../assets/backgrounds/heroes/kontakt_mobile.jpg",pictureUrlDesk:"../../../assets/backgrounds/heroes/kontakt_desk.jpg",title:"Kontakt",subtitle:"Wie kann ich dir helfen?",text:"Wenn du fragen hast, melde dich gerne."},{id:"impressum",pictureUrl:"../../../assets/backgrounds/heroes/impressum.JPG",pictureUrlDesk:"../../../assets/backgrounds/heroes/impressum.JPG",title:"Impressum",subtitle:"",text:""},{id:"qualis",pictureUrl:"../../../assets/backgrounds/heroes/quali_mobile.JPG",pictureUrlDesk:"../../../assets/backgrounds/heroes/quali_desk.JPG",title:"Qualifikationen",subtitle:"",text:"Hier findest du meine Qualifikationen"},{id:"stable",pictureUrl:"../../../assets/backgrounds/heroes/anlage.JPG",pictureUrlDesk:"../../../assets/backgrounds/heroes/anlage.JPG",title:"Unser Reitstall",subtitle:"",text:"Willkommen in unserem Reitstall, wo sowohl Pferde als auch Reiter im Mittelpunkt stehen. Unser Stall zeichnet sich durch eine freundliche und professionelle Atmosph\xe4re aus, die von unseren engagierten Mitarbeiterinnen gepr\xe4gt wird."},{id:"pension",pictureUrl:"../../../assets/backgrounds/heroes/stall_boxen.JPG",pictureUrlDesk:"../../../assets/backgrounds/heroes/stall_boxen.JPG",title:"Pension",subtitle:"",text:"Die Pferdepension ist der ideale Ort f\xfcr dein Pferd, um in einer sicheren und liebevollen Umgebung zu leben. Wir freuen uns darauf, dich und dein Pferd bei uns willkommen zu hei\xdfen."}],this.activeHero=this.heroes[0],this.heroUrl="",this.openArticles=[!1,!1,!1,!1],this.focussedArticle="",this.router.events.subscribe(f=>{f instanceof nf&&(this.activeRoute=f.url,this.setHeroToActiveRoute())})}ngOnInit(){"sallys-tiertraining"===this.cookieService.get("name")&&(console.log(this.cookieService.get("name")),this.cookiesAccepted=!0),this.deviceInfo=this.deviceDetectorService.getDeviceInfo(),("MS-Edge-Chromium"===this.deviceInfo.browser||"Chrome"===this.deviceInfo.browser)&&(this.browserWithoutA=!0),this.responsive.observe(["(max-width: 599.98px)","(min-width: 600px) and (max-width: 959.98px)"]).subscribe(t=>{t.matches&&(this.mobilePortrait=!0)}),this.responsive.observe("(min-width: 1280px) and (max-width: 1919.98px)").subscribe(t=>{t.matches&&(this.mobilePortrait=!1)}),this.route.queryParams.subscribe(t=>{switch(t.openArticle){case"0":this.openArticles=[!0,!1,!1,!1];break;case"1":this.openArticles=[!1,!0,!1,!1];break;case"2":this.openArticles=[!1,!1,!0,!1];break;case"3":this.openArticles=[!1,!1,!1,!0]}this.focussedArticle=t.article})}onOutletLoaded(t){t.mobilePortrait=this.mobilePortrait,t.hero=this.activeHero,t.openArticles=this.openArticles,t.article=this.focussedArticle}setHeroToActiveRoute(){switch(this.activeRoute){case"/Hundegruppentraining":this.activeHero=this.heroes[1];break;case"/Hundeeinzeltraining":this.activeHero=this.heroes[0];break;case"/Reitunterricht":this.activeHero=this.heroes[3];break;case"/DasBinIch":this.activeHero=this.heroes[2];break;case"/Galerie":this.activeHero=this.heroes[4];break;case"/Kontakt":this.activeHero=this.heroes[5];break;case"/Impressum":this.activeHero=this.heroes[6];break;case"/Qualifikationen":this.activeHero=this.heroes[7];break;case"/Reitstall":this.activeHero=this.heroes[8];break;case"/Pension":this.activeHero=this.heroes[9]}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(iC),l.Y36(zn),l.Y36(Nr),l.Y36(bo),l.Y36(h_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:6,consts:[[3,"ngClass"],[3,"mobilePortrait"],[3,"activate"],[3,"mobilePortrait","cookiesAcceptedChanged",4,"ngIf"],[3,"mobilePortrait","cookiesAcceptedChanged"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"app-navigation",1),l.TgZ(2,"router-outlet",2),l.NdJ("activate",function(o){return r.onOutletLoaded(o)}),l.qZA(),l._UZ(3,"app-footer",1),l.YNc(4,kD,1,1,"app-cookie-disclaimer",3),l.qZA()),2&t&&(l.Q6J("ngClass",l.VKq(4,RD,r.browserWithoutA)),l.xp6(1),l.Q6J("mobilePortrait",r.mobilePortrait),l.xp6(2),l.Q6J("mobilePortrait",r.mobilePortrait),l.xp6(1),l.Q6J("ngIf",!r.cookiesAccepted))},dependencies:[ur,dr,cf,lc,xD,ND]}),n})();const v_=function(n){return{"background-image":n}};function FD(n,e){if(1&n&&l._UZ(0,"figure",7),2&n){const t=l.oxw();l.Q6J("ngStyle",l.VKq(1,v_,"url("+t.hero.pictureUrl+")"))}}function LD(n,e){if(1&n&&l._UZ(0,"figure",7),2&n){const t=l.oxw();l.Q6J("ngStyle",l.VKq(1,v_,"url("+t.hero.pictureUrlDesk+")"))}}const ui=function(n){return{"mobile-hero-container":n}};let bs=(()=>{class n{constructor(){this.mobilePortrait=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-hero-section"]],inputs:{mobilePortrait:"mobilePortrait",hero:"hero"},decls:12,vars:8,consts:[[1,"hero-container",3,"ngClass"],["class","hero-image",3,"ngStyle",4,"ngIf"],[1,"fader"],[1,"hero-content"],["id","hero-article"],[1,"h1-h2"],[1,"h1-p"],[1,"hero-image",3,"ngStyle"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,FD,1,3,"figure",1),l.YNc(2,LD,1,3,"figure",1),l._UZ(3,"figure",2),l.TgZ(4,"div",3)(5,"article",4)(6,"h1",5),l._uU(7),l.qZA(),l.TgZ(8,"h2",6),l._uU(9),l.qZA(),l.TgZ(10,"p"),l._uU(11),l.qZA()()()()),2&t&&(l.Q6J("ngClass",l.VKq(6,ui,r.mobilePortrait)),l.xp6(1),l.Q6J("ngIf",r.mobilePortrait),l.xp6(1),l.Q6J("ngIf",!r.mobilePortrait),l.xp6(5),l.Oqu(r.hero.title),l.xp6(2),l.Oqu(r.hero.subtitle),l.xp6(2),l.Oqu(r.hero.text))},dependencies:[ur,dr,cs],styles:[".hero-container[_ngcontent-%COMP%]{position:relative;padding-top:1vh;width:100vw;height:63vh}.mobile-hero-container[_ngcontent-%COMP%]{padding-top:8vh;height:48vh;margin-bottom:6.25vh}.mobile-hero-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:2rem}.mobile-hero-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;line-height:2rem}.mobile-hero-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.88rem;line-height:1.17rem}.mobile-hero-container[_ngcontent-%COMP%]   .h1-h2[_ngcontent-%COMP%]{margin-bottom:.15rem}.mobile-hero-container[_ngcontent-%COMP%]   .h1-p[_ngcontent-%COMP%]{margin-bottom:.9rem}.hero-image[_ngcontent-%COMP%]{width:100vw;height:50vh;background-image:url(landing.25808a4bdec7ddbc.jpg);background-repeat:no-repeat;background-size:cover;background-position:center}.mobile-hero-container[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]{height:25vh}.fader[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(255,255,255,0),white);position:absolute;left:0;top:33vh;width:100vw;height:18vh}.mobile-hero-container[_ngcontent-%COMP%]   .fader[_ngcontent-%COMP%]{height:10vh;top:25.1vh}.hero-content[_ngcontent-%COMP%]{padding:0 8.33vw;display:flex;justify-content:center;align-items:flex-end;position:absolute;left:0;top:0;width:100vw;height:58vh}.mobile-hero-container[_ngcontent-%COMP%]   .hero-content[_ngcontent-%COMP%]{justify-content:center;bottom:0;height:48vh}article[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.mobile-hero-container[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{height:auto;margin-top:30vh}"]}),n})();const VD=function(n){return{color:n}};function TV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",5),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.openArticle())}),l.TgZ(1,"h1",6),l._uU(2),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("ngClass",t.borderOn?"withBorder":"withoutBorder"),l.xp6(1),l.Q6J("ngStyle",l.VKq(3,VD,t.borderOn?"var(--red100)":"white")),l.xp6(1),l.Oqu(t.article.title)}}function b_(n,e){if(1&n&&(l.TgZ(0,"h1"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.article.title)}}function PC(n,e){if(1&n&&(l.TgZ(0,"h3"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.article.subtitle)}}function BD(n,e){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.article.mobileText)}}function UD(n,e){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.article.text)}}function HD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",12),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.getContent())}),l._uU(1,"Mehr erfahren"),l.qZA()}}const xC=function(n){return{"centered-article-content":n}};function GD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",7)(1,"figure",8),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.openArticle())}),l.qZA(),l.TgZ(2,"article")(3,"div",9),l.YNc(4,b_,2,1,"h1",10),l.YNc(5,PC,2,1,"h3",10),l.YNc(6,BD,2,1,"p",10),l.YNc(7,UD,2,1,"p",10),l.qZA(),l.YNc(8,HD,2,0,"a",11),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(3),l.Q6J("ngClass",l.VKq(6,xC,""===t.article.subtitle&&""===t.article.text)),l.xp6(1),l.Q6J("ngIf",!t.mobilePortrait||t.mobilePortrait&&""===t.article.subtitle),l.xp6(1),l.Q6J("ngIf",""!=t.article.subtitle),l.xp6(1),l.Q6J("ngIf",t.mobilePortrait&&""!=t.article.text),l.xp6(1),l.Q6J("ngIf",!t.mobilePortrait&&""!=t.article.text),l.xp6(1),l.Q6J("ngIf",t.article.expendable)}}const zD=function(n){return{"mobile-frame":n}},w_=function(n){return{"background-image":n}};let OC=(()=>{class n{constructor(){this.mobilePortrait=!1,this.articleOpen=!1,this.contentOpen=!1,this.article={id:"",pictureUrl:"../../../assets/backgrounds/frame-pictures/einzel3.jpg",title:"",subtitle:"",text:"",mobileText:"",expendable:!0,expand:[{id:"",title:"",text:"",price:""}]},this.borderOn=!1,this.contentOpenChange=new l.vpe,this.articleOpenChange=new l.vpe}getContent(){this.contentOpen=!0,this.contentOpenChange.emit(this.contentOpen)}openArticle(){this.articleOpen=!this.articleOpen,this.articleOpenChange.emit(this.articleOpen)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-picture-frame"]],inputs:{mobilePortrait:"mobilePortrait",articleOpen:"articleOpen",contentOpen:"contentOpen",article:"article"},outputs:{contentOpenChange:"contentOpenChange",articleOpenChange:"articleOpenChange"},decls:5,vars:9,consts:[[1,"outer-frame",3,"ngClass","mouseover","mouseleave"],[1,"outer-frame-background",3,"ngClass","ngStyle"],[1,"frame-content"],["class","border-fade","class","inner-frame-title",3,"ngClass","click",4,"ngIf"],["class","inner-frame fade",4,"ngIf"],[1,"inner-frame-title",3,"ngClass","click"],[3,"ngStyle"],[1,"inner-frame","fade"],[1,"nav-close",3,"click"],[1,"article-content",3,"ngClass"],[4,"ngIf"],[3,"click",4,"ngIf"],[3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.NdJ("mouseover",function(){return r.borderOn=!0})("mouseleave",function(){return r.borderOn=!1}),l._UZ(1,"figure",1),l.TgZ(2,"div",2),l.YNc(3,TV,3,5,"div",3),l.YNc(4,GD,9,8,"div",4),l.qZA()()),2&t&&(l.Q6J("ngClass",l.VKq(5,zD,r.mobilePortrait)),l.xp6(1),l.Q6J("ngClass",r.articleOpen?"outer-frame-open":"")("ngStyle",l.VKq(7,w_,"url("+r.article.pictureUrl+")")),l.xp6(2),l.Q6J("ngIf",!r.articleOpen),l.xp6(1),l.Q6J("ngIf",r.articleOpen))},dependencies:[ur,dr,cs],styles:[".outer-frame[_ngcontent-%COMP%]{position:relative;width:43vw;height:32.43vw;box-shadow:2px 2px 6px #5a5c5d5e}.frame-content[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;padding:.625rem}.outer-frame-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-size:cover;background-position:top;background-repeat:no-repeat}.outer-frame[_ngcontent-%COMP%]:hover{box-shadow:.14vw .14vw .42vw #a9585581}.outer-frame-open[_ngcontent-%COMP%]{filter:blur(.2rem)}.inner-frame[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;padding:1.25rem;background-color:#f5fbffe7;border:1px solid var(--red100);display:flex;flex-direction:column;justify-content:center;align-items:center}.inner-frame-title[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.withBorder[_ngcontent-%COMP%]{border:1px solid var(--red100);color:var(--red100);animation-name:_ngcontent-%COMP%_border-fadeIn;animation-duration:1.5s}.withoutBorder[_ngcontent-%COMP%]{color:#fff;border:1px solid rgba(255,255,255,0);animation-name:_ngcontent-%COMP%_border-fadeOut;animation-duration:1.5s}.nav-close[_ngcontent-%COMP%]{align-self:flex-end}article[_ngcontent-%COMP%]{padding:1.25rem;width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-between;align-items:center}.centered-article-content[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.article-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:1rem 0 .5rem}article[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:ubuntu-bolder;color:#000;font-size:1.2rem;line-height:1.2rem}article[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--red100)}.mobile-frame[_ngcontent-%COMP%]{width:83.34vw;height:55.6vw;margin-bottom:.9rem}.mobile-frame[_ngcontent-%COMP%]   .frame-content[_ngcontent-%COMP%], .mobile-frame[_ngcontent-%COMP%]   .inner-frame[_ngcontent-%COMP%]{padding:.3rem}.mobile-frame[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{padding:.3rem}.mobile-frame[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem}.mobile-frame[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .3rem;font-size:2rem}.mobile-frame[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.88rem}.mobile-frame[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem}@keyframes _ngcontent-%COMP%_border-fadeIn{0%{border:1px solid rgba(255,255,255,0);color:#fff}to{border:1px solid var(--red100);color:var(--red100)}}@keyframes _ngcontent-%COMP%_border-fadeOut{0%{border:1px solid var(--red100);color:var(--red100)}to{border:1px solid rgba(255,255,255,0);color:#fff}}"]}),n})();function jD(n,e){1&n&&l._UZ(0,"figure",10)}function $D(n,e){1&n&&l._UZ(0,"figure",11)}function WD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",12),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.extendedContentOpen=!0)}),l._uU(1,"Mehr erfahren"),l.qZA()}}const NC=function(n,e){return{"background-image":n,"background-size":e}};function ws(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",2),l._UZ(2,"figure",3),l.YNc(3,jD,1,0,"figure",4),l.YNc(4,$D,1,0,"figure",5),l.TgZ(5,"div",6)(6,"article",7)(7,"h2",8),l._uU(8),l.qZA(),l.TgZ(9,"p"),l._uU(10),l.qZA(),l.YNc(11,WD,2,0,"a",9),l.qZA()()()()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngClass",t.leftPicture?"left-image-article-container":"right-image-article-container"),l.xp6(1),l.Q6J("ngStyle",l.WLB(7,NC,"url("+t.article.pictureUrl+")",t.article.sizeing)),l.xp6(1),l.Q6J("ngIf",t.fadeOn),l.xp6(1),l.Q6J("ngIf",t.fadeOn),l.xp6(4),l.Oqu(t.article.title),l.xp6(2),l.Oqu(t.article.text),l.xp6(1),l.Q6J("ngIf",t.extendedContentAvailable&&!t.extendedContentOpen)}}function C_(n,e){1&n&&l._UZ(0,"figure",16)}function qD(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",12),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.extendedContentOpen=!0)}),l._uU(1,"Mehr erfahren"),l.qZA()}}function kC(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",13)(2,"div",14),l._UZ(3,"figure",3),l.YNc(4,C_,1,0,"figure",15),l.qZA(),l.TgZ(5,"div",6)(6,"article",7)(7,"h2",8),l._uU(8),l.qZA(),l.TgZ(9,"p"),l._uU(10),l.qZA(),l.YNc(11,qD,2,0,"a",9),l.qZA()()()()),2&n){const t=l.oxw();l.xp6(3),l.Q6J("ngStyle",l.WLB(5,NC,"url("+t.article.pictureUrl+")",t.article.sizeing)),l.xp6(1),l.Q6J("ngIf",t.fadeOn),l.xp6(4),l.Oqu(t.article.title),l.xp6(2),l.Oqu(t.article.text),l.xp6(1),l.Q6J("ngIf",t.extendedContentAvailable&&!t.extendedContentOpen)}}function ZD(n,e){if(1&n&&(l.TgZ(0,"h2"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.title)}}function RC(n,e){if(1&n&&(l.TgZ(0,"div",23)(1,"p")(2,"b"),l._uU(3,"6er-Karte"),l.qZA()(),l.TgZ(4,"p"),l._uU(5),l.qZA()()),2&n){const t=l.oxw(2).$implicit;l.xp6(5),l.Oqu(t.price6)}}function FC(n,e){if(1&n&&(l.TgZ(0,"div",23)(1,"p")(2,"b"),l._uU(3,"10er-Karte"),l.qZA()(),l.TgZ(4,"p"),l._uU(5),l.qZA()()),2&n){const t=l.oxw(2).$implicit;l.xp6(5),l.Oqu(t.price10)}}function kf(n,e){if(1&n&&(l.TgZ(0,"div",21)(1,"h2"),l._uU(2,"Meine Preise"),l.qZA(),l.TgZ(3,"div",22)(4,"div",23)(5,"p")(6,"b"),l._uU(7,"Eine Stunde"),l.qZA()(),l.TgZ(8,"p"),l._uU(9),l.qZA()(),l.YNc(10,RC,6,1,"div",24),l.YNc(11,FC,6,1,"div",24),l.qZA(),l.TgZ(12,"p"),l._uU(13,"zzgl. Fahrtkosten: au\xdferhalb Bottmersdorf bis 10 km 5 Euro, ab 10 km zzgl. 0,45 Cent je Kilometer"),l.qZA()()),2&n){const t=l.oxw().$implicit;l.xp6(9),l.Oqu(t.price),l.xp6(1),l.Q6J("ngIf",""!=t.price6&&null!=t.price6),l.xp6(1),l.Q6J("ngIf",""!=t.price10&&null!=t.price10)}}function T_(n,e){if(1&n&&(l.TgZ(0,"article"),l.YNc(1,ZD,2,1,"h2",0),l.TgZ(2,"p"),l._uU(3),l.qZA(),l.YNc(4,kf,14,3,"div",20),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",""!=t.title),l.xp6(2),l.hij(" ",t.text," "),l.xp6(1),l.Q6J("ngIf",""!=t.price&&null!=t.price)}}const EV=function(n){return{"mobile-extended-content":n}};function LC(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",17),l.YNc(1,T_,5,3,"article",18),l.TgZ(2,"figure",19),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.extendedContentOpen=!1)}),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("ngClass",l.VKq(2,EV,t.mobilePortrait)),l.xp6(1),l.Q6J("ngForOf",t.extend)}}let VC=(()=>{class n{constructor(){this.mobilePortrait=!1,this.leftPicture=!0,this.fadeOn=!0,this.extendedContentAvailable=!0,this.extendedContentOpen=!1,this.extend=[{id:"",title:"",text:"",price:""}]}ngOnInit(){this.extendedContentAvailable=this.article.expendable,this.extend=this.article.expand}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-picture-article"]],inputs:{mobilePortrait:"mobilePortrait",leftPicture:"leftPicture",article:"article",fadeOn:"fadeOn"},decls:3,vars:3,consts:[[4,"ngIf"],["class","extended-content article-fade",3,"ngClass",4,"ngIf"],[1,"image-article-container",3,"ngClass"],[1,"article-image",3,"ngStyle"],["class","faderstart",4,"ngIf"],["class","faderend",4,"ngIf"],[1,"article-content"],[1,"picture-article-article"],[1,"h1-p"],[3,"click",4,"ngIf"],[1,"faderstart"],[1,"faderend"],[3,"click"],[1,"image-article-container","mobile-article"],[1,"image-content"],["class","fader",4,"ngIf"],[1,"fader"],[1,"extended-content","article-fade",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"nav-close",3,"click"],["class","prices",4,"ngIf"],[1,"prices"],[1,"price-entries"],[1,"price-entry"],["class","price-entry",4,"ngIf"]],template:function(t,r){1&t&&(l.YNc(0,ws,12,10,"div",0),l.YNc(1,kC,12,8,"div",0),l.YNc(2,LC,3,4,"div",1)),2&t&&(l.Q6J("ngIf",!r.mobilePortrait),l.xp6(1),l.Q6J("ngIf",r.mobilePortrait),l.xp6(1),l.Q6J("ngIf",r.extendedContentOpen))},dependencies:[ur,Hi,dr,cs],styles:[".image-article-container[_ngcontent-%COMP%]{position:relative;width:100vw;height:32.43vw;margin:40px 0 80px}.image-article-container[_ngcontent-%COMP%]   .article-image[_ngcontent-%COMP%]{position:absolute;top:0;width:50vw;height:32.43vw;background-position:center;background-repeat:no-repeat}.left-image-article-container[_ngcontent-%COMP%]   .article-image[_ngcontent-%COMP%]{left:0}.right-image-article-container[_ngcontent-%COMP%]   .article-image[_ngcontent-%COMP%]{right:0}.image-article-container[_ngcontent-%COMP%]   .faderstart[_ngcontent-%COMP%]{position:absolute;top:0;width:24vw;height:32.43vw}.left-image-article-container[_ngcontent-%COMP%]   .faderstart[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,255,255,0),white);right:49.11vw}.right-image-article-container[_ngcontent-%COMP%]   .faderstart[_ngcontent-%COMP%]{background:linear-gradient(-90deg,rgba(255,255,255,0),white);left:49.11vw}.image-article-container[_ngcontent-%COMP%]   .faderend[_ngcontent-%COMP%]{width:12vw;height:32.43vw;position:absolute;top:0}.left-image-article-container[_ngcontent-%COMP%]   .faderend[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,255,255,0),white);right:49.11vw}.right-image-article-container[_ngcontent-%COMP%]   .faderend[_ngcontent-%COMP%]{background:linear-gradient(-90deg,rgba(255,255,255,0),white);left:49.11vw}.image-article-container[_ngcontent-%COMP%]   .article-content[_ngcontent-%COMP%]{padding:1.25rem;display:flex;align-items:center;justify-content:center;position:absolute;top:0;width:41.67vw;height:32.43vw}.left-image-article-container[_ngcontent-%COMP%]   .article-content[_ngcontent-%COMP%]{right:8.33vw}.right-image-article-container[_ngcontent-%COMP%]   .article-content[_ngcontent-%COMP%]{left:8.33vw}.image-article-container[_ngcontent-%COMP%]   .picture-article-article[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;text-align:left}.image-article-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:2.5rem;font-family:ubuntu-bolder;font-size:1.2rem;line-height:1.2rem}.image-article-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--red100)}.extended-content[_ngcontent-%COMP%]{margin:1.39vw 8.33vw;padding:2.5rem;background-color:#f5fbffe7;border:1px solid var(--red100);display:flex;flex-direction:column;justify-content:center;align-items:center}@media (min-width: 1400px){.extended-content[_ngcontent-%COMP%]{margin:1.39vw auto;max-width:1200px}}.extended-content[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{align-self:flex-end}.extended-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .extended-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2.5rem}.mobile-article[_ngcontent-%COMP%]{height:auto;min-height:245px;margin:6.25vh 0 0;display:flex;flex-direction:column}.mobile-article[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;line-height:2rem}.mobile-article[_ngcontent-%COMP%]   .h1-p[_ngcontent-%COMP%]{margin-bottom:.9rem}.mobile-article[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mobile-article[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.88rem;line-height:1.17rem}.mobile-article[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem}.mobile-article[_ngcontent-%COMP%]   .image-content[_ngcontent-%COMP%]{position:relative;width:100vw;height:68.06vw;min-height:245px}.mobile-article[_ngcontent-%COMP%]   .image-content[_ngcontent-%COMP%]   .article-image[_ngcontent-%COMP%]{width:100vw;height:68.06vw;min-height:245px}.mobile-article[_ngcontent-%COMP%]   .fader[_ngcontent-%COMP%]{position:absolute;background:linear-gradient(180deg,rgba(255,255,255,0),white);left:0;bottom:0;width:100%;height:20%}.mobile-article[_ngcontent-%COMP%]   .article-content[_ngcontent-%COMP%]{position:relative;margin:0 8.33vw;width:83.34vw;height:auto}.mobile-article[_ngcontent-%COMP%]   .picture-article-article[_ngcontent-%COMP%]{align-items:center;text-align:center}.mobile-extended-content[_ngcontent-%COMP%]{padding:.75rem}.mobile-extended-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.75rem;line-height:2rem}.mobile-extended-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.88rem;margin-bottom:1rem;line-height:1.17rem}.prices[_ngcontent-%COMP%]{display:flex;flex-direction:column}.prices[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .prices[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.prices[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-family:Ubuntu-italic;font-size:.8rem}.price-entries[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.mobile-extended-content[_ngcontent-%COMP%]   .price-entries[_ngcontent-%COMP%]{flex-direction:column}.price-entry[_ngcontent-%COMP%]{padding:.5rem 1.5rem;display:flex;flex-direction:column;justify-content:center;align-items:center}"]}),n})();function BC(n,e){if(1&n&&l._UZ(0,"app-picture-article",3),2&n){const t=l.oxw();l.Q6J("article",t.introductionArticles[0])("mobilePortrait",t.mobilePortrait)("leftPicture",!0)("fadeOn",t.fadeOn)}}function UC(n,e){if(1&n&&l._UZ(0,"app-picture-article",3),2&n){const t=l.oxw();l.Q6J("article",t.introductionArticles[1])("mobilePortrait",t.mobilePortrait)("leftPicture",!1)("fadeOn",t.fadeOn)}}function E_(n,e){if(1&n&&l._UZ(0,"app-picture-article",3),2&n){const t=l.oxw();l.Q6J("article",t.introductionArticles[2])("mobilePortrait",t.mobilePortrait)("leftPicture",!0)("fadeOn",t.fadeOn)}}function qs(n,e){if(1&n&&l._UZ(0,"app-picture-article",3),2&n){const t=l.oxw();l.Q6J("article",t.introductionArticles[3])("mobilePortrait",t.mobilePortrait)("leftPicture",!1)("fadeOn",t.fadeOn)}}function KD(n,e){if(1&n&&l._UZ(0,"app-picture-article",3),2&n){const t=l.oxw();l.Q6J("article",t.introductionArticles[4])("mobilePortrait",t.mobilePortrait)("leftPicture",!0)("fadeOn",t.fadeOn)}}function QD(n,e){if(1&n&&l._UZ(0,"app-picture-article",3),2&n){const t=l.oxw();l.Q6J("article",t.introductionArticles[5])("mobilePortrait",t.mobilePortrait)("leftPicture",!1)("fadeOn",t.fadeOn)}}const I_=function(n){return{"mobile-section":n}};function YD(n,e){if(1&n&&(l.TgZ(0,"section",4)(1,"article")(2,"h1",5),l._uU(3,"Irgendwas zum Kursangebot"),l.qZA(),l.TgZ(4,"p",5),l._uU(5,"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren."),l.qZA()()()),2&n){const t=l.oxw();l.Q6J("ngClass",l.VKq(1,I_,t.mobilePortrait))}}function JD(n,e){if(1&n&&(l.TgZ(0,"h2"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.title)}}function XD(n,e){if(1&n&&(l.TgZ(0,"div",22)(1,"p")(2,"b"),l._uU(3,"6er-Karte"),l.qZA()(),l.TgZ(4,"p"),l._uU(5),l.qZA()()),2&n){const t=l.oxw(2).$implicit;l.xp6(5),l.Oqu(t.price6)}}function IV(n,e){if(1&n&&(l.TgZ(0,"div",22)(1,"p")(2,"b"),l._uU(3,"10er-Karte"),l.qZA()(),l.TgZ(4,"p"),l._uU(5),l.qZA()()),2&n){const t=l.oxw(2).$implicit;l.xp6(5),l.Oqu(t.price10)}}function HC(n,e){if(1&n&&(l.TgZ(0,"div",22)(1,"p")(2,"b"),l._uU(3,"Vier Stunden und mehr"),l.qZA()(),l.TgZ(4,"p"),l._uU(5),l.qZA()()),2&n){const t=l.oxw(2).$implicit;l.xp6(5),l.Oqu(t.horse4)}}function eM(n,e){1&n&&(l.TgZ(0,"p"),l._uU(1,"zzgl. Fahrtkosten: au\xdferhalb Eimersleben bis 10 km 5 Euro, ab 10 km zzgl. 0,45 Cent je Kilometer"),l.qZA())}function Rf(n,e){if(1&n&&(l.TgZ(0,"div",20)(1,"h2"),l._uU(2,"Meine Preise"),l.qZA(),l.TgZ(3,"div",21)(4,"div",22)(5,"p")(6,"b"),l._uU(7,"Eine Stunde"),l.qZA()(),l.TgZ(8,"p"),l._uU(9),l.qZA()(),l.YNc(10,XD,6,1,"div",23),l.YNc(11,IV,6,1,"div",23),l.YNc(12,HC,6,1,"div",23),l.qZA(),l.YNc(13,eM,2,0,"p",18),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(4);l.xp6(9),l.Oqu(t.price),l.xp6(1),l.Q6J("ngIf",""!=t.price6&&null!=t.price6),l.xp6(1),l.Q6J("ngIf",""!=t.price10&&null!=t.price10),l.xp6(1),l.Q6J("ngIf",""!=t.horse4&&null!=t.horse4),l.xp6(1),l.Q6J("ngIf",!r.group)}}function nd(n,e){if(1&n&&(l.TgZ(0,"article",17),l.YNc(1,JD,2,1,"h2",18),l.TgZ(2,"p"),l._uU(3),l.qZA(),l.YNc(4,Rf,14,5,"div",19),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",""!=t.title),l.xp6(2),l.Oqu(t.text),l.xp6(1),l.Q6J("ngIf",""!=t.price&&null!=t.price)}}function Ff(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",14),l.YNc(1,nd,5,3,"article",15),l.TgZ(2,"figure",16),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(3);return l.KtG(i.closeContents(0,1))}),l.qZA()()}if(2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",t.chosenContent)}}function SV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"app-picture-frame",11),l.NdJ("contentOpenChange",function(i){l.CHM(t);const o=l.oxw(4);return l.KtG(o.contentsOpen[3]=i)})("articleOpenChange",function(i){l.CHM(t);const o=l.oxw(4);return l.KtG(o.closeOthers(3,i))})("contentOpenChange",function(){l.CHM(t);const i=l.oxw(4);return l.KtG(i.chosenContent=i.frameArticles[3].expand)}),l.qZA()}if(2&n){const t=l.oxw(4);l.Q6J("contentOpen",t.contentsOpen[3])("articleOpen",t.articlesOpen[3])("article",t.frameArticles[3])}}function tM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",10)(1,"app-picture-frame",11),l.NdJ("contentOpenChange",function(i){l.CHM(t);const o=l.oxw(3);return l.KtG(o.contentsOpen[2]=i)})("articleOpenChange",function(i){l.CHM(t);const o=l.oxw(3);return l.KtG(o.closeOthers(2,i))})("contentOpenChange",function(){l.CHM(t);const i=l.oxw(3);return l.KtG(i.chosenContent=i.frameArticles[2].expand)}),l.qZA(),l.YNc(2,SV,1,3,"app-picture-frame",24),l.qZA()}if(2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("contentOpen",t.contentsOpen[2])("articleOpen",t.articlesOpen[2])("article",t.frameArticles[2]),l.xp6(1),l.Q6J("ngIf",t.frameArticles.length>3)}}function GC(n,e){if(1&n&&(l.TgZ(0,"div",22)(1,"p")(2,"b"),l._uU(3,"6er-Karte"),l.qZA()(),l.TgZ(4,"p"),l._uU(5),l.qZA()()),2&n){const t=l.oxw(3).$implicit;l.xp6(5),l.Oqu(t.price6)}}function zC(n,e){if(1&n&&(l.TgZ(0,"div",22)(1,"p")(2,"b"),l._uU(3,"10er-Karte"),l.qZA()(),l.TgZ(4,"p"),l._uU(5),l.qZA()()),2&n){const t=l.oxw(3).$implicit;l.xp6(5),l.Oqu(t.price10)}}function nM(n,e){if(1&n&&(l.TgZ(0,"div",22)(1,"p")(2,"b"),l._uU(3,"Vier Stunden und mehr"),l.qZA()(),l.TgZ(4,"p"),l._uU(5),l.qZA()()),2&n){const t=l.oxw(3).$implicit;l.xp6(5),l.Oqu(t.horse4)}}function rM(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",22)(2,"p")(3,"b"),l._uU(4,"Eine Stunde"),l.qZA()(),l.TgZ(5,"p"),l._uU(6),l.qZA()(),l.YNc(7,GC,6,1,"div",23),l.YNc(8,zC,6,1,"div",23),l.YNc(9,nM,6,1,"div",23),l.qZA()),2&n){const t=l.oxw(2).$implicit;l.xp6(6),l.Oqu(t.price),l.xp6(1),l.Q6J("ngIf",""!=t.price6&&null!=t.price6),l.xp6(1),l.Q6J("ngIf",""!=t.price10&&null!=t.price10),l.xp6(1),l.Q6J("ngIf",""!=t.horse4&&null!=t.horse4)}}function jC(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",22)(2,"p")(3,"b"),l._uU(4,"Beide Kurse als Paket"),l.qZA()(),l.TgZ(5,"p"),l._uU(6),l.qZA()()()),2&n){const t=l.oxw(2).$implicit;l.xp6(6),l.Oqu(t.price)}}function $C(n,e){1&n&&(l.TgZ(0,"p"),l._uU(1,"zzgl. Fahrtkosten: au\xdferhalb Eimersleben bis 10 km 5 Euro, ab 10 km zzgl. 0,45 Cent je Kilometer"),l.qZA())}function rd(n,e){if(1&n&&(l.TgZ(0,"div",20)(1,"h2"),l._uU(2,"Meine Preise"),l.qZA(),l.TgZ(3,"div",21),l.YNc(4,rM,10,4,"div",18),l.YNc(5,jC,7,1,"div",18),l.qZA(),l.YNc(6,$C,2,0,"p",18),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(4);l.xp6(4),l.Q6J("ngIf","special"!=t.id),l.xp6(1),l.Q6J("ngIf","special"==t.id),l.xp6(1),l.Q6J("ngIf",!r.group)}}function iM(n,e){if(1&n&&(l.TgZ(0,"article",17)(1,"h2"),l._uU(2),l.qZA(),l.TgZ(3,"p"),l._uU(4),l.qZA(),l.YNc(5,rd,7,3,"div",19),l.qZA()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.title),l.xp6(2),l.Oqu(t.text),l.xp6(1),l.Q6J("ngIf",""!=t.price&&null!=t.price)}}function WC(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",14),l.YNc(1,iM,6,3,"article",15),l.TgZ(2,"figure",16),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(3);return l.KtG(i.closeContents(2,3))}),l.qZA()()}if(2&n){const t=l.oxw(3);l.xp6(1),l.Q6J("ngForOf",t.chosenContent)}}function qC(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",9)(1,"div",10)(2,"app-picture-frame",11),l.NdJ("contentOpenChange",function(i){l.CHM(t);const o=l.oxw(2);return l.KtG(o.contentsOpen[0]=i)})("articleOpenChange",function(i){l.CHM(t);const o=l.oxw(2);return l.KtG(o.closeOthers(0,i))})("contentOpenChange",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.chosenContent=i.frameArticles[0].expand)}),l.qZA(),l.TgZ(3,"app-picture-frame",11),l.NdJ("contentOpenChange",function(i){l.CHM(t);const o=l.oxw(2);return l.KtG(o.contentsOpen[1]=i)})("articleOpenChange",function(i){l.CHM(t);const o=l.oxw(2);return l.KtG(o.closeOthers(1,i))})("contentOpenChange",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.chosenContent=i.frameArticles[1].expand)}),l.qZA()(),l.YNc(4,Ff,3,1,"div",12),l.YNc(5,tM,3,4,"div",13),l.YNc(6,WC,3,1,"div",12),l.qZA()}if(2&n){const t=l.oxw(2);l.xp6(2),l.Q6J("contentOpen",t.contentsOpen[0])("articleOpen",t.articlesOpen[0])("article",t.frameArticles[0]),l.xp6(1),l.Q6J("contentOpen",t.contentsOpen[1])("articleOpen",t.articlesOpen[1])("article",t.frameArticles[1]),l.xp6(1),l.Q6J("ngIf",t.contentsOpen[0]||t.contentsOpen[1]),l.xp6(1),l.Q6J("ngIf",t.frameArticles.length>2),l.xp6(1),l.Q6J("ngIf",t.contentsOpen[2]||t.contentsOpen[3])}}function sM(n,e){if(1&n&&(l.TgZ(0,"h2"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.title)}}function oM(n,e){if(1&n&&(l.TgZ(0,"div",22)(1,"p")(2,"b"),l._uU(3,"6er-Karte"),l.qZA()(),l.TgZ(4,"p"),l._uU(5),l.qZA()()),2&n){const t=l.oxw(3).$implicit;l.xp6(5),l.Oqu(t.price6)}}function id(n,e){if(1&n&&(l.TgZ(0,"div",22)(1,"p")(2,"b"),l._uU(3,"10er-Karte"),l.qZA()(),l.TgZ(4,"p"),l._uU(5),l.qZA()()),2&n){const t=l.oxw(3).$implicit;l.xp6(5),l.Oqu(t.price10)}}function aM(n,e){if(1&n&&(l.TgZ(0,"div",22)(1,"p")(2,"b"),l._uU(3,"ab der 4. Reitstunde"),l.qZA()(),l.TgZ(4,"p"),l._uU(5),l.qZA()()),2&n){const t=l.oxw(3).$implicit;l.xp6(5),l.Oqu(t.horse4)}}function AV(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",22)(2,"p")(3,"b"),l._uU(4,"Eine Stunde"),l.qZA()(),l.TgZ(5,"p"),l._uU(6),l.qZA()(),l.YNc(7,oM,6,1,"div",23),l.YNc(8,id,6,1,"div",23),l.YNc(9,aM,6,1,"div",23),l.qZA()),2&n){const t=l.oxw(2).$implicit;l.xp6(6),l.Oqu(t.price),l.xp6(1),l.Q6J("ngIf",""!=t.price6&&null!=t.price6),l.xp6(1),l.Q6J("ngIf",""!=t.price10&&null!=t.price10),l.xp6(1),l.Q6J("ngIf",""!=t.horse4&&null!=t.horse4)}}function lM(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",22)(2,"p")(3,"b"),l._uU(4,"Beide Kurse als Paket"),l.qZA()(),l.TgZ(5,"p"),l._uU(6),l.qZA()()()),2&n){const t=l.oxw(2).$implicit;l.xp6(6),l.Oqu(t.price)}}function cM(n,e){1&n&&(l.TgZ(0,"p"),l._uU(1,"zzgl. Fahrtkosten: au\xdferhalb Eimersleben bis 10 km 5 Euro, ab 10 km zzgl. 0,45 Cent je Kilometer"),l.qZA())}function uM(n,e){if(1&n&&(l.TgZ(0,"div",20)(1,"h2"),l._uU(2,"Meine Preise"),l.qZA(),l.TgZ(3,"div",21),l.YNc(4,AV,10,4,"div",18),l.YNc(5,lM,7,1,"div",18),l.qZA(),l.YNc(6,cM,2,0,"p",18),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(5);l.xp6(4),l.Q6J("ngIf","special"!=t.id),l.xp6(1),l.Q6J("ngIf","special"==t.id),l.xp6(1),l.Q6J("ngIf",!r.group)}}function dM(n,e){if(1&n&&(l.TgZ(0,"article",17),l.YNc(1,sM,2,1,"h2",18),l.TgZ(2,"p"),l._uU(3),l.qZA(),l.YNc(4,uM,7,3,"div",19),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",""!=t.title),l.xp6(2),l.Oqu(t.text),l.xp6(1),l.Q6J("ngIf",""!=t.price&&null!=t.price)}}function hM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",14),l.YNc(1,dM,5,3,"article",15),l.TgZ(2,"figure",16),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(4);return l.KtG(i.closeContents(0,1))}),l.qZA()()}if(2&n){const t=l.oxw(4);l.xp6(1),l.Q6J("ngForOf",t.chosenContent)}}function fM(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",27)(1,"app-picture-frame",28),l.NdJ("contentOpenChange",function(i){const u=l.CHM(t).index,f=l.oxw(3);return l.KtG(f.contentsOpen[u]=i)})("articleOpenChange",function(i){const u=l.CHM(t).index,f=l.oxw(3);return l.KtG(f.closeOthers(u,i))}),l.qZA(),l.YNc(2,hM,3,1,"div",12),l.qZA()}if(2&n){const t=e.index,r=l.oxw(3);l.xp6(1),l.Q6J("mobilePortrait",r.mobilePortrait)("contentOpen",r.contentsOpen[t])("articleOpen",r.articlesOpen[t])("article",r.frameArticles[t]),l.xp6(1),l.Q6J("ngIf",r.contentsOpen[t])}}function pM(n,e){if(1&n&&(l.TgZ(0,"div",25),l.YNc(1,fM,3,5,"div",26),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Q6J("ngForOf",t.frameArticles)}}function ZC(n,e){if(1&n&&(l.TgZ(0,"div",6),l.YNc(1,qC,7,9,"div",7),l.YNc(2,pM,2,1,"div",8),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",!t.mobilePortrait),l.xp6(1),l.Q6J("ngIf",t.mobilePortrait)}}let Zs=(()=>{class n{constructor(){this.framesAvailable=!0,this.mobilePortrait=!1,this.fadeOn=!0,this.introductionArticles=[{id:"dummy",pictureUrl:"",title:"",subtitle:"",text:"",expendable:!1,expand:[{id:"",title:"",text:""}]}],this.articlesOpen=[!1,!1,!1,!1],this.contentsOpen=[!1,!1,!1,!1],this.group=!1,this.descriptionOpen=!1,this.chosenContent=[{id:"",title:"Was ist eigentlich Fun Agility?",text:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet."},{id:"",title:"Warum Fun Agility?",text:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet."},{id:"",title:"Was muss ich beachten?",text:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet."}]}closeOthers(t,r){console.log(t,r);for(let i=0;i<this.contentsOpen.length;i++)this.contentsOpen[i]=!1;if(r){for(let i=0;i<this.articlesOpen.length;i++)this.articlesOpen[i]=!1;this.articlesOpen[t]=!0,this.chosenContent=this.frameArticles[t].expand}}closeContents(t,r){this.contentsOpen[t]=!1,this.contentsOpen[r]=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-trainings"]],inputs:{framesAvailable:"framesAvailable",mobilePortrait:"mobilePortrait",fadeOn:"fadeOn",introductionArticles:"introductionArticles",frameArticles:"frameArticles",articlesOpen:"articlesOpen",contentsOpen:"contentsOpen",group:"group"},decls:8,vars:8,consts:[[3,"article","mobilePortrait","leftPicture","fadeOn",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","all-picture-frames",4,"ngIf"],[3,"article","mobilePortrait","leftPicture","fadeOn"],[3,"ngClass"],[1,"h1-p"],[1,"all-picture-frames"],["class","desktop-picture-frames",4,"ngIf"],["class","mobile-picture-frames",4,"ngIf"],[1,"desktop-picture-frames"],[1,"picture-frame-container"],[3,"contentOpen","articleOpen","article","contentOpenChange","articleOpenChange"],["class","picture-frame-description-content article-fade",4,"ngIf"],["class","picture-frame-container",4,"ngIf"],[1,"picture-frame-description-content","article-fade"],["class","picture-frame-article",4,"ngFor","ngForOf"],[1,"nav-close",3,"click"],[1,"picture-frame-article"],[4,"ngIf"],["class","prices",4,"ngIf"],[1,"prices"],[1,"price-entries"],[1,"price-entry"],["class","price-entry",4,"ngIf"],[3,"contentOpen","articleOpen","article","contentOpenChange","articleOpenChange",4,"ngIf"],[1,"mobile-picture-frames"],["class","frames-and-content",4,"ngFor","ngForOf"],[1,"frames-and-content"],[3,"mobilePortrait","contentOpen","articleOpen","article","contentOpenChange","articleOpenChange"]],template:function(t,r){1&t&&(l.YNc(0,BC,1,4,"app-picture-article",0),l.YNc(1,UC,1,4,"app-picture-article",0),l.YNc(2,E_,1,4,"app-picture-article",0),l.YNc(3,qs,1,4,"app-picture-article",0),l.YNc(4,KD,1,4,"app-picture-article",0),l.YNc(5,QD,1,4,"app-picture-article",0),l.YNc(6,YD,6,3,"section",1),l.YNc(7,ZC,3,2,"div",2)),2&t&&(l.Q6J("ngIf",r.introductionArticles.length>0&&"dummy"!=r.introductionArticles[0].id),l.xp6(1),l.Q6J("ngIf",r.introductionArticles.length>1),l.xp6(1),l.Q6J("ngIf",r.introductionArticles.length>2),l.xp6(1),l.Q6J("ngIf",r.introductionArticles.length>3),l.xp6(1),l.Q6J("ngIf",r.introductionArticles.length>4),l.xp6(1),l.Q6J("ngIf",r.introductionArticles.length>5),l.xp6(1),l.Q6J("ngIf",r.framesAvailable&&r.introductionArticles.length>0&&"dummy"!=r.introductionArticles[0].id),l.xp6(1),l.Q6J("ngIf",r.framesAvailable))},dependencies:[ur,Hi,dr,OC,VC],styles:[".picture-frame-container[_ngcontent-%COMP%]{width:100vw;display:flex;justify-content:space-between;padding:1.39vw 5vw}.mobile-section[_ngcontent-%COMP%]{padding-bottom:.9rem}.mobile-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:2rem}.mobile-section[_ngcontent-%COMP%]   .h1-p[_ngcontent-%COMP%]{margin-bottom:.9rem}.mobile-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.88rem;margin-bottom:.3rem;line-height:1.17rem}.mobile-picture-frames[_ngcontent-%COMP%], .frames-and-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.frames-and-content[_ngcontent-%COMP%]   .picture-frame-description-content[_ngcontent-%COMP%]{padding:.75rem}.frames-and-content[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{padding:0;margin:0}.frames-and-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.45rem;line-height:2rem}.frames-and-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.88rem;margin-bottom:.9rem;line-height:1.17rem}.prices[_ngcontent-%COMP%]{display:flex;flex-direction:column}.prices[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .prices[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem}.prices[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-family:Ubuntu-italic;font-size:.8rem}.price-entries[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.mobile-picture-frames[_ngcontent-%COMP%]   .price-entries[_ngcontent-%COMP%]{flex-direction:column}.price-entry[_ngcontent-%COMP%]{padding:.5rem 1.5rem;display:flex;flex-direction:column;justify-content:center;align-items:center}"]}),n})(),gM=(()=>{class n{constructor(){this.mobilePortrait=!1,this.introductionArticles=[{id:"me-intro1",pictureUrl:"../../../assets/pictures/me1.jpg",sizeing:"cover",title:"Das bin ich",subtitle:"",text:"Hallo, mein Name ist Sally Davidson. Ich wurde 1989 geboren. Aufgewachsen bin ich in der N\xe4he von Edinburgh.",expendable:!0,expand:[{id:"me-intro1-1",title:"Wie ich zu Pferden kam",text:"Bereits mit 9 Jahren entdeckte ich meine Liebe zu den Rennpferden einer befreundeten Familie.\n          Ich hatte pl\xf6tzlich ein komplett anderes Gef\xfchl in meinem K\xf6rper, dass ich mir bis heute nicht erkl\xe4ren kann. Es hat mich einfach komplett \xfcberw\xe4ltigt.\n          Ab diesem Tag bin ich immer wieder dort hingelaufen, um die Pferde auf der Koppel zu streicheln oder sie einfach zu beobachten. Ich war gl\xfccklich da drau\xdfen und habe auch die Stille sehr genossen.\n          "},{id:"me-intro1-2",title:"Und dann kam Billy",text:"Eines Tages, als ich wieder dort zu Besuch war, wartete dort eine \xdcberraschung auf mich.\n          Im Stall stand ein Pferd mit Trense und Sattel und sie hat mich gefragt, ob ich reiten wollen w\xfcrde. Meine Antwort kam wie aus der Pistole geschossen: Jaaaaaaa!!!\n          Nun sa\xdf ich also auf dem Pferd mit Namen Billy - was f\xfcr ein Gef\xfchl! Dann wurde die Longe gel\xf6st und ich bin einfach auf dem Hof hin und her geritten.\n          Und dann die gro\xdfe \xdcberraschung: Nach einigen Wochen durfte ich Billy mein Eigen nennen. Ich konnte es nicht glauben.\n          Ein Stallplatz war schnell gefunden und ich lernte mittels Learning by doing Billy zu reiten und zu traben. Meine Mutter sagte mir nur, dass ich auch aufstehen m\xfcsse, im Trab hoch und runter.\n          "},{id:"me-intro1-3",title:"Immer schnell wieder aufsteigen!",text:"Ein paar Wochen sp\xe4ter habe ich meinen ersten Reitunterricht besucht, in einer Gruppe - das werde ich nie vergessen. Ich bin schon in der ersten halben Stunde 7mal runtergefallen. Ooops! Irgendwie bin ich aber immer wieder aufgestiegen und habe weiter gemacht. Seit damals bin ich pferdeverr\xfcckt, k\xf6nnte man sagen. Einige Zeit sp\xe4ter, als ich 12 war, hatte ich dann meine ersten Beritt-Ponys. So hat die Reiterei bei mir angefangen. Vom Lernen durch Schauen und Helfen, wo immer ich konnte, bis hin zu Bem\xfchungen in Richtung Turnieren, bei denen ich dann auch erfolgreiche Ponys hatte.\n          "}]},{id:"me-intro2",pictureUrl:"../../../assets/backgrounds/heroes/landing.jpg",sizeing:"cover",title:"Und so kam ich auf den Hund",subtitle:"",text:"Mit Hunden bin ich zwar nicht aufgewachsen, habe aber daf\xfcr viel Zeit mit dem Hund der Nachbarn verbracht. Ich habe oft auf ihn aufgepasst und bin mit ihm spazieren gegangen.\n      Ohne Vorwissen und spezielle Hundeerfahrung, ich war schlie\xdflich erst 12 Jahre, bin ich einfach losgegangen.  Oft sprachen die Leute meine Mutter an, dass sie diesen Hund noch nie so ruhig oder so vorsichtig erlebt haben.",expendable:!1,expand:[{id:"",title:"",text:""}]},{id:"me-intro3",pictureUrl:"../../../assets/gallery/Maya/240210.jpg",sizeing:"cover",title:"Start in Deutschland",subtitle:"",text:"2010 kam ich als Bereiterin und Stallmanagerin nach Deutschland und arbeitete unter anderem f\xfcr deutschlandweit bekannte und erfolgreiche St\xe4lle,\n      wie Paul Schockem\xf6hle (4x Gold bei Europameisterschaften, 6x Gold bei Deutschen Meisterschaften), Lars Nieberg (Gold, Olympische Mannschaft, Gold bei Mannschaftsweltmeisterschaften und Gold bei\n        Deutschen Meisterschaften) und Jens Wawrauschek (Global-Tour-Sieger, Gewinner der Youngster-Tour, Teilnehmer \u201eCSI-4*\u201c) sowie in einigen anderen St\xe4llen.",expendable:!0,expand:[{id:"me-intro3-1",title:"Internationale Erfahrungen",text:"Auch in D\xe4nemark, Schottland und England war ich beruflich t\xe4tig und sammelte viele Erfahrungen bei international renommierten Reitern. In den St\xe4llen war ich unter anderem auch f\xfcr die Ausbildung der Pferde zust\xe4ndig und nahm mit ihnen erfolgreich an Turnieren teil."},{id:"me-intro3-2",title:"Maya und ich",text:"Inzwischen konnte ich meinen Traum vom eigenen Hund verwirklichen. 2017 zog Maya, eine wundervolle schwarz-wei\xdfe Border Collie H\xfcndin bei mir ein.\n          Sie begleitet mich seither auf Schritt und Tritt \xfcberall hin und gemeinsam haben wir schon sehr viel erreicht.\n          Sie ist meine Seele geworden, und auch Sie werden sie bei unserem gemeinsamen Training kennen lernen. \n          Im letzten Jahr hat meine kleine Familie Zuwachs bekommen: Biene ist eine H\xfcndin der Rasse X Herder und hat sowohl mein Herz als auch Mayas im Sturm erobert. Auch sie wird in der Regel bei einem gemeinsamen Training dabei sein."},{id:"me-intro3-3",title:"Der Unfall",text:"Leider erlitt ich 2019 eine schwere Knieverletzung w\xe4hrend des Trainings und kann seit diesem Zeitpunkt nicht mehr selber aktiv reiten.\n          So musste ich aufgrund dieser Verletzung und daraus resultierenden Operationen die schwerste Entscheidung treffen und meinen Beruf als Bereiterin aufgeben.\n          "}]},{id:"me-intro4",pictureUrl:"../../../assets/pictures/me4.jpg",sizeing:"cover",title:"Nach dem Unfall habe ich mich neu erfunden",subtitle:"",text:"So kam ich auf die Idee anderen Menschen zu helfen, damit sie entspannt und ohne Komplikation mit ihren Hunden im Alltag leben k\xf6nnen.\n      Das hat mir viel Kraft und Mut gegeben und ich entschloss mich, eine Ausbildung zum Hundetrainer zu machen, die ich 2021 erfolgreich absolvierte.",expendable:!0,expand:[{id:"me-intro4-1",title:"Meine Arbeit",text:"Seit vielen Jahren schule und unterst\xfctze ich Menschen nun langfristig und nachhaltig im fachgerechten Umgang mit ihren Tieren und biete auch Reitunterricht an.\n          Das Ziel meiner Arbeit ist eine bessere Erziehung, denn diese f\xfchrt zu tieferer Bindung und mehr Entspanntheit im Zusammenleben von Mensch und Tier.\n          Ich m\xf6chte mit meinem Wissen Menschen und Tieren helfen, genau das zu erreichen. Mein Schwerpunkt liegt demzufolge in der Vermittlung von Wissen im Hinblick auf das Verhalten und die Lernvorg\xe4nge bei Tieren sowie der praktischen Anwendung dieses Wissens.\n          "},{id:"me-intro4-2",title:"Schl\xfcssel zum Erfolg",text:"W\xe4hrend meiner Arbeit mit Tieren und deren Begleitern habe ich festgestellt: Vieles in der Tier- Kommunikation l\xe4uft unbewusst.\n          Hier m\xf6chte ich unterst\xfctzen und anleiten. Gemeinsam finden wir zu mehr Bewusstheit.\n          Selbstverst\xe4ndlich werden Tiere in meinen Kursen artgerecht und bed\xfcrfnisorientiert trainiert. "},{id:"me-intro4-3",title:"Meine Qualifikationen",text:"BHS 1 + 2 + 3 Qualifikation (g\xfcltig in Schottland)\n          "},{id:"",title:"",text:"2018 Pr\xfcfung zur Pferdewirtin\n          "},{id:"",title:"",text:"2018 Trainer Lizenz A\n          "},{id:"",title:"",text:"2020 Ausbildung mit Ziemer und Falke zur Hundetrainerin\n          "},{id:"",title:"",text:"seit 2021 Zertifizierte Hundetrainerin \xa711, Abs. 1, Nr. 8 des Tierschutzgesetzes\n          "},{id:"",title:"",text:"2022 Pr\xfcfung Locagility-Trainerin\n          "},{id:"",title:"",text:"seit 2021 ehrenamtliches Vereinstraining beim Hundesportverein Klein Wanzleben\n          "},{id:"",title:"",text:"weitere Fortbildungen und Praktika\n          "}]}]}ngOnInit(){document.body.scrollTop=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-me"]],inputs:{mobilePortrait:"mobilePortrait",hero:"hero"},decls:2,vars:5,consts:[[3,"mobilePortrait","hero"],[3,"mobilePortrait","framesAvailable","introductionArticles"]],template:function(t,r){1&t&&l._UZ(0,"app-hero-section",0)(1,"app-trainings",1),2&t&&(l.Q6J("mobilePortrait",r.mobilePortrait)("hero",r.hero),l.xp6(1),l.Q6J("mobilePortrait",r.mobilePortrait)("framesAvailable",!1)("introductionArticles",r.introductionArticles))},dependencies:[bs,Zs]}),n})(),Lf=(()=>{class n{constructor(){this.mobilePortrait=!1,this.openArticles=[!1,!1,!1,!1],this.frameArticles=[{id:"frame-funagility",pictureUrl:"../../../assets/pictures/frame_funagility.jpg",title:"Funagility",subtitle:"Spa\xdf und Auslastung",text:"Gemeinsam mit eurem vierbeinigen Freund meistert ihr hierbei einen Hindernisparcours, mit den unterschiedlichsten Ger\xe4ten. Neben der k\xf6rperlichen Auslastung steht bei mir der Spa\xdf im Vordergrund.",mobileText:"Ein Hindernisparcours f\xfcr Spa\xdf und k\xf6rperliche Auslastung",expendable:!0,expand:[{id:"frame-funagility1",title:"Was ist Funagility?",text:"Beim urspr\xfcnglich aus England stammenden Agility, geht es um die fehlerfreie Bew\xe4ltigung eines Parcours in k\xfcrzester Zeit. Beim Funagility steht jedoch nicht die Bestzeit, sondern der Spa\xdf mit dem besten Freund im Vordergrund.\n          Dazu werden die Hindernisse individuell dem Hund, seiner Gr\xf6\xdfe, der Konstitution und dem Alter angepasst.\n          Euer Hund \xfcberwindet ohne Leine unter anderem H\xfcrden, durchquert Tunnel, bew\xe4ltigt die A-Wand und muss die Wippe meistern. Wichtig ist hierf\xfcr eine gesunde Hund-Mensch-Beziehung, um den Hund nur mittels H\xf6rzeichen und K\xf6rpersprache durch den Parcours zu lenken.\n          "},{id:"frame-funagility2",title:"Welche Voraussetzungen sollten erf\xfcllt werden?",text:"Damit Frauchen/Herrchen und nat\xfcrlich auch der Vierbeiner dabei Spa\xdf haben, ist ein gewisser Grundgehorsam erforderlich.\n          Auch junge Hunde k\xf6nnen an diesem Kurs teilnehmen und k\xf6nnen so von Beginn an lernen, ihren K\xf6rper richtig einzusetzen und gemeinsam mit ihrem Besitzer neue Aufgaben zu l\xf6sen.\n          Nat\xfcrlich wird darauf geachtet, dass sie keine Spr\xfcnge aus\xfcben und die Ger\xe4te an das Alter angepasst sind.\n          "},{id:"frame-funagility2",title:"Melde dich jetzt an!",text:"Falls euer Interesse am Fun-Agility geweckt ist, meldet euch gerne bei mir und wir vereinbaren ein pers\xf6nliches Kennenlernen.\n          ",price:"20 Euro",price10:"185 Euro"}]},{id:"frame-tricks",pictureUrl:"../../../assets/pictures/card_tricks.jpg",title:"Tricks & Parcours",subtitle:'Mehr als "Sitz" & "Platz"',text:"Dein Hund soll mehr als Sitz, Platz und Co. k\xf6nnen? In meinem Trickdogging- und Parcours-Kurs lernt dein Vierbeiner lustige und n\xfctzliche Dinge. Beim Parcours geht es um Geschicklichkeit, Vertrauen und Mut, um ganz neue Hindernisse und Untergr\xfcnde zu bew\xe4ltigen. ",mobileText:"Mit dem Trickdoggin- und Parcorskurs zu mehr Geschicklichkeit, Vertrauen und Mut",expendable:!0,expand:[{id:"frame-tricks1",title:"Was ist Trickdogging?",text:" Du suchst nach einer geistigen Auslastung f\xfcr deinen Hund? Dann bist du beim Trickdogging genau richtig.\n          Ich erkl\xe4re dir die Grundlagen der Arbeit mit dem Clicker und wir erarbeiten gemeinsam und individuell die unterschiedlichsten Tricks.\n          Das Repertoire reicht von einfachen Tricks wie Pfote geben und Rolle, bis hin zu komplexen Handlungsketten wie beispielsweise M\xfcll einsortieren.\n          "},{id:"frame-tricks2",title:"Was ist Parcours?",text:"Als Erg\xe4nzung  zum Tricksen habt ihr hier die M\xf6glichkeit die neue Besch\xe4ftigungsart Parcours kennenzulernen.\n          Euer Hund muss hier verschieden Untergr\xfcnde, Stege und Geschicklichkeits- und Balancehindernisse, die speziell daf\xfcr angefertigt wurden, \xfcberwinden.\n          "},{id:"frame-tricks3",title:"Was bringen Trick- und Parcourskurse?",text:"Diese gemeinsame Besch\xe4ftigung st\xe4rkt die Bindung zwischen deinem Vierbeiner und dir enorm.\n          Gerade f\xfcr \xe4ngstliche und scheue Hunde bietet mein Kurs sehr viel Potenzial aus sich herauszukommen, Neues kennenzulernen und st\xe4rkt das Selbstbewusstsein und Vertrauen auf spielerische Art und Weise.\n          Auch ungeduldige und sehr aktive Hunde lernen gerade beim Parcours sich zu konzentrieren und ruhig mit Ihrem Besitzer gemeinsam zu arbeiten.\n          Und noch einen Nebeneffekt gibt es. Menschen, die Angst vor Hunden haben, werden sich in der Gegenwart Ihres Hundes wohler f\xfchlen, wenn sie sehen, dass der Hund Ihnen Pf\xf6tchen gibt oder eine Rolle macht.\n          Der Hund wirkt auf sie dann nicht mehr gef\xe4hrlich, sie f\xfchlen sich dadurch sicherer.\n          "},{id:"frame-tricks4",title:"Melde dich jetzt an!",text:"Falls euer Interesse am Trick- und Parcours-Kurs geweckt ist, meldet euch gerne bei mir und wir vereinbaren ein pers\xf6nliches Kennenlernen.\n          ",price:"20 Euro",price10:"185 Euro"}]}]}ngOnInit(){document.body.scrollTop=0}ngAfterViewInit(){(this.openArticles[0]||this.openArticles[1])&&!this.mobilePortrait&&(document.body.scrollTop=500),(this.openArticles[2]||this.openArticles[3])&&!this.mobilePortrait&&(document.body.scrollTop=1e3),this.mobilePortrait&&(this.openArticles[0]&&(document.body.scrollTop=200),this.openArticles[1]&&(document.body.scrollTop=400),this.openArticles[2]&&(document.body.scrollTop=600),this.openArticles[3]&&(document.body.scrollTop=800))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-group"]],inputs:{mobilePortrait:"mobilePortrait",hero:"hero",openArticles:"openArticles"},decls:2,vars:6,consts:[[3,"mobilePortrait","hero"],[1,"trainings",3,"mobilePortrait","frameArticles","articlesOpen","group"]],template:function(t,r){1&t&&l._UZ(0,"app-hero-section",0)(1,"app-trainings",1),2&t&&(l.Q6J("mobilePortrait",r.mobilePortrait)("hero",r.hero),l.xp6(1),l.Q6J("mobilePortrait",r.mobilePortrait)("frameArticles",r.frameArticles)("articlesOpen",r.openArticles)("group",!0))},dependencies:[bs,Zs]}),n})(),mM=(()=>{class n{constructor(){this.mobilePortrait=!1,this.frameArticles=[{id:"frame-dressur",pictureUrl:"../../../assets/pictures/frame_dressur.jpg",title:"Dressur",subtitle:"Anf\xe4nger und Fortgeschrittene",text:"Die Dressur, die feine gef\xfchlvolle Kommunikation zwischen Reiter und Pferd, ist die Basis jeglicher Arbeit in allen Bereichen. Ich vermittle Ihnen die Grundlagen der Bahnfiguren von den Anf\xe4ngen bis hin zu schwierigeren Lektionen.",expendable:!0,expand:[{id:"frame-dressur1",title:"Wie ist mein Training aufgebaut?",text:"Die wichtigsten Bestandteile meines Dressurtrainings sind die korrekte Ausbildung der Pferde anhand der Ausbildungsskala,\n          die Gymnastizierung und das ganzheitlich gesunderhaltende Training unserer Pferde. So wie die Schulung des losgelassenen Sitzes,\n          der Koordinations- und Reaktionsf\xe4higkeit des Reiters und des positiven Reitgef\xfchls.\n          "},{id:"frame-dressur2",title:"Was ich anbiete und was ich erwarte",text:"Komm zu mir und erlebe selbst, wie mein individuell angepasstes Training deine F\xe4higkeiten als Reiter verbessert und unsere Beziehung vertieft.\n          Ich freue mich darauf, dich auf diesem spannenden Weg zu begleiten und gemeinsam Erfolge zu feiern!\n          Ich lege gro\xdfen Wert auf die vermeintlichen Kleinigkeiten, denn genau diese sind enorm wichtig und sollten beachtet werden.\n          Kaufberatung, sowie Begleitung zu Turnieren auf Anfrage.\n          "},{id:"frame-dressur3",title:"Reiten und dabei Englisch lernen",text:"Wer Interesse hat f\xfcr die Schule zu lernen, ohne dabei ins Ausland zu m\xfcssen: Ich biete Reitunterricht auch in meiner Muttersprache Englisch an.\n          "},{id:"frame-dressur4",title:"Melde dich jetzt an!",text:"Falls euer Interesse am Dressur-Unterricht geweckt ist, meldet euch gerne bei mir und wir vereinbaren ein pers\xf6nliches Kennenlernen. Bei mehreren Anmeldungen k\xf6nnen wir eine Gruppe bilden.\n          ",price:"50 Euro",horse4:"40 Euro"}]},{id:"frame-freizeit",pictureUrl:"../../../assets/pictures/frame_freizeit.JPG",title:"Freizeit",subtitle:"Genie\xdft gemeinsame Zeit",text:"Du hast keine Turnierambitionen, m\xf6chtest dein Pferd aber trotzdem korrekt reiten, um seine Gesundheit zu erhalten? Und du w\xfcnscht dir eine harmonische Beziehung mit deinem Freizeitpartner, um die gemeinsame Zeit genie\xdfen zu k\xf6nnen? Ich bin stolz darauf, individuell angepasstes Training anzubieten.",expendable:!0,expand:[{id:"frame-freizeit1",title:"Geht es dir um artgerechte Haltung deines Tieres?",text:" Du m\xf6chtest dein Pferd artgerecht und gesund erhaltend bewegen? Gerne baue ich gemeinsam mit dir die Grundmuskulatur und die Balance deines Pferdes auf.\n          Mein Hauptaugenmarkliegt dabei auf Verbesserung deiner Sicherheit, deines Sitzes und der Muskulatur deines Pferdes.\n          Reiten \xfcber Cavalettis und Stangen zum Beispiel ist gymnastisch besonders wertvoll f\xfcr dein Pferd.\n          Es ist nicht nur eine Arbeit sondern eine sch\xf6ne Abwechslung und bereitet den meisten Pferden und Reitern viel Spa\xdf. Die meisten Pferde freuen sich \xfcber diese Aufgaben und beginnen freudiger und konzentrierter mitzuarbeiten.\n\n          "},{id:"frame-freizeit2",title:"Was ich au\xdferdem anbiete",text:"Du m\xf6chtest viel Ausreiten und dich dabei sicherer f\xfchlen um entspannte Ausritte genie\xdfen zu k\xf6nnen? Gerne arbeite ich mit dir an einem ausbalancierten und losgelassenen Sitz, der dir ein sicheres Gef\xfchl vermittelt. Nicht vergessen der Spa\xdffaktor spielt in meinem Training eine gro\xdfe Rolle.\n          Dar\xfcber hinaus biete ich auch Longiertraining an, um dir die M\xf6glichkeit zu gebe, deine F\xe4higkeiten im Umgang mit dem Pferd zu erweitern. Das Longieren ist eine wertvolle Erg\xe4nzung zum Reiten und f\xf6rdert das Verst\xe4ndnis f\xfcr unsere Kommunikation.\n          Bei allen W\xfcnschen, Fragen und Problemen k\xf6nnen Sie mich sehr gerne kontaktieren.\n          Ich lege gro\xdfen Wert auf die vermeintlichen Kleinigkeiten, denn genau diese sind enorm wichtig und sollten beachtet werden.\n          Kaufberatung auf Anfrage.\n\n          "},{id:"frame-freizeit3",title:"Reiten und dabei Englisch lernen",text:"Wer Interesse hat f\xfcr die Schule zu lernen, ohne dabei ins Ausland zu m\xfcssen: Ich biete Reitunterricht auch in meiner Muttersprache Englisch an.\n          "},{id:"frame-freizeit4",title:"Melde dich jetzt an!",text:"Falls euer Interesse am Freizeitreiten geweckt ist, meldet euch gerne bei mir und wir vereinbaren ein pers\xf6nliches Kennenlernen. Bei mehreren Anmeldungen k\xf6nnen wir eine Gruppe bilden.\n          ",price:"50 Euro",horse4:"40 Euro"}]},{id:"frame-springen",pictureUrl:"../../../assets/pictures/frame_springen.jpg",title:"Springen",subtitle:"Artgerechtes Auslasten",text:"F\xfcr mich ist Spring-Unterricht nicht einfach nur springen. F\xfcr mich geh\xf6rt ebenso Gymnastik- und Basisarbeit dazu.\n      Ein Reiter, der mit verk\xfcrzten (nicht zu kurz) B\xfcgeln in allen drei Grundgangarten \xfcber Stangen und Hindernisse reiten kann, sitzt ausbalancierter,\n      losgelassener und vor allen Dingen sicherer im Sattel. Der Spring -Parcours wird f\xfcr jedes Reiter - Pferd Paar individuell angepasst. Jeder wird auf seinem Niveau gef\xf6rdert.",expendable:!0,expand:[{id:"frame-springen1",title:"Worum geht es beim Spring-Unterricht?",text:" F\xfcr den Reiter ist Balance und Gymnastik wichtig. H\xe4nde, Arme, Schultern und eine lockere H\xfcfte sind ebenso Voraussetzung, wie das Mitgehen mit der Bewegung des Pferdes.\n          Es ist unerl\xe4sslich, am Gleichgewicht und einem losgelassenen leichten Sitz des Reiters dran zu arbeiten.\n          Genauso wichtig ist die Losgelassenheit auch f\xfcr das Pferd. Es gilt eine gleichm\xe4\xdfige Galoppade zu trainieren, so dass das Pferd die Spr\xfcnge in Ma\xdfen anzieht und immer konzentriert\n          auf die Spr\xfcnge und die Hilfen seines Reiters ist. Hierf\xfcr baue ich h\xe4ufig Gymnastikreihen und Stangenarbeit in meinen Unterrichtseinheiten mit ein.\n          "},{id:"frame-springen2",title:"Was ich anbiete und was ich erwarte",text:"Mein Training ist stets artgerecht ausgerichtet. Mir ist es besonders wichtig, die Gesunderhaltung deines Pferdes zu gew\xe4hrleisten. Daher verwende ich sanfte, aber effektive \xdcbungen, um die Muskulatur deines Pferdes aufzubauen und zu verbessern.  Mein Ziel ist es, ein harmonisches Zusammenspiel zwischen uns zu erreichen, bei dem wir beide unsere volle Leistungsf\xe4higkeit entfalten k\xf6nnen. Ich glaube fest daran, dass Freude und Motivation der Schl\xfcssel zum Erfolg sind.\n          Ich lege gro\xdfen Wert auf die vermeintlichen Kleinigkeiten, denn genau diese sind enorm wichtig und sollten beachtet werden.\n          F\xfcr die Bew\xe4ltigung eines Parcours ist ein gutes gleichm\xe4\xdfiges Galopptempo sehr wichtig. Aber das Tempo muss auch auf den Punkt ge\xe4ndert werden k\xf6nnen, z.B. k\xfcrzere oder l\xe4ngere Galoppspr\xfcnge. Und das enge Wendungen geritten werden k\xf6nnen.\n          Kaufberatung, sowie Begleitung zu Turnieren auf Anfrage.\n          "},{id:"frame-springen3",title:"Reiten und dabei Englisch lernen",text:"Wer Interesse hat f\xfcr die Schule zu lernen, ohne dabei ins Ausland zu m\xfcssen: Ich biete Reitunterricht auch in meiner Muttersprache Englisch an.\n          "},{id:"frame-springen4",title:"Melde dich jetzt an!",text:"Falls euer Interesse am Spring-Unterricht geweckt ist, meldet euch gerne bei mir und wir vereinbaren ein pers\xf6nliches Kennenlernen. Bei mehreren Anmeldungen k\xf6nnen wir eine Gruppe bilden.\n          ",price:"50 Euro",horse4:"40 Euro"}]}]}ngOnInit(){document.body.scrollTop=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-horse"]],inputs:{mobilePortrait:"mobilePortrait",hero:"hero"},decls:2,vars:4,consts:[[3,"mobilePortrait","hero"],[3,"mobilePortrait","frameArticles"]],template:function(t,r){1&t&&l._UZ(0,"app-hero-section",0)(1,"app-trainings",1),2&t&&(l.Q6J("mobilePortrait",r.mobilePortrait)("hero",r.hero),l.xp6(1),l.Q6J("mobilePortrait",r.mobilePortrait)("frameArticles",r.frameArticles))},dependencies:[bs,Zs]}),n})();function _M(n,e){if(1&n&&(l.TgZ(0,"h2",7),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.subtitle)}}function yM(n,e){if(1&n&&(l.TgZ(0,"article"),l.YNc(1,_M,2,1,"h2",6),l.TgZ(2,"p"),l._uU(3),l.qZA()()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("ngIf",""!=t.subtitle),l.xp6(2),l.Oqu(t.text)}}function vM(n,e){if(1&n&&(l.TgZ(0,"article")(1,"h2"),l._uU(2),l.qZA(),l.TgZ(3,"p"),l._uU(4),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.subtitle),l.xp6(2),l.Oqu(t.text)}}function bM(n,e){if(1&n&&(l.TgZ(0,"article")(1,"h2"),l._uU(2),l.qZA(),l.TgZ(3,"p"),l._uU(4),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.subtitle),l.xp6(2),l.Oqu(t.text)}}const S_=function(n){return{"mobile-section":n}};let wM=(()=>{class n{constructor(){this.mobilePortrait=!1,this.article="",this.impressumTexts=[{subtitle:"Name und Kontaktdaten des f\xfcr die Verarbeitung Verantwortlichen",text:"Diese Datenschutz-Information gilt f\xfcr die Datenverarbeitung durch:"},{subtitle:"Verantwortlicher:",text:"Sally Davidson"},{subtitle:"",text:"Dr.-H\xfcbner-Str. 28"},{subtitle:"",text:"39164 Wanzleben OT Bottmersdorf"},{subtitle:"",text:"Tel.: 0174 / 9789210"},{subtitle:"",text:"E-Mail: info@sallys-tiertraining.de"}],this.agbTexts=[{subtitle:"Beim Besuch der Webseite",text:"Beim Aufrufen unserer Website www.sallys-tiertraining.de werden durch den auf Ihrem Endger\xe4t\n      zum Einsatz kommenden Browser automatisch Informationen an den Server unserer Website\n      gesendet. Diese Informationen werden tempor\xe4r in einem sog. Logfile gespeichert. Folgende\n      Informationen werden dabei ohne Ihr Zutun erfasst und bis zur automatisierten L\xf6schung\n      gespeichert:"},{subtitle:"",text:"IP-Adresse des anfragenden Rechners,"},{subtitle:"",text:"Datum und Uhrzeit des Zugriffs,"},{subtitle:"",text:"Name und URL der abgerufenen Datei,"},{subtitle:"",text:"Website, von der aus der Zugriff erfolgt (Referrer-URL),"},{subtitle:"",text:"verwendeter Browser und ggf. das Betriebssystem Ihres Rechners sowie der Name Ihres\n      Access-Providers."},{subtitle:"",text:"Die genannten Daten werden durch uns zu folgenden Zwecken verarbeitet:"},{subtitle:"",text:"Gew\xe4hrleistung eines reibungslosen Verbindungsaufbaus der Website,"},{subtitle:"",text:"Gew\xe4hrleistung einer komfortablen Nutzung unserer Website,"},{subtitle:"",text:"Auswertung der Systemsicherheit und -stabilit\xe4t sowie"},{subtitle:"",text:"zu weiteren administrativen Zwecken."},{subtitle:"",text:"Die Rechtsgrundlage f\xfcr die Datenverarbeitung ist Art. 6 Abs. 1 S. 1 lit. f DSGVO. Unser berechtigtes\n      Interesse folgt aus oben aufgelisteten Zwecken zur Datenerhebung. In keinem Fall verwenden wir die\n      erhobenen Daten zu dem Zweck, R\xfcckschl\xfcsse auf Ihre Person zu ziehen.Dar\xfcber hinaus setzen wir beim Besuch unserer Website Cookies sowie Analysedienste ein.N\xe4here Erl\xe4uterungen dazu erhalten Sie unter den Ziff. 3 und 4 dieser Datenschutzerkl\xe4rung."},{subtitle:"Bei Nutzung des Kontaktformulars",text:"Bei Fragen jeglicher Art bieten wir Ihnen die M\xf6glichkeit, mit uns \xfcber unsere E-Mail-Adresse Kontakt\n      aufzunehmen. Dabei ist die Angabe einer g\xfcltigen E-Mail-Adresse erforderlich, damit wir wissen, von\n      wem die Anfrage stammt und um diese beantworten zu k\xf6nnen. Weitere Angaben k\xf6nnen freiwillig\n      get\xe4tigt werden. Die Datenverarbeitung zum Zwecke der Kontaktaufnahme mit uns erfolgt nach Art.\n      6 Abs. 1 S. 1 lit. a DSGVO auf Grundlage Ihrer freiwillig erteilten Einwilligung. Die f\xfcr die Benutzung\n      des Kontaktformulars von uns erhobenen personenbezogenen Daten werden nach Erledigung der\n      von Ihnen gestellten Anfrage automatisch gel\xf6scht."},{subtitle:"Weitergabe von Daten",text:"Eine \xdcbermittlung Ihrer pers\xf6nlichen Daten an Dritte zu anderen als den im Folgenden aufgef\xfchrten\n      Zwecken findet nicht statt. Wir geben Ihre pers\xf6nlichen Daten nur an Dritte weiter, wenn:"},{subtitle:"",text:"Sie Ihre nach Art. 6 Abs. 1 S. 1 lit. a DSGVO ausdr\xfcckliche Einwilligung dazu erteilt haben,"},{subtitle:"",text:"die Weitergabe nach Art. 6 Abs. 1 S. 1 lit. f DSGVO zur Geltendmachung, Aus\xfcbung oder\n      Verteidigung von Rechtsanspr\xfcchen erforderlich ist und kein Grund zur Annahme besteht,\n      dass Sie ein \xfcberwiegendes schutzw\xfcrdiges Interesse an der Nichtweitergabe Ihrer Daten\n      haben,"},{subtitle:"",text:"f\xfcr den Fall, dass f\xfcr die Weitergabe nach Art. 6 Abs. 1 S. 1 lit. c DSGVO eine gesetzliche\n      Verpflichtung besteht, sowie"},{subtitle:"",text:"dies gesetzlich zul\xe4ssig und nach Art. 6 Abs. 1 S. 1 lit. b DSGVO f\xfcr die Abwicklung von\n      Vertragsverh\xe4ltnissen mit Ihnen erforderlich ist."},{subtitle:"Cookies",text:"Wir setzen auf unserer Seite Cookies ein. Hierbei handelt es sich um kleine Dateien, die Ihr Browser\n      automatisch erstellt und die auf Ihrem Endger\xe4t (Laptop, Tablet, Smartphone o.\xe4.) gespeichert\n      werden, wenn Sie unsere Seite besuchen. Cookies richten auf Ihrem Endger\xe4t keinen Schaden an,\n      enthalten keine Viren, Trojaner oder sonstige Schadsoftware. In dem Cookie werden Informationen\n      abgelegt, die sich jeweils im Zusammenhang mit dem spezifisch eingesetzten Endger\xe4t ergeben. Dies\n\n      bedeutet jedoch nicht, dass wir dadurch unmittelbar Kenntnis von Ihrer Identit\xe4t erhalten. Der\n      Einsatz von Cookies dient einerseits dazu, die Nutzung unseres Angebots f\xfcr Sie angenehmer zu\n      gestalten. So setzen wir sogenannte Session-Cookies ein, um zu erkennen, dass Sie einzelne Seiten\n      unserer Website bereits besucht haben. Diese werden nach Verlassen unserer Seite automatisch\n      gel\xf6scht. Dar\xfcber hinaus setzen wir ebenfalls zur Optimierung der Benutzerfreundlichkeit tempor\xe4re\n      Cookies ein, die f\xfcr einen bestimmten festgelegten Zeitraum auf Ihrem Endger\xe4t gespeichert\n      werden. Besuchen Sie unsere Seite erneut, um unsere Dienste in Anspruch zu nehmen, wird\n      automatisch erkannt, dass Sie bereits bei uns waren und welche Eingaben und Einstellungen sie\n      get\xe4tigt haben, um diese nicht noch einmal eingeben zu m\xfcssen. Diese Cookies werden nach einer\n      jeweils definierten Zeit automatisch gel\xf6scht. Die durch Cookies verarbeiteten Daten sind f\xfcr die\n      genannten Zwecke zur Wahrung unserer berechtigten Interessen sowie der Dritter nach Art. 6 Abs. 1\n      S. 1 lit. f DSGVO erforderlich. Die meisten Browser akzeptieren Cookies automatisch. Sie k\xf6nnen\n      Ihren Browser jedoch so konfigurieren, dass keine Cookies auf Ihrem Computer gespeichert werden\n      oder stets ein Hinweis erscheint, bevor ein neuer Cookie angelegt wird. Die vollst\xe4ndige\n      Deaktivierung von Cookies kann jedoch dazu f\xfchren, dass Sie nicht alle Funktionen unserer Website\n      nutzen k\xf6nnen."},{subtitle:"Google Web Fonts",text:"Diese Seite nutzt zur einheitlichen Darstellung von Schriftarten so genannte Web Fonts, die von\n      Google bereitgestellt werden. Beim Aufruf einer Seite l\xe4dt Ihr Browser die ben\xf6tigten Web Fonts in\n      ihren Browsercache, um Texte und Schriftarten korrekt anzuzeigen. Zu diesem Zweck muss der von\n      Ihnen verwendete Browser Verbindung zu den Servern von Google aufnehmen. Hierdurch erlangt\n      Google Kenntnis dar\xfcber, dass \xfcber Ihre IP-Adresse unsere Website aufgerufen wurde. Die Nutzung\n      von Google Web Fonts erfolgt im Interesse einer einheitlichen und ansprechenden Darstellung\n      unserer Online-Angebote. Dies stellt ein berechtigtes Interesse im Sinne von Art. 6 Abs. 1 lit. f DSGVO\n      dar. Wenn Ihr Browser Web Fonts nicht unterst\xfctzt, wird eine Standardschrift von Ihrem Computer\n      genutzt. Weitere Informationen zu Google Web Fonts finden Sie\n      unter https://developers.google.com/fonts/faq und in der Datenschutzerkl\xe4rung von\n      Google: https://www.google.com/policies/privacy/. Font Awesome Diese Seite nutzt zur\n      einheitlichen Darstellung von Schriftarten so genannte Web Fonts, die von Fonticons, Inc.\n      bereitgestellt werden. Beim Aufruf einer Seite l\xe4dt Ihr Browser die ben\xf6tigten Web Fonts in ihren\n      Browsercache, um Texte und Schriftarten korrekt anzuzeigen. Zu diesem Zweck muss der von Ihnen\n      verwendete Browser Verbindung zu den Servern von Fonticons, Inc. aufnehmen. Hierdurch erlangt\n      Fonticons, Inc. Kenntnis dar\xfcber, dass \xfcber Ihre IP-Adresse unsere Website aufgerufen wurde. Die\n      Nutzung von Web Fonts erfolgt im Interesse einer einheitlichen und ansprechenden Darstellung\n      unserer Online-Angebote. Dies stellt ein berechtigtes Interesse im Sinne von Art. 6 Abs. 1 lit. f DSGVO\n      dar. Wenn Ihr Browser Web Fonts nicht unterst\xfctzt, wird eine Standardschrift von Ihrem Computer\n      genutzt. Weitere Informationen zu Font Awesome finden Sie\n      unter https://fontawesome.com/help und in der Datenschutzerkl\xe4rung von Fonticons,\n      Inc.: https://fontawesome.com/privacy."},{subtitle:"Betroffenenrechte",text:"Sie haben das Recht:"},{subtitle:"",text:"gem\xe4\xdf Art. 15 DSGVO Auskunft \xfcber Ihre von uns verarbeiteten personenbezogenen Daten\n      zu verlangen. Insbesondere k\xf6nnen Sie Auskunft \xfcber die Verarbeitungszwecke, die\n\n      Kategorie der personenbezogenen Daten, die Kategorien von Empf\xe4ngern, gegen\xfcber denen\n      Ihre Daten offengelegt wurden oder werden, die geplante Speicherdauer, das Bestehen eines\n      Rechts auf Berichtigung, L\xf6schung, Einschr\xe4nkung der Verarbeitung oder Widerspruch, das\n      Bestehen eines Beschwerderechts, die Herkunft ihrer Daten, sofern diese nicht bei uns\n      erhoben wurden, sowie \xfcber das Bestehen einer automatisierten Entscheidungsfindung\n      einschlie\xdflich Profiling und ggf. aussagekr\xe4ftigen Informationen zu deren Einzelheiten\n      verlangen;"},{subtitle:"",text:"gem\xe4\xdf Art. 16 DSGVO unverz\xfcglich die Berichtigung unrichtiger oder Vervollst\xe4ndigung Ihrer\n      bei uns gespeicherten personenbezogenen Daten zu verlangen;"},{subtitle:"",text:"gem\xe4\xdf Art. 17 DSGVO die L\xf6schung Ihrer bei uns gespeicherten personenbezogenen Daten\n      zu verlangen, soweit nicht die Verarbeitung zur Aus\xfcbung des Rechts auf freie\n      Meinungs\xe4u\xdferung und Information, zur Erf\xfcllung einer rechtlichen Verpflichtung, aus\n      Gr\xfcnden des \xf6ffentlichen Interesses oder zur Geltendmachung, Aus\xfcbung oder Verteidigung\n      von Rechtsanspr\xfcchen erforderlich ist;"},{subtitle:"",text:"gem\xe4\xdf Art. 18 DSGVO die Einschr\xe4nkung der Verarbeitung Ihrer personenbezogenen Daten\n      zu verlangen, soweit die Richtigkeit der Daten von Ihnen bestritten wird, die Verarbeitung\n      unrechtm\xe4\xdfig ist, Sie aber deren L\xf6schung ablehnen und wir die Daten nicht mehr\n      ben\xf6tigen, Sie jedoch diese zur Geltendmachung, Aus\xfcbung oder Verteidigung von\n      Rechtsanspr\xfcchen ben\xf6tigen oder Sie gem\xe4\xdf Art. 21 DSGVO Widerspruch gegen die\n      Verarbeitung eingelegt haben;"},{subtitle:"",text:"gem\xe4\xdf Art. 20 DSGVO Ihre personenbezogenen Daten, die Sie uns bereitgestellt haben, in\n      einem strukturierten, g\xe4ngigen und maschinenlesebaren Format zu erhalten oder die\n      \xdcbermittlung an einen anderen Verantwortlichen zu verlangen;"},{subtitle:"",text:"gem\xe4\xdf Art. 7 Abs. 3 DSGVO Ihre einmal erteilte Einwilligung jederzeit gegen\xfcber uns zu\n      widerrufen. Dies hat zur Folge, dass wir die Datenverarbeitung, die auf dieser Einwilligung\n      beruhte, f\xfcr die Zukunft nicht mehr fortf\xfchren d\xfcrfen und"},{subtitle:"",text:"gem\xe4\xdf Art. 77 DSGVO sich bei einer Aufsichtsbeh\xf6rde zu beschweren. In der Regel k\xf6nnen\n      Sie sich hierf\xfcr an die Aufsichtsbeh\xf6rde Ihres \xfcblichen Aufenthaltsortes oder Arbeitsplatzes\n      oder unseres Kanzleisitzes wenden."},{subtitle:"Widerrufsrecht",text:"Sofern Ihre personenbezogenen Daten auf Grundlage von berechtigten Interessen gem\xe4\xdf Art. 6 Abs.\n      1 S. 1 lit. f DSGVO verarbeitet werden, haben Sie das Recht, gem\xe4\xdf Art. 21 DSGVO Widerspruch\n      gegen die Verarbeitung Ihrer personenbezogenen Daten einzulegen, soweit daf\xfcr Gr\xfcnde vorliegen,\n      die sich aus Ihrer besonderen Situation ergeben oder sich der Widerspruch gegen Direktwerbung\n      richtet. Im letzteren Fall haben Sie ein generelles Widerspruchsrecht, das ohne Angabe einer\n      besonderen Situation von uns umgesetzt wird. M\xf6chten Sie von Ihrem Widerrufs- oder\n      Widerspruchsrecht Gebrauch machen, gen\xfcgt eine E-Mail info@sallys-tiertraining.de."},{subtitle:"Datensicherheit",text:"Wir verwenden innerhalb des Website-Besuchs das verbreitete SSL-Verfahren (Secure Socket Layer)\n      in Verbindung mit der jeweils h\xf6chsten Verschl\xfcsselungsstufe, die von Ihrem Browser unterst\xfctzt\n\n      wird. In der Regel handelt es sich dabei um eine 256 Bit Verschl\xfcsselung. Falls Ihr Browser keine 256-\n      Bit Verschl\xfcsselung unterst\xfctzt, greifen wir stattdessen auf 128-Bit v3 Technologie zur\xfcck. Ob eine\n      einzelne Seite unseres Internetauftrittes verschl\xfcsselt \xfcbertragen wird, erkennen Sie an der\n      geschlossenen Darstellung des Sch\xfcssel- beziehungsweise Schloss-Symbols in der unteren\n      Statusleiste Ihres Browsers. Wir bedienen uns im \xdcbrigen geeigneter technischer und\n      organisatorischer Sicherheitsma\xdfnahmen, um Ihre Daten gegen zuf\xe4llige oder vors\xe4tzliche\n      Manipulationen, teilweisen oder vollst\xe4ndigen Verlust, Zerst\xf6rung oder gegen den unbefugten\n      Zugriff Dritter zu sch\xfctzen. Unsere Sicherheitsma\xdfnahmen werden entsprechend der\n      technologischen Entwicklung fortlaufend verbessert."},{subtitle:"Aktualit\xe4t und \xc4nderung dieser Datenschutzerkl\xe4rung",text:"Diese Datenschutzerkl\xe4rung ist aktuell g\xfcltig und hat den Stand 02.07.2022. Durch die\n      Weiterentwicklung unserer Website und Angebote dar\xfcber oder aufgrund ge\xe4nderter gesetzlicher\n      beziehungsweise beh\xf6rdlicher Vorgaben kann es notwendig werden, diese Datenschutzerkl\xe4rung zu\n      \xe4ndern. Die jeweils aktuelle Datenschutzerkl\xe4rung kann jederzeit auf der Website\n      unter https://www.sallys-tiertraining.de/Impressum/ von Ihnen abgerufen und ausgedruckt\n      werden."}],this.privacyTexts=[{subtitle:"Haftung f\xfcr Inhalte",text:"Als Diensteanbieter sind wir gem\xe4\xdf \xa7 7 Abs.1 TMG f\xfcr eigene Inhalte auf diesen Seiten nach den\n      allgemeinen Gesetzen verantwortlich. Nach \xa7\xa7 8 bis 10 TMG sind wir als Diensteanbieter jedoch nicht\n      verpflichtet, \xfcbermittelte oder gespeicherte fremde Informationen zu \xfcberwachen oder nach\n      Umst\xe4nden zu forschen, die auf eine rechtswidrige T\xe4tigkeit hinweisen. Verpflichtungen zur\n      Entfernung oder Sperrung der Nutzung von Informationen nach den allgemeinen Gesetzen bleiben\n      hiervon unber\xfchrt. Eine diesbez\xfcgliche Haftung ist jedoch erst ab dem Zeitpunkt der Kenntnis einer\n      konkreten Rechtsverletzung m\xf6glich. Bei Bekanntwerden von entsprechenden Rechtsverletzungen\n      werden wir diese Inhalte umgehend entfernen."},{subtitle:"Haftung f\xfcr Links",text:"Unser Angebot enth\xe4lt Links zu externen Webseiten Dritter, auf deren Inhalte wir keinen Einfluss\n      haben. Deshalb k\xf6nnen wir f\xfcr diese fremden Inhalte auch keine Gew\xe4hr \xfcbernehmen. F\xfcr die\n      Inhalte der verlinkten Seiten ist stets der jeweilige Anbieter oder Betreiber der Seiten verantwortlich.\n      Die verlinkten Seiten wurden zum Zeitpunkt der Verlinkung auf m\xf6gliche Rechtsverst\xf6\xdfe \xfcberpr\xfcft.\n      Rechtswidrige Inhalte waren zum Zeitpunkt der Verlinkung nicht erkennbar. Eine permanente\n      inhaltliche Kontrolle der verlinkten Seiten ist jedoch ohne konkrete Anhaltspunkte einer\n      Rechtsverletzung nicht zumutbar. Bei Bekanntwerden von Rechtsverletzungen werden wir derartige\n      Links umgehend entfernen."},{subtitle:"Urheberrecht",text:"Die durch die Seitenbetreiber erstellten Inhalte und Werke auf diesen Seiten unterliegen dem\n      deutschen Urheberrecht. Die Vervielf\xe4ltigung, Bearbeitung, Verbreitung und jede Art der Verwertung\n\n      au\xdferhalb der Grenzen des Urheberrechtes bed\xfcrfen der schriftlichen Zustimmung des jeweiligen\n      Autors bzw. Erstellers. Downloads und Kopien dieser Seite sind nur f\xfcr den privaten, nicht\n      kommerziellen Gebrauch gestattet. Soweit die Inhalte auf dieser Seite nicht vom Betreiber erstellt\n      wurden, werden die Urheberrechte Dritter beachtet. Insbesondere werden Inhalte Dritter als solche\n      gekennzeichnet. Sollten Sie trotzdem auf eine Urheberrechtsverletzung aufmerksam werden, bitten\n      wir um einen entsprechenden Hinweis. Bei Bekanntwerden von Rechtsverletzungen werden wir\n      derartige Inhalte umgehend entfernen."},{subtitle:"Bildnachweise",text:"Die Bilder, die hier auf dieser Website Verwendung finden, wurden von uns ausschlie\xdflich selbst\n      (Sally Davidson) oder in unserem Auftrag fotografiert und stellen weder Werbung f\xfcr die\n      abgebildeten Objekte dar, noch sind Kooperationen oder Leistungen/Gegenleitungen Dritter mit der\n      Abbildung der Objekte verbunden."}]}ngOnInit(){document.body.scrollTop=0}ngAfterViewInit(){this.mobilePortrait?"cookies"===this.article&&(document.body.scrollTop=3100):"cookies"===this.article&&(document.body.scrollTop=3e3)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-impressum"]],inputs:{mobilePortrait:"mobilePortrait",hero:"hero",article:"article"},decls:13,vars:14,consts:[[3,"mobilePortrait","hero"],["id","impressum",1,"impressum-section",3,"ngClass"],[1,"h1-h2"],[4,"ngFor","ngForOf"],["id","agb",1,"impressum-section",3,"ngClass"],["id","privacy",1,"impressum-section",3,"ngClass"],["class","h1-p",4,"ngIf"],[1,"h1-p"]],template:function(t,r){1&t&&(l._UZ(0,"app-hero-section",0),l.TgZ(1,"section",1)(2,"h1",2),l._uU(3,"Datenschutzerklaerung"),l.qZA(),l.YNc(4,yM,4,2,"article",3),l.qZA(),l.TgZ(5,"section",4)(6,"h1"),l._uU(7,"Erhebung und Speicherung personenbezogener Daten sowie Art und Zweck von deren Verwendung"),l.qZA(),l.YNc(8,vM,5,2,"article",3),l.qZA(),l.TgZ(9,"section",5)(10,"h1"),l._uU(11,"Haftungsausschluss"),l.qZA(),l.YNc(12,bM,5,2,"article",3),l.qZA()),2&t&&(l.Q6J("mobilePortrait",r.mobilePortrait)("hero",r.hero),l.xp6(1),l.Q6J("ngClass",l.VKq(8,S_,r.mobilePortrait)),l.xp6(3),l.Q6J("ngForOf",r.impressumTexts),l.xp6(1),l.Q6J("ngClass",l.VKq(10,S_,r.mobilePortrait)),l.xp6(3),l.Q6J("ngForOf",r.agbTexts),l.xp6(1),l.Q6J("ngClass",l.VKq(12,S_,r.mobilePortrait)),l.xp6(3),l.Q6J("ngForOf",r.privacyTexts))},dependencies:[ur,Hi,dr,bs],styles:["section[_ngcontent-%COMP%]{text-align:left}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:left}section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:2rem}section[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1rem 0 2rem}.mobile-section[_ngcontent-%COMP%]{text-align:justify}.mobile-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.7rem;margin-bottom:1rem;line-height:1.7rem;text-align:center}.mobile-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:2.5rem;line-height:2rem}.mobile-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:.88rem;margin:.5rem 0 1rem;line-height:1.17rem}"]}),n})(),KC=(()=>{class n{constructor(){this.mobilePortrait=!1,this.introductionArticles=[{id:"individual-intro1",pictureUrl:"../../../assets/pictures/individual1.JPG",sizeing:"cover",title:"Was bedeutet Einzeltraining?",subtitle:"",text:"Seit vielen Jahren schule und unterst\xfctze ich Menschen langfristig und nachhaltig im fachgerechten Umgang mit Hunden. Das Ziel meiner Arbeit ist eine bessere Erziehung, denn diese f\xfchrt zu einer tieferen Bindung und mehr Entspanntheit im Zusammenleben von Mensch und Hund. ",expendable:!0,expand:[{id:"individual-intro1-1",title:"",text:"Ich m\xf6chte mit meinem Wissen Menschen und Hunden helfen, genau das zu erreichen, was sie sich w\xfcnschen. Mein Schwerpunkt liegt demzufolge in der Vermittlung von Wissen im Hinblick auf das Verhalten und die Lernvorg\xe4nge bei Hunden sowie der praktischen Anwendung dieses Wissens. W\xe4hrend meiner Arbeit mit Hunden und deren Begleitern habe ich dies festgestellt: Vieles in der Hund-Kommunikation l\xe4uft unbewusst. Hier m\xf6chte ich unterst\xfctzen und anleiten. Gemeinsam finden wir einen Weg, um mehr Bewusstsein f\xfcr die K\xf6rpersprache und Stimme zu erlangen. In meinen Kursen werden alltagstaugliche, moderne und l\xf6sungsorientierte Trainings angeboten.\n          "}]},{id:"individual-intro2",pictureUrl:"../../../assets/pictures/individual2.JPG",sizeing:"cover",title:"Mein Einzeltraining",subtitle:"",text:"Haben Sie Fragen, Sorgen, Probleme im Umgang mit Ihrem Hund oder suchen Sie eine neue Besch\xe4ftigungsmethode? Oder brauchen Sie einen Hundef\xfchrerschein mit Zertifikat sowie Vorbereitung f\xfcr den Wesenstest? Sprechen Sie mich gern an, zusammen finden wir eine L\xf6sung!",expendable:!0,expand:[{id:"individual-intro2-1",title:"",text:"Mein Einzeltraining ist grunds\xe4tzlich immer bed\xfcrfnisorientiert und individuell auf Sie und Ihren 4-Beiner zugeschnitten und angepasst.\n          Es findet entweder bei Ihnen zu Hause oder auf meinem Trainingsgel\xe4nde statt und ich nehme mir die Zeit, um Methoden und Trainingsschritte/ziele mit Ihnen gemeinsam zu entwickeln und umzusetzen.\n          Warum Einzeltraining? Weil ein Hund mit Verhaltensauff\xe4lligkeiten sich stark von seinem Umfeld ablenken l\xe4sst und in einer Gruppe, gerade bei Leinenaggression, sehr schnell \xfcberfordert w\xe4re.\n          In einem kontinuierlich hohen Stresslevel ist es sehr schwer dem Hund zu vermitteln, was wir von ihm erwarten und ihm Souver\xe4nit\xe4t und Sicherheit zu vermitteln.\n          Hier ist ein Einzeltraining absolut sinnvoll. Wir erstellen einen individuell auf Ihre h\xe4usliche Situation abgestimmten Trainingsplan, der alle Bed\xfcrfnisse Ihres Hundes ber\xfccksichtigt.\n          Vor Ort im h\xe4uslichen Bereich steigern wir dann best\xe4ndig durch strukturierte \xdcbungen das Trainingslevel und verbessern somit die Situation Schritt f\xfcr Schritt. Sie werden sehen: Es wird einfacher mit Ihrem Hund zusammenzuleben.\n          ",price:"70 Euro",price6:"400 Euro",price10:"630 Euro"}]},{id:"individual-intro3",pictureUrl:"../../../assets/pictures/individual3.JPG",sizeing:"cover",title:"Wichtiger Hinweis f\xfcr Tierheime und \xe4hnliche Einrichtungen",subtitle:"",text:"Wenn Sie in Ihrer Einrichtung einen oder mehrere Hunde haben, die sehr schwer zu vermitteln sind, bei denen Sie nicht weiterkommen oder die mit dem sogenannten Zwingerkoller beginnen, kann ich Ihnen mit meinem besten Wissen und meinen Ideen helfen, diese Hunde wieder zur\xfcck ins Leben zu bringen.",expendable:!1,expand:[{id:"",title:"",text:""}]}]}ngOnInit(){document.body.scrollTop=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-individual"]],inputs:{mobilePortrait:"mobilePortrait",hero:"hero"},decls:9,vars:5,consts:[[3,"mobilePortrait","hero"],[3,"mobilePortrait","framesAvailable","introductionArticles"],[1,"h1-p"],["href","../../assets/downloads/anamnese.docx","download",""]],template:function(t,r){1&t&&(l._UZ(0,"app-hero-section",0)(1,"app-trainings",1),l.TgZ(2,"section")(3,"h2",2),l._uU(4,"Hast du dich f\xfcr ein Einzeltraining entschieden?"),l.qZA(),l.TgZ(5,"p",2),l._uU(6,"Damit wir das Bestm\xf6gliche aus deinem Training herausholen k\xf6nnen, ben\xf6tige ich eine Einsch\xe4tzung deines Vierbeiners. Hierzu kannst du dir den folgenden Anamnesebogen herunterladen. Deine Antworten kannst du mir am Besten bereits vor dem ersten Termin zuschicken."),l.qZA(),l.TgZ(7,"a",3),l._uU(8," Anamnesebogen "),l.qZA()()),2&t&&(l.Q6J("mobilePortrait",r.mobilePortrait)("hero",r.hero),l.xp6(1),l.Q6J("mobilePortrait",r.mobilePortrait)("framesAvailable",!1)("introductionArticles",r.introductionArticles))},dependencies:[bs,Zs],styles:["section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:2.5rem;font-family:ubuntu-bolder;font-size:1.2rem;line-height:1.2rem}"]}),n})(),YC=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),uc=(()=>{class n extends YC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Zi=new l.OlP("NgValueAccessor"),JC={provide:Zi,useExisting:(0,l.Gpc)(()=>XC),multi:!0};let XC=(()=>{class n extends uc{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&l.NdJ("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[l._Bn([JC]),l.qOj]}),n})();const Vf={provide:Zi,useExisting:(0,l.Gpc)(()=>dc),multi:!0},TM=new l.OlP("CompositionEventMode");let dc=(()=>{class n extends YC{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function CM(){const n=X()?X().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(TM,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[l._Bn([Vf]),l.qOj]}),n})();function Io(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const On=new l.OlP("NgValidators"),an=new l.OlP("NgAsyncValidators"),va=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function ba(n){return Io(n.value)?{required:!0}:null}function wa(n){return!0===n.value?null:{required:!0}}function Ca(n){return Io(n.value)||va.test(n.value)?null:{email:!0}}function Ks(n){return null}function Sa(n){return null!=n}function Aa(n){return(0,l.QGY)(n)?(0,Cn.D)(n):n}function D_(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function M_(n,e){return e.map(t=>t(n))}function P_(n){return n.map(e=>function eT(n){return!n.validate}(e)?e:t=>e.validate(t))}function Uf(n){return null!=n?function x_(n){if(!n)return null;const e=n.filter(Sa);return 0==e.length?null:function(t){return D_(M_(t,e))}}(P_(n)):null}function Hf(n){return null!=n?function O_(n){if(!n)return null;const e=n.filter(Sa);return 0==e.length?null:function(t){return function QC(...n){const e=(0,wu.jO)(n),{args:t,keys:r}=$b(n),i=new Kr.y(o=>{const{length:u}=t;if(!u)return void o.complete();const f=new Array(u);let g=u,_=u;for(let v=0;v<u;v++){let w=!1;(0,$i.Xf)(t[v]).subscribe((0,ci.x)(o,E=>{w||(w=!0,_--),f[v]=E},()=>g--,void 0,()=>{(!g||!w)&&(_||o.next(r?s1(r,f):f),o.complete())}))}});return e?i.pipe(_m(e)):i}(M_(t,e).map(Aa)).pipe((0,kt.U)(D_))}}(P_(n)):null}function N_(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nT(n){return n?Array.isArray(n)?n:[n]:[]}function k_(n,e){return Array.isArray(n)?n.includes(e):n===e}function rT(n,e){const t=nT(e);return nT(n).forEach(i=>{k_(t,i)||t.push(i)}),t}function iT(n,e){return nT(e).filter(t=>!k_(n,t))}class EM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Uf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Fr extends EM{get formDirective(){return null}get path(){return null}}class Da extends EM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sT{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let zf=(()=>{class n extends sT{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Da,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),hc=(()=>{class n extends sT{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const xa="VALID",Wf="INVALID",Oa="PENDING",ad="DISABLED";function R_(n){return(Zf(n)?n.validators:n)||null}function qf(n,e){return(Zf(e)?e.asyncValidators:n)||null}function Zf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class F_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===xa}get invalid(){return this.status===Wf}get pending(){return this.status==Oa}get disabled(){return this.status===ad}get enabled(){return this.status!==ad}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iT(e,this._rawAsyncValidators))}hasValidator(e){return k_(this._rawValidators,e)}hasAsyncValidator(e){return k_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Oa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ad,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xa,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xa||this.status===Oa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ad:xa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Oa,this._hasOwnPendingAsyncValidator=!0;const t=Aa(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?ad:this.errors?Wf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oa)?Oa:this._anyControlsHaveStatus(Wf)?Wf:xa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function cT(n){return Array.isArray(n)?Uf(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function uT(n){return Array.isArray(n)?Hf(n):n||null}(this._rawAsyncValidators)}}class ld extends F_{constructor(e,t,r){super(R_(t),qf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function hT(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function dT(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Qs=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>fc}),fc="always";function cd(n,e,t=fc){Jf(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function IM(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&B_(n,e)})}(n,e),function U_(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function SM(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&B_(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function V_(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function pc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Jf(n,e){const t=function Gf(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(N_(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function tT(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(N_(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();pc(e._rawValidators,i),pc(e._rawAsyncValidators,i)}function B_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const _T={provide:Fr,useExisting:(0,l.Gpc)(()=>dd)},gc=(()=>Promise.resolve())();let dd=(()=>{class n extends Fr{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new ld({},Uf(t),Hf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){gc.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),cd(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){gc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){gc.then(()=>{const r=this._findContainer(t.path),i=new ld({});(function H_(n,e){Jf(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){gc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){gc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function pT(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(On,10),l.Y36(an,10),l.Y36(Qs,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([_T]),l.qOj]}),n})();function j_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function $_(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const W_=class extends F_{constructor(e=null,t,r){super(R_(t),qf(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=$_(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){j_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){j_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){$_(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},NM={provide:Da,useExisting:(0,l.Gpc)(()=>bT)},np=(()=>Promise.resolve())();let bT=(()=>{class n extends Da{constructor(t,r,i,o,u,f){super(),this._changeDetectorRef=u,this.callSetDisabledState=f,this.control=new W_,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function z_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===dc?t=o:function xM(n){return Object.getPrototypeOf(n.constructor)===uc}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function ep(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){np.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,l.VuI)(r);np.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Qf(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Fr,9),l.Y36(On,10),l.Y36(an,10),l.Y36(Zi,10),l.Y36(l.sBO,8),l.Y36(Qs,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([NM]),l.qOj,l.TTD]}),n})(),kM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Z_=new l.OlP("NgModelWithFormControlWarning");let Ji=(()=>{class n{constructor(){this._validator=Ks}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ks,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const xT={provide:On,useExisting:(0,l.Gpc)(()=>Ra),multi:!0},OT={provide:On,useExisting:(0,l.Gpc)(()=>ey),multi:!0};let Ra=(()=>{class n extends Ji{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.VuI,this.createValidator=t=>ba}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([xT]),l.qOj]}),n})(),ey=(()=>{class n extends Ra{constructor(){super(...arguments),this.createValidator=t=>wa}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r._enabled?"":null)},features:[l._Bn([OT]),l.qOj]}),n})();const NT={provide:On,useExisting:(0,l.Gpc)(()=>ap),multi:!0};let ap=(()=>{class n extends Ji{constructor(){super(...arguments),this.inputName="email",this.normalizeInput=l.VuI,this.createValidator=t=>Ca}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[l._Bn([NT]),l.qOj]}),n})(),ny=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Nn]}),n})(),QM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Qs,useValue:t.callSetDisabledState??fc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ny]}),n})(),YM=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Z_,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Qs,useValue:t.callSetDisabledState??fc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ny]}),n})();function JM(n,e){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.cardContent.text2)}}function XM(n,e){if(1&n&&(l.TgZ(0,"a",6),l._uU(1,"mehr erfahren"),l.qZA()),2&n){const t=l.oxw();l.Q6J("routerLink",t.cardContent.link)("queryParams",t.cardContent.query)}}const eP=function(n){return{"mobile-card":n}},tP=function(n){return{"background-image":n}};let nP=(()=>{class n{constructor(){this.mobilePortrait=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-card"]],inputs:{mobilePortrait:"mobilePortrait",cardContent:"cardContent"},decls:10,vars:12,consts:[[1,"card",3,"ngClass"],[3,"ngStyle"],[1,"content"],[1,"h1-h2"],[4,"ngIf"],["id","card-nav",3,"routerLink","queryParams",4,"ngIf"],["id","card-nav",3,"routerLink","queryParams"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l._UZ(1,"figure",1),l.TgZ(2,"article")(3,"div",2)(4,"h3",3),l._uU(5),l.qZA(),l.TgZ(6,"p"),l._uU(7),l.qZA(),l.YNc(8,JM,2,1,"p",4),l.qZA(),l.YNc(9,XM,2,2,"a",5),l.qZA()()),2&t&&(l.Q6J("ngClass",l.VKq(8,eP,r.mobilePortrait)),l.xp6(1),l.Q6J("ngStyle",l.VKq(10,tP,"url("+r.cardContent.pictureUrl+")")),l.xp6(4),l.Oqu(r.cardContent.title),l.xp6(1),l.ekj("bold",""==r.cardContent.link),l.xp6(1),l.Oqu(r.cardContent.text),l.xp6(1),l.Q6J("ngIf",""==r.cardContent.link&&""!==r.cardContent.text2),l.xp6(1),l.Q6J("ngIf",""!==r.cardContent.link))},dependencies:[ur,dr,cs,kr],styles:[".card[_ngcontent-%COMP%]{background-color:var(--grey20);border-radius:.5rem;width:350px;height:470px;box-shadow:2px 2px 6px #5a5c5d5e;margin:1.25rem}.mobile-card[_ngcontent-%COMP%]{width:210px;height:320px;margin:.5rem .75rem}.mobile-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem;line-height:1.8rem}.mobile-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .mobile-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.88rem;line-height:1.17rem}.mobile-card[_ngcontent-%COMP%]   .h1-h2[_ngcontent-%COMP%]{margin-bottom:.15rem}.card[_ngcontent-%COMP%]:hover{animation-name:_ngcontent-%COMP%_card-fade;animation-duration:1s;box-shadow:.14vw .14vw .42vw #a9585581}figure[_ngcontent-%COMP%]{width:100%;height:300px;border-radius:.5rem .5rem 0 0;background-size:cover;background-position:top}.mobile-card[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:200px}article[_ngcontent-%COMP%]{padding:1.3rem;width:100%;height:170px;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.mobile-card[_ngcontent-%COMP%]   article[_ngcontent-%COMP%]{padding:.65rem;height:100px}.content[_ngcontent-%COMP%]{width:100%;height:auto}#card-nav[_ngcontent-%COMP%]{font-family:ubuntu-bolder}#card-nav[_ngcontent-%COMP%]:hover{animation-name:a-fade;animation-duration:1s;color:var(--red100)}@keyframes _ngcontent-%COMP%_card-fade{0%{box-shadow:2px 2px 6px #5a5c5d5e}to{box-shadow:.14vw .14vw .42vw #a9585581}}.bold[_ngcontent-%COMP%]{font-weight:600}"]}),n})();const LT=function(n,e){return{"margin-left.px":n,"margin-right.px":e}};function rP(n,e){if(1&n&&l._UZ(0,"app-card",8),2&n){const t=e.index,r=l.oxw(2);l.Q6J("mobilePortrait",r.mobilePortrait)("cardContent",r.specialCards[t])("ngStyle",l.WLB(3,LT,r.cardMargin,r.cardMargin))}}const VT=function(n){return{"mobile-section":n}};function iP(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"section",1)(1,"article")(2,"h1",2),l._uU(3,"Aktuelle Angebote"),l.qZA(),l.TgZ(4,"p",2),l._uU(5,"Auf unserer Anlage ist immer etwas Spannendes los. Folgende besonderen Angebote sind demn\xe4chst geplant:"),l.qZA()(),l.TgZ(6,"div",3)(7,"figure",4),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.moveCarousel("left","landing-special-slides-container",i.specialCards))}),l.qZA(),l.TgZ(8,"div",5)(9,"div",6),l.YNc(10,rP,1,6,"app-card",7),l.qZA()(),l.TgZ(11,"figure",4),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.moveCarousel("right","landing-special-slides-container",i.specialCards))}),l.qZA()()()}if(2&n){const t=l.oxw();l.Q6J("ngClass",l.VKq(4,VT,t.mobilePortrait)),l.xp6(7),l.Q6J("ngClass",t.leftArrowActive?"nav-arrow-left":"nav-arrow-left-disabled"),l.xp6(3),l.Q6J("ngForOf",t.specialCards),l.xp6(1),l.Q6J("ngClass",t.rightArrowActive?"nav-arrow-right":"nav-arrow-right-disabled")}}function sP(n,e){if(1&n&&l._UZ(0,"app-card",8),2&n){const t=e.index,r=l.oxw(2);l.Q6J("mobilePortrait",r.mobilePortrait)("cardContent",r.courseCards[t])("ngStyle",l.WLB(3,LT,r.cardMargin,r.cardMargin))}}function oP(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"section",1)(1,"article")(2,"h1",2),l._uU(3,"Meine spannenden Angebote"),l.qZA(),l.TgZ(4,"p",2),l._uU(5,"Hier findest du aktuelle Angebote f\xfcr Kurse und Wissenswertes zu meinen w\xf6chentlich stattfinden Gruppentrainings. Einzeltrainings finden dar\xfcber hinaus immer statt."),l.qZA()(),l.TgZ(6,"div",3)(7,"figure",4),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.moveCarousel("left","landing-courses-slides-container",i.courseCards))}),l.qZA(),l.TgZ(8,"div",5)(9,"div",9),l.YNc(10,sP,1,6,"app-card",7),l.qZA()(),l.TgZ(11,"figure",4),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.moveCarousel("right","landing-courses-slides-container",i.courseCards))}),l.qZA()()()}if(2&n){const t=l.oxw();l.Q6J("ngClass",l.VKq(4,VT,t.mobilePortrait)),l.xp6(7),l.Q6J("ngClass",t.leftArrowActive?"nav-arrow-left":"nav-arrow-left-disabled"),l.xp6(3),l.Q6J("ngForOf",t.courseCards),l.xp6(1),l.Q6J("ngClass",t.rightArrowActive?"nav-arrow-right":"nav-arrow-right-disabled")}}let BT=(()=>{class n{constructor(){this.mobilePortrait=!1,this.leftArrowActive=!1,this.rightArrowActive=!0,this.direction="right",this.xWidth=window.innerWidth,this.cardMargin=20,this.specialCards=[{id:"jumping",pictureUrl:"../../../assets/gallery/placeholder-icon.png",pictureUrlDesk:"../../../assets/gallery/placeholder-icon.png",title:"Freispringen",text:"28. Juni bei uns in der Halle",text2:"",link:"",fragment:"jumping",query:{}},{id:"kinderferienwoche",pictureUrl:"../../../assets/gallery/placeholder-icon.png",pictureUrlDesk:"../../../assets/gallery/placeholder-icon.png",title:"Kinderferienwoche",text:"10. Juli - 14. Juli",text2:"",link:"",fragment:"holidayweek",query:{}},{id:"longe",pictureUrl:"../../../assets/gallery/placeholder-icon.png",pictureUrlDesk:"../../../assets/gallery/placeholder-icon.png",title:"Longenlehrgang",text:"18. Juli - 19. Juli",text2:"Lehrgang zur Arbeit mit der Longe und Doppellonge.",link:"",fragment:"longe",query:{}},{id:"abzeichen",pictureUrl:"../../../assets/gallery/placeholder-icon.png",pictureUrlDesk:"../../../assets/gallery/placeholder-icon.png",title:"Reitabzeichen",text:"5. Oktober - 7. Oktober, Pr\xfcfung am 23. Oktober",text2:"",link:"",fragment:"longe",query:{}}],this.courseCards=[{id:"funagility",pictureUrl:"../../../assets/pictures/card_funagility.JPG",pictureUrlDesk:"../../../assets/pictures/card_funagility.JPG",title:"Fun Agility",text:"Mit einem Hindernisparcours zu Spa\xdf und Auslastung",text2:"",link:"/Hundegruppentraining",fragment:"funagility",query:{openArticle:"0"}},{id:"tricks",pictureUrl:"../../../assets/pictures/card_tricks.jpg",pictureUrlDesk:"../../../assets/pictures/card_tricks.jpg",title:"Tricks und Parcours",text:'Mehr als "Sitz" und "Platz"',text2:"",link:"/Hundegruppentraining",fragment:"tricks",query:{openArticle:"1"}}]}ngOnInit(){this.mobilePortrait&&(this.cardMargin=(this.xWidth-96-210-.1666*this.xWidth)/2)}moveCarousel(t,r,i){const o=document.querySelector("#"+r);let u=this.mobilePortrait?1:i.length-3;u<1&&(u=1);const f=o.clientWidth/u;console.log("scrollStep",f),"left"==t?(this.rightArrowActive=!0,o.scrollLeft-f<=0&&(this.leftArrowActive=!1,this.direction="right"),o.scrollLeft-=f):(this.leftArrowActive=!0,o.scrollLeft+f>=o.scrollWidth-o.clientWidth&&(this.rightArrowActive=!1,this.direction="left"),console.log("scroll",o.scrollLeft,"width",o.clientWidth),o.scrollLeft+=f,console.log("scroll",o.scrollLeft,"width",o.clientWidth))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-courses"]],inputs:{mobilePortrait:"mobilePortrait"},decls:2,vars:2,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"h1-p"],[1,"slider-and-nav"],[3,"ngClass","click"],[1,"slider-wrapper"],["id","landing-special-slides-container",1,"slides-container"],[3,"mobilePortrait","cardContent","ngStyle",4,"ngFor","ngForOf"],[3,"mobilePortrait","cardContent","ngStyle"],["id","landing-courses-slides-container",1,"slides-container"]],template:function(t,r){1&t&&(l.YNc(0,iP,12,6,"section",0),l.YNc(1,oP,12,6,"section",0)),2&t&&(l.Q6J("ngIf",r.specialCards.length),l.xp6(1),l.Q6J("ngIf",r.courseCards.length))},dependencies:[ur,Hi,dr,cs,nP],styles:[".mobile-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:2rem}.mobile-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.88rem;line-height:1.17rem}.slider-and-nav[_ngcontent-%COMP%]{width:100%;height:520px;display:flex;justify-content:space-between;align-items:center}.mobile-section[_ngcontent-%COMP%]   .slider-and-nav[_ngcontent-%COMP%]{height:350px}.slider-wrapper[_ngcontent-%COMP%]{margin:0 .2rem;height:520px;position:relative;overflow-x:hidden;overflow-y:visible}.mobile-section[_ngcontent-%COMP%]   .slider-wrapper[_ngcontent-%COMP%]{height:350px}.slides-container[_ngcontent-%COMP%]{width:100%;height:520px;position:relative;display:flex;justify-content:flex-start;align-items:center;overflow-x:scroll;scroll-behavior:smooth;scrollbar-width:none}.mobile-section[_ngcontent-%COMP%]   .slides-container[_ngcontent-%COMP%]{height:350px}figure[_ngcontent-%COMP%]{margin:.3rem;min-width:24px;min-height:24px}"]}),n})();function UT(n,e){1&n&&(l.TgZ(0,"div",2),l._UZ(1,"figure",3)(2,"figure",4),l.TgZ(3,"div",5)(4,"article",6)(5,"h1",7),l._uU(6,"Hi, ich bin Sally."),l.qZA(),l.TgZ(7,"h2",8),l._uU(8,"Willkommen auf meiner Seite"),l.qZA(),l.TgZ(9,"p",9),l._uU(10,"Viel Spa\xdf beim St\xf6bern auf meiner Seite. Wenn du Fragen oder Anregungen hast, schreib mir gerne eine Mail, nutze auch gerne mein Kontaktformular oder Social Media."),l.qZA(),l._UZ(11,"app-button",10),l.qZA()()()),2&n&&(l.xp6(11),l.Q6J("buttonDesign","secondary"))}function HT(n,e){if(1&n&&(l.TgZ(0,"div",11)(1,"div",12),l._UZ(2,"figure",3)(3,"figure",4),l.qZA(),l.TgZ(4,"article",13)(5,"h1",7),l._uU(6,"Hi, ich bin Sally."),l.qZA(),l.TgZ(7,"h2",8),l._uU(8,"Willkommen auf meiner Seite"),l.qZA(),l.TgZ(9,"p",9),l._uU(10,"Viel Spa\xdf beim St\xf6bern auf meiner Seite. Wenn du Fragen oder Anregungen hast, schreib mir gerne eine Mail, nutze auch gerne mein Kontaktformular oder Social Media."),l.qZA(),l._UZ(11,"app-button",14),l.qZA()()),2&n){const t=l.oxw();l.xp6(11),l.Q6J("mobilePortrait",t.mobilePortrait)("buttonDesign","secondary")}}let GT=(()=>{class n{constructor(){this.mobilePortrait=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-landing-hero"]],inputs:{mobilePortrait:"mobilePortrait"},decls:2,vars:2,consts:[["class","hero-container",4,"ngIf"],["class","mobile-hero-container",4,"ngIf"],[1,"hero-container"],[1,"hero-image"],[1,"fader"],[1,"hero-content"],["id","hero-article"],[1,"h1-h2"],[1,"h1-p"],[1,"p-content"],["buttonTitle","Mehr \xfcber mich","linkSrc","landing","routerLink","/DasBinIch",3,"buttonDesign"],[1,"mobile-hero-container"],[1,"mobile-hero-image-container"],[1,"hero-article"],["buttonTitle","Mehr \xfcber mich","routerLink","/DasBinIch",3,"mobilePortrait","buttonDesign"]],template:function(t,r){1&t&&(l.YNc(0,UT,12,1,"div",0),l.YNc(1,HT,12,2,"div",1)),2&t&&(l.Q6J("ngIf",!r.mobilePortrait),l.xp6(1),l.Q6J("ngIf",r.mobilePortrait))},dependencies:[dr,Ws,kr],styles:[".hero-container[_ngcontent-%COMP%]{position:relative;padding-top:2vw;width:100vw;height:100vh}.hero-image[_ngcontent-%COMP%]{width:63.89vw;height:100%;background-image:url(landing.25808a4bdec7ddbc.jpg);background-size:cover;background-repeat:no-repeat;background-position:center}.fader[_ngcontent-%COMP%]{background:linear-gradient(90deg,rgba(255,255,255,0),white);position:absolute;right:36.11vw;top:0;width:24vw;height:100%}.hero-content[_ngcontent-%COMP%]{display:flex;align-items:center;position:absolute;right:8.33vw;top:0;width:41.67vw;height:100%}.hero-article[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;text-align:left}app-button[_ngcontent-%COMP%]{align-self:flex-end}.mobile-hero-container[_ngcontent-%COMP%]{position:relative;padding-top:8vh;height:auto;display:flex;flex-direction:column;justify-content:center;align-items:center;margin-bottom:6.25vh}.mobile-hero-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.15rem;line-height:2rem}.mobile-hero-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:.9rem;line-height:2rem}.mobile-hero-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.88rem;margin-bottom:2rem;line-height:1.17rem}.mobile-hero-image-container[_ngcontent-%COMP%]{position:relative;width:100vw;height:50vh}.mobile-hero-image-container[_ngcontent-%COMP%]   .hero-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;height:50vh}.mobile-hero-image-container[_ngcontent-%COMP%]   .fader[_ngcontent-%COMP%]{position:absolute;background:linear-gradient(180deg,rgba(255,255,255,0),white);left:0;top:35.5vh;width:100%;height:15vh}.mobile-hero-container[_ngcontent-%COMP%]   .hero-article[_ngcontent-%COMP%]{margin-top:5vw;width:83.43vw;align-items:center;text-align:center}.mobile-hero-container[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{align-self:center}"]}),n})(),zT=(()=>{class n{constructor(){this.mobilePortrait=!1}ngOnInit(){document.body.scrollTop=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-landing"]],inputs:{mobilePortrait:"mobilePortrait"},decls:2,vars:2,consts:[[3,"mobilePortrait"]],template:function(t,r){1&t&&l._UZ(0,"app-landing-hero",0)(1,"app-courses",0),2&t&&(l.Q6J("mobilePortrait",r.mobilePortrait),l.xp6(1),l.Q6J("mobilePortrait",r.mobilePortrait))},dependencies:[BT,GT]}),n})(),up=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ks,Pf]}),n})(),jT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ks,up,Pf.forChild([{path:"",component:zT}])]}),n})();const ry=function(n){return{"background-image":n}};function $T(n,e){if(1&n&&l._UZ(0,"figure",16),2&n){const t=e.index,r=l.oxw(3);l.Q6J("ngClass",r.activeFrame===t?"slideVisible":"slideHidden")("ngStyle",l.VKq(2,ry,"url("+r.chosenContent[t]+")"))}}function WT(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"figure",17),l.NdJ("click",function(){const o=l.CHM(t).index,u=l.oxw(3);return l.KtG(u.currentSlide(o))}),l.qZA()}if(2&n){const t=e.index,r=l.oxw(3);l.Q6J("ngClass",r.activeFrame===t?"active":"inactive")}}function qT(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",7)(1,"div",8)(2,"figure",9),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.onClick("left"))}),l.qZA(),l.TgZ(3,"div",10),l.YNc(4,$T,1,4,"figure",11),l.qZA(),l.TgZ(5,"figure",12),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.onClick("right"))}),l.qZA()(),l.TgZ(6,"div",13),l.YNc(7,WT,1,1,"figure",14),l.qZA(),l.TgZ(8,"figure",15),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.closeContents(0,1))}),l.qZA()()}if(2&n){const t=l.oxw(2);l.xp6(4),l.Q6J("ngForOf",t.chosenContent),l.xp6(3),l.Q6J("ngForOf",t.chosenContent)}}function Fa(n,e){if(1&n&&l._UZ(0,"figure",16),2&n){const t=e.index,r=l.oxw(3);l.Q6J("ngClass",r.activeFrame===t?"slideVisible":"slideHidden")("ngStyle",l.VKq(2,ry,"url("+r.chosenContent[t]+")"))}}function aP(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"figure",17),l.NdJ("click",function(){const o=l.CHM(t).index,u=l.oxw(3);return l.KtG(u.currentSlide(o))}),l.qZA()}if(2&n){const t=e.index,r=l.oxw(3);l.Q6J("ngClass",r.activeFrame===t?"active":"inactive")}}function lP(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",7)(1,"div",8)(2,"figure",9),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.onClick("left"))}),l.qZA(),l.TgZ(3,"div",10),l.YNc(4,Fa,1,4,"figure",11),l.qZA(),l.TgZ(5,"figure",12),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.onClick("right"))}),l.qZA()(),l.TgZ(6,"div",13),l.YNc(7,aP,1,1,"figure",14),l.qZA(),l.TgZ(8,"figure",15),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.closeContents(0,1))}),l.qZA()()}if(2&n){const t=l.oxw(2);l.xp6(4),l.Q6J("ngForOf",t.chosenContent),l.xp6(3),l.Q6J("ngForOf",t.chosenContent)}}function _c(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",3)(1,"div",4)(2,"app-picture-frame",5),l.NdJ("articleOpenChange",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.closeOthers(0,i))}),l.qZA(),l.TgZ(3,"app-picture-frame",5),l.NdJ("articleOpenChange",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.closeOthers(1,i))}),l.qZA()(),l.YNc(4,qT,9,2,"div",6),l.TgZ(5,"div",4)(6,"app-picture-frame",5),l.NdJ("articleOpenChange",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.closeOthers(2,i))}),l.qZA(),l.TgZ(7,"app-picture-frame",5),l.NdJ("articleOpenChange",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.closeOthers(3,i))}),l.qZA()(),l.YNc(8,lP,9,2,"div",6),l.qZA()}if(2&n){const t=l.oxw();l.xp6(2),l.Q6J("articleOpen",t.articlesOpen[0])("article",t.frameArticles[0]),l.xp6(1),l.Q6J("articleOpen",t.articlesOpen[1])("article",t.frameArticles[1]),l.xp6(1),l.Q6J("ngIf",t.articlesOpen[0]||t.articlesOpen[1]),l.xp6(2),l.Q6J("articleOpen",t.articlesOpen[2])("article",t.frameArticles[2]),l.xp6(1),l.Q6J("articleOpen",t.articlesOpen[3])("article",t.frameArticles[3]),l.xp6(1),l.Q6J("ngIf",t.articlesOpen[2]||t.articlesOpen[3])}}const qV=function(n,e){return{"background-image":n,"height.vw":e}};function iy(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"figure",24),l.NdJ("touchstart",function(i){l.CHM(t);const o=l.oxw(4);return l.KtG(o.onSwipe(i,"start"))})("touchend",function(i){l.CHM(t);const o=l.oxw(4);return l.KtG(o.onSwipe(i,"end"))}),l.qZA()}if(2&n){const t=e.index,r=l.oxw(4);l.Q6J("ngClass",r.activeFrame===t?"slideVisible":"slideHidden")("ngStyle",l.WLB(2,qV,"url("+r.chosenContent[t]+")",r.pictureHeight))}}function ZV(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"figure",17),l.NdJ("click",function(){const o=l.CHM(t).index,u=l.oxw(4);return l.KtG(u.currentSlide(o))}),l.qZA()}if(2&n){const t=e.index,r=l.oxw(4);l.Q6J("ngClass",r.activeFrame===t?"active":"inactive")}}function ZT(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",7)(1,"div",22)(2,"div",10),l.YNc(3,iy,1,5,"figure",23),l.qZA(),l.TgZ(4,"div",13),l.YNc(5,ZV,1,1,"figure",14),l.qZA()(),l.TgZ(6,"figure",15),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().index,o=l.oxw(2);return l.KtG(o.closeContentsMobile(i))}),l.qZA()()}if(2&n){const t=l.oxw(3);l.xp6(3),l.Q6J("ngForOf",t.chosenContent),l.xp6(2),l.Q6J("ngForOf",t.chosenContent)}}function KT(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",20)(1,"app-picture-frame",21),l.NdJ("articleOpenChange",function(i){const u=l.CHM(t).index,f=l.oxw(2);return l.KtG(f.closeOthers(u,i))}),l.qZA(),l.YNc(2,ZT,7,2,"div",6),l.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=l.oxw(2);l.xp6(1),l.Q6J("mobilePortrait",i.mobilePortrait)("articleOpen",i.articlesOpen[r])("article",t),l.xp6(1),l.Q6J("ngIf",i.articlesOpen[r])}}function KV(n,e){if(1&n&&(l.TgZ(0,"div",18),l.YNc(1,KT,3,4,"div",19),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngForOf",t.frameArticles)}}let tt=(()=>{class n{constructor(){this.mobilePortrait=!1,this.articlesOpen=[!1,!1,!1,!1],this.contentsOpen=[!1,!1,!1,!1],this.horses=["../../assets/gallery/Pferde/10a.jpg","../../assets/gallery/Pferde/DSC02054.JPG","../../assets/gallery/Pferde/DSC02060.JPG","../../assets/gallery/Pferde/DSC02155.JPG","../../assets/gallery/Pferde/DSC02532.JPG","../../assets/gallery/Pferde/DSC02635.JPG","../../assets/gallery/Pferde/DSC02721.JPG"],this.ratiosHorses=["l","p","p","l","p","l","l","p"],this.maya=["../../assets/gallery/Maya/240201.jpg","../../assets/gallery/Maya/240202.jpg","../../assets/gallery/Maya/240203.jpg","../../assets/gallery/Maya/240204.jpg","../../assets/gallery/Maya/240205.jpg","../../assets/gallery/Maya/240206.jpg","../../assets/gallery/Maya/240207.jpg","../../assets/gallery/Maya/240208.jpg","../../assets/gallery/Maya/240209.jpg","../../assets/gallery/Maya/240210.jpg","../../assets/gallery/Maya/240211.jpg","../../assets/gallery/Maya/1.jpg","../../assets/gallery/Maya/11.jpg","../../assets/gallery/Maya/DSC02103.JPG","../../assets/gallery/Maya/DSC02969.JPG","../../assets/gallery/Maya/DSC02993.JPG","../../assets/gallery/Maya/DSC03055.JPG"],this.ratiosMaya=["p","p","p","l","l","p","l","l","p","l","l","l","l","p","l","l","l"],this.me=["../../assets/gallery/Ich/1.jpg","../../assets/gallery/Ich/2.jpg","../../assets/gallery/Ich/5.jpg","../../assets/gallery/Ich/6.jpg","../../assets/gallery/Ich/7.jpg","../../assets/gallery/Ich/8.jpg","../../assets/gallery/Ich/9.jpg","../../assets/gallery/Ich/10.jpg","../../assets/gallery/Ich/11.jpg"],this.ratiosMe=["p","p","p","l","l","l","p","p","p"],this.dogs=["../../assets/gallery/Hunde/1.jpg","../../assets/gallery/Hunde/8.jpg","../../assets/gallery/Hunde/12.jpg","../../assets/gallery/Hunde/16.jpg","../../assets/gallery/Hunde/22.jpg","../../assets/gallery/Hunde/36.jpg","../../assets/gallery/Hunde/DSC01809.JPG","../../assets/gallery/Hunde/DSC01983.JPG","../../assets/gallery/Hunde/DSC02065.JPG","../../assets/gallery/Hunde/DSC02071.JPG"],this.ratiosDogs=["p","p","p","p","l","p","p","p","l","p"],this.chosenContent=["../../assets/pictures/dummy1.JPG","../../assets/pictures/dummy2.jpg","../../assets/pictures/dummy3.jpg","../../assets/pictures/dummy4.jpg","../../assets/pictures/dummy5.jpg","../../assets/pictures/dummy6.jpg"],this.ratios=["p","l","l","p","l","l"],this.frameArticles=[{id:"frame-gallery-dogs",pictureUrl:"../../../assets/pictures/frame_dogs.JPG",title:"Hunde",subtitle:"",text:"",expendable:!1,expand:[{id:"",title:"",text:""}]},{id:"frame-gallery-me",pictureUrl:"../../../assets/pictures/frame_me.jpg",title:"Sally",subtitle:"",text:"",expendable:!1,expand:[{id:"",title:"",text:""}]},{id:"frame-gallery-maya",pictureUrl:"../../../assets/gallery/Maya/240204.jpg",title:"Maya und Biene",subtitle:"",text:"",expendable:!1,expand:[{id:"",title:"",text:""}]},{id:"frame-gallery-horses",pictureUrl:"../../../assets/pictures/frame_horse.JPG",title:"Pferde",subtitle:"",text:"",expendable:!1,expand:[{id:"",title:"",text:""}]}],this.pictureHeight=110.84,this.leftArrowActive=!1,this.rightArrowActive=!0,this.screenWidth=window.innerWidth,this.activeFrame=0,this.swipeCoord=0}closeOthers(t,r){for(let i=0;i<this.articlesOpen.length;i++)this.articlesOpen[i]=!1;if(r)switch(this.articlesOpen[t]=!0,t){case 0:this.chosenContent=this.dogs,this.ratios=this.ratiosDogs;break;case 1:this.chosenContent=this.me,this.ratios=this.ratiosMe;break;case 2:this.chosenContent=this.maya,this.ratios=this.ratiosMaya;break;case 3:this.chosenContent=this.horses,this.ratios=this.ratiosHorses}}closeContents(t,r){this.articlesOpen[t]=!1,this.articlesOpen[r]=!1}closeContentsMobile(t){this.articlesOpen[t]=!1}currentSlide(t){this.showSlide(t)}onClick(t){this.showSlide("left"===t?this.activeFrame-=1:this.activeFrame+=1)}showSlide(t){this.pictureHeight="p"===this.ratios[t]?110.84:62.51,this.activeFrame=t>this.chosenContent.length-1?0:t<0?this.chosenContent.length-1:t}onSwipe(t,r){const i=t.changedTouches[0].clientX;"start"===r?this.swipeCoord=i:"end"===r&&(i-this.swipeCoord>0?(this.onClick("left"),console.log("left")):(this.onClick("right"),console.log("right")))}ngOnInit(){document.body.scrollTop=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-gallery"]],inputs:{mobilePortrait:"mobilePortrait",hero:"hero"},decls:3,vars:4,consts:[[3,"mobilePortrait","hero"],["class","desktop-picture-frames",4,"ngIf"],["class","mobile-picture-frames",4,"ngIf"],[1,"desktop-picture-frames"],[1,"picture-frame-container"],[3,"articleOpen","article","articleOpenChange"],["class","picture-frame-description-content article-fade",4,"ngIf"],[1,"picture-frame-description-content","article-fade"],[1,"slider-and-nav"],[1,"nav-arrow-left",3,"click"],[1,"slider-wrapper"],["class","fade",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"nav-arrow-right",3,"click"],[1,"dots"],["class","dot",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"nav-close",3,"click"],[1,"fade",3,"ngClass","ngStyle"],[1,"dot",3,"ngClass","click"],[1,"mobile-picture-frames"],["class","frames-and-content",4,"ngFor","ngForOf"],[1,"frames-and-content"],[3,"mobilePortrait","articleOpen","article","articleOpenChange"],[1,"slide-and-nav"],["class","slide fade",3,"ngClass","ngStyle","touchstart","touchend",4,"ngFor","ngForOf"],[1,"slide","fade",3,"ngClass","ngStyle","touchstart","touchend"]],template:function(t,r){1&t&&(l._UZ(0,"app-hero-section",0),l.YNc(1,_c,9,10,"div",1),l.YNc(2,KV,2,1,"div",2)),2&t&&(l.Q6J("mobilePortrait",r.mobilePortrait)("hero",r.hero),l.xp6(1),l.Q6J("ngIf",!r.mobilePortrait),l.xp6(1),l.Q6J("ngIf",r.mobilePortrait))},dependencies:[ur,Hi,dr,cs,bs,OC],styles:[".picture-frame-container[_ngcontent-%COMP%]{width:100vw;display:flex;justify-content:space-between;padding:1.39vw 0}.slider-and-nav[_ngcontent-%COMP%]{width:100%;height:42vw;display:flex;justify-content:center;align-items:center}.slider-wrapper[_ngcontent-%COMP%]{margin:0 .2rem;height:40.49vw;width:100%;position:relative;overflow-x:hidden;overflow-y:visible}.slider-wrapper[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:40.49vw;width:100%;background-size:contain;background-repeat:no-repeat;background-position:center}.slideVisible[_ngcontent-%COMP%]{display:block}.slideHidden[_ngcontent-%COMP%]{display:none}.dots[_ngcontent-%COMP%]{width:77.22vw;height:1.25rem;display:flex;justify-content:center;align-items:center}.dot[_ngcontent-%COMP%]{height:1rem;width:1rem;border-radius:1rem;background-color:#a958553a;margin:0 .2rem;padding:.1rem}.inactive[_ngcontent-%COMP%]{width:1rem;animation-name:_ngcontent-%COMP%_dot-fade-out;animation-duration:1s}.inactive[_ngcontent-%COMP%]:hover{background-color:#a958559d}.active[_ngcontent-%COMP%]{background-color:var(--red100);width:2rem;animation-name:_ngcontent-%COMP%_dot-fade;animation-duration:1s}@keyframes _ngcontent-%COMP%_dot-fade{0%{width:1rem;background-color:#a958553a}to{width:2rem;background-color:var(--red100)}}@keyframes _ngcontent-%COMP%_dot-fade-out{0%{width:2rem;background-color:var(--red100)}to{width:1rem;background-color:#a958553a}}@keyframes _ngcontent-%COMP%_dot-fade-mobile{0%{width:1rem;background-color:#a9585580}to{width:2rem;background-color:var(--red100)}}@keyframes _ngcontent-%COMP%_dot-fade-out-mobile{0%{width:2rem;background-color:var(--red100)}to{width:1rem;background-color:#a9585580}}"]}),n})();class yc{constructor(){this.lastName="",this.firstName="",this.email="",this.phone="",this.interests="",this.usermessage="",this.answer=""}}class dp{}class La{}class hi{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof hi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new hi;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof hi?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===o.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class YV{encodeKey(e){return sy(e)}encodeValue(e){return sy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const YT=/%(\d[a-f0-9])/gi,dP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function sy(n){return encodeURIComponent(n).replace(YT,(e,t)=>dP[t]??e)}function fd(n){return`${n}`}class Ys{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new YV,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function QT(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[u,f]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],g=t.get(u)||[];g.push(f),t.set(u,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(fd):[fd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ys({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(fd(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(fd(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class fP{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function JT(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function vc(n){return typeof Blob<"u"&&n instanceof Blob}function XT(n){return typeof FormData<"u"&&n instanceof FormData}class pd{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function pP(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new hi),this.context||(this.context=new fP),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new Ys,this.urlWithParams=t}serializeBody(){return null===this.body?null:JT(this.body)||vc(this.body)||XT(this.body)||function gP(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ys?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XT(this.body)?null:vc(this.body)?this.body.type||null:JT(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ys?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let g=e.headers||this.headers,_=e.params||this.params;const v=e.context??this.context;return void 0!==e.setHeaders&&(g=Object.keys(e.setHeaders).reduce((w,E)=>w.set(E,e.setHeaders[E]),g)),e.setParams&&(_=Object.keys(e.setParams).reduce((w,E)=>w.set(E,e.setParams[E]),_)),new pd(t,r,o,{params:_,headers:g,context:v,reportProgress:f,responseType:i,withCredentials:u})}}var ln=(()=>((ln=ln||{})[ln.Sent=0]="Sent",ln[ln.UploadProgress=1]="UploadProgress",ln[ln.ResponseHeader=2]="ResponseHeader",ln[ln.DownloadProgress=3]="DownloadProgress",ln[ln.Response=4]="Response",ln[ln.User=5]="User",ln))();class hp{constructor(e,t=200,r="OK"){this.headers=e.headers||new hi,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class fp extends hp{constructor(e={}){super(e),this.type=ln.ResponseHeader}clone(e={}){return new fp({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Va extends hp{constructor(e={}){super(e),this.type=ln.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Va({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class eE extends hp{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Ba(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let bc=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof pd)o=t;else{let g,_;g=i.headers instanceof hi?i.headers:new hi(i.headers),i.params&&(_=i.params instanceof Ys?i.params:new Ys({fromObject:i.params})),o=new pd(t,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:_,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=(0,rt.of)(o).pipe(Ul(g=>this.handler.handle(g)));if(t instanceof pd||"events"===i.observe)return u;const f=u.pipe(Gn(g=>g instanceof Va));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return f.pipe((0,kt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,kt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,kt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,kt.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ys).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Ba(i,r))}post(t,r,i={}){return this.request("POST",t,Ba(i,r))}put(t,r,i={}){return this.request("PUT",t,Ba(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(dp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ly(n,e){return e(n)}function yP(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const tB=new l.OlP(""),pp=new l.OlP(""),bP=new l.OlP("");function nB(){let n=null;return(e,t)=>{null===n&&(n=((0,l.f3M)(tB,{optional:!0})??[]).reduceRight(yP,ly));const r=(0,l.f3M)(l.HDt),i=r.add();return n(e,t).pipe(Du(()=>r.remove(i)))}}let cy=(()=>{class n extends dp{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,l.f3M)(l.HDt)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(pp),...this.injector.get(bP,[])]));this.chain=i.reduceRight((o,u)=>function vP(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(o,u,this.injector),ly)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Du(()=>this.pendingTasks.remove(r)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(La),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const nE=/^\)\]\}',?\n/;let rE=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new l.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,Cn.D)(r.\u0275loadImpl()):(0,rt.of)(null)).pipe((0,Mi.w)(()=>new Kr.y(o=>{const u=r.build();if(u.open(t.method,t.urlWithParams),t.withCredentials&&(u.withCredentials=!0),t.headers.forEach((z,Z)=>u.setRequestHeader(z,Z.join(","))),t.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const z=t.detectContentTypeHeader();null!==z&&u.setRequestHeader("Content-Type",z)}if(t.responseType){const z=t.responseType.toLowerCase();u.responseType="json"!==z?z:"text"}const f=t.serializeBody();let g=null;const _=()=>{if(null!==g)return g;const z=u.statusText||"OK",Z=new hi(u.getAllResponseHeaders()),Te=function EP(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(u)||t.url;return g=new fp({headers:Z,status:u.status,statusText:z,url:Te}),g},v=()=>{let{headers:z,status:Z,statusText:Te,url:He}=_(),Ne=null;204!==Z&&(Ne=typeof u.response>"u"?u.responseText:u.response),0===Z&&(Z=Ne?200:0);let Et=Z>=200&&Z<300;if("json"===t.responseType&&"string"==typeof Ne){const Ot=Ne;Ne=Ne.replace(nE,"");try{Ne=""!==Ne?JSON.parse(Ne):null}catch(Ht){Ne=Ot,Et&&(Et=!1,Ne={error:Ht,text:Ne})}}Et?(o.next(new Va({body:Ne,headers:z,status:Z,statusText:Te,url:He||void 0})),o.complete()):o.error(new eE({error:Ne,headers:z,status:Z,statusText:Te,url:He||void 0}))},w=z=>{const{url:Z}=_(),Te=new eE({error:z,status:u.status||0,statusText:u.statusText||"Unknown Error",url:Z||void 0});o.error(Te)};let E=!1;const A=z=>{E||(o.next(_()),E=!0);let Z={type:ln.DownloadProgress,loaded:z.loaded};z.lengthComputable&&(Z.total=z.total),"text"===t.responseType&&u.responseText&&(Z.partialText=u.responseText),o.next(Z)},k=z=>{let Z={type:ln.UploadProgress,loaded:z.loaded};z.lengthComputable&&(Z.total=z.total),o.next(Z)};return u.addEventListener("load",v),u.addEventListener("error",w),u.addEventListener("timeout",w),u.addEventListener("abort",w),t.reportProgress&&(u.addEventListener("progress",A),null!==f&&u.upload&&u.upload.addEventListener("progress",k)),u.send(f),o.next({type:ln.Sent}),()=>{u.removeEventListener("error",w),u.removeEventListener("abort",w),u.removeEventListener("load",v),u.removeEventListener("timeout",w),t.reportProgress&&(u.removeEventListener("progress",A),null!==f&&u.upload&&u.upload.removeEventListener("progress",k)),u.readyState!==u.DONE&&u.abort()}})))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ds))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ua=new l.OlP("XSRF_ENABLED"),dy=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),hy=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class iE{}let sE=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=$r(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(l.Lbi),l.LFG(dy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function AP(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(Ua)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,l.f3M)(iE).getToken(),i=(0,l.f3M)(hy);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var tn=(()=>((tn=tn||{})[tn.Interceptors=0]="Interceptors",tn[tn.LegacyInterceptors=1]="LegacyInterceptors",tn[tn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",tn[tn.NoXsrfProtection=3]="NoXsrfProtection",tn[tn.JsonpSupport=4]="JsonpSupport",tn[tn.RequestsMadeViaParent=5]="RequestsMadeViaParent",tn[tn.Fetch=6]="Fetch",tn))();function So(n,e){return{\u0275kind:n,\u0275providers:e}}function aE(...n){const e=[bc,rE,cy,{provide:dp,useExisting:cy},{provide:La,useExisting:rE},{provide:pp,useValue:AP,multi:!0},{provide:Ua,useValue:!0},{provide:iE,useClass:sE}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const lE=new l.OlP("LEGACY_INTERCEPTOR_FN");let PP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[aE(So(tn.LegacyInterceptors,[{provide:lE,useFactory:nB},{provide:pp,useExisting:lE,multi:!0}]))]}),n})();var xe,fy=M(7142),kP=M(3106),I=M(5861),Ze=M(534),_r=M(4537),Kn=M(7879),D=M(9058),py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xi={},gd=gd||{},dt=py||self;function md(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Ts(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var gy="closure_uid_"+(1e9*Math.random()>>>0),gB=0;function my(n,e,t){return n.call.apply(n.bind,arguments)}function _y(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function yr(n,e,t){return(yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?my:_y).apply(null,arguments)}function _d(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function jn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function Ao(){this.s=this.s,this.o=this.o}Ao.prototype.s=!1,Ao.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function hE(n){Object.prototype.hasOwnProperty.call(n,gy)&&n[gy]||(n[gy]=++gB)}(this)},Ao.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _p=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function yp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function yy(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(md(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let u=0;u<o;u++)n[i+u]=r[u]}else n.push(r)}}function or(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}or.prototype.h=function(){this.defaultPrevented=!0};var pE=function(){if(!dt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{dt.addEventListener("test",()=>{},e),dt.removeEventListener("test",()=>{},e)}catch{}return n}();function yd(n){return/^[\s\xa0]*$/.test(n)}function vp(){var n=dt.navigator;return n&&(n=n.userAgent)?n:""}function Es(n){return-1!=vp().indexOf(n)}function vy(n){return vy[" "](n),n}vy[" "]=function(){};var bp,n,mB=Es("Opera"),Ha=Es("Trident")||Es("MSIE"),mE=Es("Edge"),by=mE||Ha,RP=Es("Gecko")&&!(-1!=vp().toLowerCase().indexOf("webkit")&&!Es("Edge"))&&!(Es("Trident")||Es("MSIE"))&&!Es("Edge"),FP=-1!=vp().toLowerCase().indexOf("webkit")&&!Es("Edge");function _E(){var n=dt.document;return n?n.documentMode:void 0}e:{var wp="",Cp=(n=vp(),RP?/rv:([^\);]+)(\)|;)/.exec(n):mE?/Edge\/([\d\.]+)/.exec(n):Ha?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):FP?/WebKit\/(\S+)/.exec(n):mB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Cp&&(wp=Cp?Cp[1]:""),Ha){var wy=_E();if(null!=wy&&wy>parseFloat(wp)){bp=String(wy);break e}}bp=wp}var LP=dt.document&&Ha&&(_E()||parseInt(bp,10))||void 0;function vd(n,e){if(or.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(RP){e:{try{vy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:VP[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vd.$.h.call(this)}}jn(vd,or);var VP={2:"touch",3:"pen",4:"mouse"};vd.prototype.h=function(){vd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var bd="closure_listenable_"+(1e6*Math.random()|0),wd=0;function vE(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++wd,this.fa=this.ia=!1}function Cd(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Tp(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Ty(n){const e={};for(const t in n)e[t]=n[t];return e}const wE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CE(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<wE.length;o++)t=wE[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ey(n){this.src=n,this.g={},this.h=0}function Iy(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=_p(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Cd(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Sy(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}Ey.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=Sy(n,e,r,i);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new vE(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var Ay="closure_lm_"+(1e6*Math.random()|0),Dy={};function TE(n,e,t,r,i){if(r&&r.once)return Ep(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)TE(n,e[o],t,r,i);return null}return t=Oy(t),n&&n[bd]?n.O(e,t,Ts(r)?!!r.capture:!!r,i):wc(n,e,t,!1,r,i)}function wc(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var u=Ts(i)?!!i.capture:!!i,f=Py(n);if(f||(n[Ay]=f=new Ey(n)),(t=f.add(e,t,r,u,o)).proxy)return t;if(r=function BP(){const e=Td;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)pE||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Ip(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Ep(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ep(n,e[o],t,r,i);return null}return t=Oy(t),n&&n[bd]?n.P(e,t,Ts(r)?!!r.capture:!!r,i):wc(n,e,t,!0,r,i)}function es(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)es(n,e[o],t,r,i);else r=Ts(r)?!!r.capture:!!r,t=Oy(t),n&&n[bd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Sy(o=n.g[e],t,r,i))&&(Cd(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Py(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Sy(e,t,r,i)),(t=-1<n?e[n]:null)&&My(t))}function My(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[bd])Iy(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Ip(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Py(e))?(Iy(t,n),0==t.h&&(t.src=null,e[Ay]=null)):Cd(n)}}}function Ip(n){return n in Dy?Dy[n]:Dy[n]="on"+n}function Td(n,e){if(n.fa)n=!0;else{e=new vd(e,this);var t=n.listener,r=n.la||n.src;n.ia&&My(n),n=t.call(r,e)}return n}function Py(n){return(n=n[Ay])instanceof Ey?n:null}var xy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oy(n){return"function"==typeof n?n:(n[xy]||(n[xy]=function(e){return n.handleEvent(e)}),n[xy])}function In(){Ao.call(this),this.i=new Ey(this),this.S=this,this.J=null}function Qn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new or(e,n);else if(e instanceof or)e.target=e.target||n;else{var i=e;CE(e=new or(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var u=e.g=t[o];i=Sp(u,r,!0,e)&&i}if(i=Sp(u=e.g=n,r,!0,e)&&i,i=Sp(u,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Sp(u=e.g=t[o],r,!1,e)&&i}function Sp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.fa&&u.capture==t){var f=u.listener,g=u.la||u.src;u.ia&&Iy(n.i,u),i=!1!==f.call(g,r)&&i}}return i&&!r.defaultPrevented}jn(In,Ao),In.prototype[bd]=!0,In.prototype.removeEventListener=function(n,e,t,r){es(this,n,e,t,r)},In.prototype.N=function(){if(In.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Cd(t[r]);delete n.g[e],n.h--}}this.J=null},In.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},In.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ny=dt.JSON.stringify;function UP(){var n=Fy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Ry=new class ky{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new GP,n=>n.reset());class GP{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function zP(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function EE(n){dt.setTimeout(()=>{throw n},0)}let Do,Ed=!1,Fy=new class HP{constructor(){this.h=this.g=null}add(e,t){const r=Ry.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Ly=()=>{const n=dt.Promise.resolve(void 0);Do=()=>{n.then(IE)}};var IE=()=>{for(var n;n=UP();){try{n.h.call(n.g)}catch(t){EE(t)}var e=Ry;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ed=!1};function Cc(n,e){In.call(this),this.h=n||1,this.g=e||dt,this.j=yr(this.qb,this),this.l=Date.now()}function Ap(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Vy(n,e,t){if("function"==typeof n)t&&(n=yr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=yr(n.handleEvent,n)}return 2147483647<Number(e)?-1:dt.setTimeout(n,e||0)}function By(n){n.g=Vy(()=>{n.g=null,n.i&&(n.i=!1,By(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}jn(Cc,In),(xe=Cc.prototype).ga=!1,xe.T=null,xe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qn(this,"tick"),this.ga&&(Ap(this),this.start()))}},xe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xe.N=function(){Cc.$.N.call(this),Ap(this),delete this.g};class SE extends Ao{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:By(this)}N(){super.N(),this.g&&(dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Id(n){Ao.call(this),this.h=n,this.g={}}jn(Id,Ao);var AE=[];function Dp(n,e,t,r){Array.isArray(t)||(t&&(AE[0]=t.toString()),t=AE);for(var i=0;i<t.length;i++){var o=TE(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function Mp(n){Tp(n.g,function(e,t){this.g.hasOwnProperty(t)&&My(e)},n),n.g={}}function Sd(){this.g=!0}function Tc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $P(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<i.length;u++)i[u]=""}}}return Ny(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Id.prototype.N=function(){Id.$.N.call(this),Mp(this)},Id.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sd.prototype.Ea=function(){this.g=!1},Sd.prototype.info=function(){};var Ga={},Gy=null;function Ec(){return Gy=Gy||new In}function zy(n){or.call(this,Ga.Ta,n)}function Ad(n){const e=Ec();Qn(e,new zy(e))}function jy(n,e){or.call(this,Ga.STAT_EVENT,n),this.stat=e}function vr(n){const e=Ec();Qn(e,new jy(e,n))}function DE(n,e){or.call(this,Ga.Ua,n),this.size=e}function Ic(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return dt.setTimeout(function(){n()},e)}Ga.Ta="serverreachability",jn(zy,or),Ga.STAT_EVENT="statevent",jn(jy,or),Ga.Ua="timingevent",jn(DE,or);var Dd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ME={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Pp(){}function br(){}Pp.prototype.h=null;var xE,Is={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $y(){or.call(this,"d")}function Wy(){or.call(this,"c")}function qy(){}function Sc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Id(this),this.P=Md,this.V=new Cc(n=by?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xp}function xp(){this.i=null,this.g="",this.h=!1}jn($y,or),jn(Wy,or),jn(qy,Pp),qy.prototype.g=function(){return new XMLHttpRequest},qy.prototype.i=function(){return{}},xE=new qy;var Md=45e3,Zy={},Ac={};function Ky(n,e,t){n.L=1,n.v=kp(ts(e)),n.s=t,n.S=!0,Qy(n,null)}function Qy(n,e){n.G=Date.now(),za(n),n.A=ts(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),nv(t.i,"t",r),n.C=0,t=n.l.J,n.h=new xp,n.g=lx(n.l,t?e:null,!n.s),0<n.O&&(n.M=new SE(yr(n.Pa,n,n.g),n.O)),Dp(n.U,n.g,"readystatechange",n.nb),e=n.I?Ty(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ad(),function Uy(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var u="",f=o.split("&"),g=0;g<f.length;g++){var _=f[g].split("=");if(1<_.length){var v=_[0];_=_[1];var w=v.split("_");u=2<=w.length&&"type"==w[1]?u+(v+"=")+_+"&":u+(v+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function OE(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function NE(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=WP(n,t),i==Ac){4==e&&(n.o=4,vr(14),r=!1),Tc(n.j,n.m,null,"[Incomplete Response]");break}if(i==Zy){n.o=4,vr(15),Tc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Tc(n.j,n.m,i,null),kE(n,i)}OE(n)&&i!=Ac&&i!=Zy&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Vp(e),e.M=!0,vr(11))):(Tc(n.j,n.m,t,"[Invalid Chunked Response]"),Js(n),Mo(n))}function WP(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ac:(t=Number(e.substring(t,r)),isNaN(t)?Zy:(r+=1)+t>e.length?Ac:(e=e.slice(r,r+t),n.C=r+t,e))}function za(n){n.Y=Date.now()+n.P,Yy(n,n.P)}function Yy(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ic(yr(n.lb,n),e)}function Op(n){n.B&&(dt.clearTimeout(n.B),n.B=null)}function Mo(n){0==n.l.H||n.J||Xs(n.l,n)}function Js(n){Op(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Ap(n.V),Mp(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function kE(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||HE(t.i,n)))if(!n.K&&HE(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Rc(t),Nc(t)}hv(t),vr(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ic(yr(t.ib,t),6e3));if(1>=nx(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else eo(t,11)}else if((n.K||t.g==n)&&Rc(t),!yd(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let _=i[e];if(t.V=_[0],_=_[1],2==t.H)if("c"==_[0]){t.K=_[1],t.pa=_[2];const v=_[3];null!=v&&(t.ra=v,t.l.info("VER="+t.ra));const w=_[4];null!=w&&(t.Ga=w,t.l.info("SVER="+t.Ga));const E=_[5];null!=E&&"number"==typeof E&&0<E&&(t.L=r=1.5*E,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const A=n.g;if(A){const k=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(k){var o=r.i;o.g||-1==k.indexOf("spdy")&&-1==k.indexOf("quic")&&-1==k.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(GE(o,o.h),o.h=null))}if(r.F){const z=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(r.Da=z,Jt(r.I,r.F,z))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((r=t).wa=QE(r,r.J?r.pa:null,r.Y),u.K){rx(r.i,u);var f=u,g=r.L;g&&f.setTimeout(g),f.B&&(Op(f),za(f)),r.g=u}else dv(r);0<t.j.length&&xd(t)}else"stop"!=_[0]&&"close"!=_[0]||eo(t,7);else 3==t.H&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?eo(t,7):av(t):"noop"!=_[0]&&t.h&&t.h.Aa(_),t.A=0)}Ad()}catch{}}function Jy(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(md(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function qP(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(md(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function RE(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(md(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(xe=Sc.prototype).setTimeout=function(n){this.P=n},xe.nb=function(n){n=n.target;const e=this.M;e&&3==ns(n)?e.l():this.Pa(n)},xe.Pa=function(n){try{if(n==this.g)e:{const v=ns(this.g);var e=this.g.Ia();if(this.g.da(),!(3>v)&&(3!=v||by||this.g&&(this.h.h||this.g.ja()||qE(this.g)))){this.J||4!=v||7==e||Ad(),Op(this);var t=this.g.da();this.ca=t;t:if(OE(this)){var r=qE(this.g);n="";var i=r.length,o=4==ns(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Js(this),Mo(this);var u="";break t}this.h.i=new dt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function Hy(n,e,t,r,i,o,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.W,v,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yd(f)){var _=f;break t}}_=null}if(!(t=_)){this.i=!1,this.o=3,vr(12),Js(this),Mo(this);break e}Tc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kE(this,t)}this.S?(NE(this,v,u),by&&this.i&&3==v&&(Dp(this.U,this.V,"tick",this.mb),this.V.start())):(Tc(this.j,this.m,u,null),kE(this,u)),4==v&&Js(this),this.i&&!this.J&&(4==v?Xs(this.l,this):(this.i=!1,za(this)))}else(function CB(n){const e={};n=(n.g&&2<=ns(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(yd(n[r]))continue;var t=zP(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[i]||[];e[i]=o,o.push(t)}!function bE(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,vr(12)):(this.o=0,vr(13)),Js(this),Mo(this)}}}catch{}},xe.mb=function(){if(this.g){var n=ns(this.g),e=this.g.ja();this.C<e.length&&(Op(this),NE(this,n,e),this.i&&4!=n&&za(this))}},xe.cancel=function(){this.J=!0,Js(this)},xe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function jP(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ad(),vr(17)),Js(this),this.o=2,Mo(this)):Yy(this,this.Y-n)};var ja=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Po(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Po){this.h=n.h,Xy(this,n.j),this.s=n.s,this.g=n.g,Np(this,n.m),this.l=n.l;var e=n.i,t=new Mc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),KP(this,t),this.o=n.o}else n&&(e=String(n).match(ja))?(this.h=!1,Xy(this,e[1]||"",!0),this.s=Pd(e[2]||""),this.g=Pd(e[3]||"",!0),Np(this,e[4]),this.l=Pd(e[5]||"",!0),KP(this,e[6]||"",!0),this.o=Pd(e[7]||"")):(this.h=!1,this.i=new Mc(null,this.h))}function ts(n){return new Po(n)}function Xy(n,e,t){n.j=t?Pd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Np(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function KP(n,e,t){e instanceof Mc?(n.i=e,function JP(n,e){e&&!n.j&&(xo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(ev(this,r),nv(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Dc(e,QP)),n.i=new Mc(e,n.h))}function Jt(n,e,t){n.i.set(e,t)}function kp(n){return Jt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Dc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,FE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function FE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Po.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Dc(e,LE,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Dc(e,LE,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Dc(t,"/"==t.charAt(0)?BE:VE,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Dc(t,YP)),n.join("")};var LE=/[#\/\?@]/g,VE=/[#\?:]/g,BE=/[#\?]/g,QP=/[#\?@]/g,YP=/#/g;function Mc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function xo(n){n.g||(n.g=new Map,n.h=0,n.i&&function ZP(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ev(n,e){xo(n),e=$a(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function tv(n,e){return xo(n),e=$a(n,e),n.g.has(e)}function nv(n,e,t){ev(n,e),0<t.length&&(n.i=null,n.g.set($a(n,e),yp(t)),n.h+=t.length)}function $a(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ex(n){this.l=n||UE,n=dt.PerformanceNavigationTiming?0<(n=dt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(dt.g&&dt.g.Ka&&dt.g.Ka()&&dt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(xe=Mc.prototype).add=function(n,e){xo(this),this.i=null,n=$a(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},xe.forEach=function(n,e){xo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},xe.ta=function(){xo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},xe.Z=function(n){xo(this);let e=[];if("string"==typeof n)tv(this,n)&&(e=e.concat(this.g.get($a(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},xe.set=function(n,e){return xo(this),this.i=null,tv(this,n=$a(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},xe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},xe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var i=o;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var UE=10;function tx(n){return!!n.h||!!n.g&&n.g.size>=n.j}function nx(n){return n.h?1:n.g?n.g.size:0}function HE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function GE(n,e){n.g?n.g.add(e):n.h=e}function rx(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ix(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return yp(n.i)}ex.prototype.cancel=function(){if(this.i=ix(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var _B=class{stringify(n){return dt.JSON.stringify(n,void 0)}parse(n){return dt.JSON.parse(n,void 0)}};function yB(){this.g=new _B}function vB(n,e,t){const r=t||"";try{Jy(n,function(i,o){let u=i;Ts(i)&&(u=Ny(i)),e.push(r+o+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pc(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function xc(n){this.l=n.fc||null,this.j=n.ob||!1}function Rp(n,e){In.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Oc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jn(xc,Pp),xc.prototype.g=function(){return new Rp(this.l,this.j)},xc.prototype.i=function(n){return function(){return n}}({}),jn(Rp,In);var Oc=0;function jE(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Fp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Lp(n)}function Lp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(xe=Rp.prototype).open=function(n,e){if(this.readyState!=Oc)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Lp(this)},xe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||dt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},xe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fp(this)),this.readyState=Oc},xe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Lp(this)),this.g&&(this.readyState=3,Lp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof dt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jE(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},xe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Fp(this):Lp(this),3==this.readyState&&jE(this)}},xe.Za=function(n){this.g&&(this.response=this.responseText=n,Fp(this))},xe.Ya=function(n){this.g&&(this.response=n,Fp(this))},xe.ka=function(){this.g&&Fp(this)},xe.setRequestHeader=function(n,e){this.v.append(n,e)},xe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},xe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Rp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var bB=dt.JSON.parse;function cn(n){In.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$E,this.L=this.M=!1}jn(cn,In);var $E="",sx=/^https?$/i,ox=["POST","PUT"];function WE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,rv(n),sv(n)}function rv(n){n.F||(n.F=!0,Qn(n,"complete"),Qn(n,"error"))}function iv(n){if(n.h&&typeof gd<"u"&&(!n.C[1]||4!=ns(n)||2!=n.da()))if(n.v&&4==ns(n))Vy(n.La,0,n);else if(Qn(n,"readystatechange"),4==ns(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var i=String(n.I).match(ja)[1]||null;!i&&dt.self&&dt.self.location&&(i=dt.self.location.protocol.slice(0,-1)),r=!sx.test(i?i.toLowerCase():"")}t=r}if(t)Qn(n,"complete"),Qn(n,"success");else{n.m=6;try{var o=2<ns(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",rv(n)}}finally{sv(n)}}}function sv(n,e){if(n.g){Oi(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Qn(n,"ready");try{t.onreadystatechange=r}catch{}}}function Oi(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(dt.clearTimeout(n.A),n.A=null)}function ns(n){return n.g?n.g.readyState:0}function qE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case $E:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function wr(n){let e="";return Tp(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function ov(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=wr(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Jt(n,e,t))}function Wa(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ZE(n){this.Ga=0,this.j=[],this.l=new Sd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wa("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wa("baseRetryDelayMs",5e3,n),this.hb=Wa("retryDelaySeedMs",1e4,n),this.eb=Wa("forwardChannelMaxRetries",2,n),this.xa=Wa("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new ex(n&&n.concurrentRequestLimit),this.Ja=new yB,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function av(n){if(lv(n),3==n.H){var e=n.W++,t=ts(n.I);if(Jt(t,"SID",n.K),Jt(t,"RID",e),Jt(t,"TYPE","terminate"),kc(n,t),(e=new Sc(n,n.l,e)).L=2,e.v=kp(ts(t)),t=!1,dt.navigator&&dt.navigator.sendBeacon)try{t=dt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&dt.Image&&((new Image).src=e.v,t=!0),t||(e.g=lx(e.l,null),e.g.ha(e.v)),e.G=Date.now(),za(e)}Bp(n)}function Nc(n){n.g&&(Vp(n),n.g.cancel(),n.g=null)}function lv(n){Nc(n),n.u&&(dt.clearTimeout(n.u),n.u=null),Rc(n),n.i.cancel(),n.m&&("number"==typeof n.m&&dt.clearTimeout(n.m),n.m=null)}function xd(n){if(!tx(n.i)&&!n.m){n.m=!0;var e=n.Na;Do||Ly(),Ed||(Do(),Ed=!0),Fy.add(e,n),n.C=0}}function cv(n,e){var t;t=e?e.m:n.W++;const r=ts(n.I);Jt(r,"SID",n.K),Jt(r,"RID",t),Jt(r,"AID",n.V),kc(n,r),n.o&&n.s&&ov(r,n.o,n.s),t=new Sc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=uv(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),GE(n.i,t),Ky(t,r,e)}function kc(n,e){n.na&&Tp(n.na,function(t,r){Jt(e,r,t)}),n.h&&Jy({},function(t,r){Jt(e,r,t)})}function uv(n,e,t){t=Math.min(n.j.length,t);var r=n.h?yr(n.h.Va,n.h,n):null;e:{var i=n.j;let o=-1;for(;;){const u=["count="+t];-1==o?0<t?(o=i[0].g,u.push("ofs="+o)):o=0:u.push("ofs="+o);let f=!0;for(let g=0;g<t;g++){let _=i[g].g;const v=i[g].map;if(_-=o,0>_)o=Math.max(0,i[g].g-100),f=!1;else try{vB(v,u,"req"+_+"_")}catch{r&&r(v)}}if(f){r=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function dv(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Do||Ly(),Ed||(Do(),Ed=!0),Fy.add(e,n),n.A=0}}function hv(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ic(yr(n.Ma,n),fv(n,n.A)),n.A++,0))}function Vp(n){null!=n.B&&(dt.clearTimeout(n.B),n.B=null)}function KE(n){n.g=new Sc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ts(n.wa);Jt(e,"RID","rpc"),Jt(e,"SID",n.K),Jt(e,"AID",n.V),Jt(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Jt(e,"TO",n.qa),Jt(e,"TYPE","xmlhttp"),kc(n,e),n.o&&n.s&&ov(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=kp(ts(e)),t.s=null,t.S=!0,Qy(t,n)}function Rc(n){null!=n.v&&(dt.clearTimeout(n.v),n.v=null)}function Xs(n,e){var t=null;if(n.g==e){Rc(n),Vp(n),n.g=null;var r=2}else{if(!HE(n.i,e))return;t=e.F,rx(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Qn(r=Ec(),new DE(r,t)),xd(n)}else dv(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function ax(n,e){return!(nx(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ic(yr(n.Na,n,e),fv(n,n.C)),n.C++,0)))}(n,e)||2==r&&hv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:eo(n,5);break;case 4:eo(n,10);break;case 3:eo(n,6);break;default:eo(n,2)}}function fv(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function eo(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=yr(n.pb,n);t||(t=new Po("//www.google.com/images/cleardot.gif"),dt.location&&"http"==dt.location.protocol||Xy(t,"https"),kp(t)),function zE(n,e){const t=new Sd;if(dt.Image){const r=new Image;r.onload=_d(Pc,t,r,"TestLoadImage: loaded",!0,e),r.onerror=_d(Pc,t,r,"TestLoadImage: error",!1,e),r.onabort=_d(Pc,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=_d(Pc,t,r,"TestLoadImage: timeout",!1,e),dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else vr(2);n.H=0,n.h&&n.h.za(e),Bp(n),lv(n)}function Bp(n){if(n.H=0,n.ma=[],n.h){const e=ix(n.i);(0!=e.length||0!=n.j.length)&&(yy(n.ma,e),yy(n.ma,n.j),n.i.i.length=0,yp(n.j),n.j.length=0),n.h.ya()}}function QE(n,e,t){var r=t instanceof Po?ts(t):new Po(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Np(r,r.m);else{var i=dt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Po(null);r&&Xy(o,r),e&&(o.g=e),i&&Np(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&Jt(r,t,e),Jt(r,"VER",n.ra),kc(n,r),r}function lx(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cn(t&&n.Ha&&!n.va?new xc({ob:!0}):n.va)).Oa(n.J),e}function pv(){}function Up(){if(Ha&&!(10<=Number(LP)))throw Error("Environmental error: no available transport.")}function fi(n,e){In.call(this),this.g=new ZE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!yd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yd(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new qa(this)}function YE(n){$y.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function JE(){Wy.call(this),this.status=1}function qa(n){this.g=n}function Ni(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gv(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],u=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;u=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(u<<7&4294967295|u>>>25))+((u=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((o=(e=t+((u=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((i=o+((u=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Bt(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(xe=cn.prototype).Oa=function(n){this.M=n},xe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xE.g(),this.C=function PE(n){return n.h||(n.h=n.i())}(this.u?this.u:xE),this.g.onreadystatechange=yr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void WE(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=dt.FormData&&n instanceof dt.FormData,!(0<=_p(ox,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of t)this.g.setRequestHeader(o,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Oi(this),0<this.B&&((this.L=function wB(n){return Ha&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yr(this.ua,this)):this.A=Vy(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){WE(this,o)}},xe.ua=function(){typeof gd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qn(this,"timeout"),this.abort(8))},xe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qn(this,"complete"),Qn(this,"abort"),sv(this))},xe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sv(this,!0)),cn.$.N.call(this)},xe.La=function(){this.s||(this.G||this.v||this.l?iv(this):this.kb())},xe.kb=function(){iv(this)},xe.isActive=function(){return!!this.g},xe.da=function(){try{return 2<ns(this)?this.g.status:-1}catch{return-1}},xe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},xe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),bB(e)}},xe.Ia=function(){return this.m},xe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(xe=ZE.prototype).ra=8,xe.H=1,xe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Sc(this,this.l,n);let o=this.s;if(this.U&&(o?(o=Ty(o),CE(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=uv(this,i,e),Jt(t=ts(this.I),"RID",n),Jt(t,"CVER",22),this.F&&Jt(t,"X-HTTP-Session-Id",this.F),kc(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(wr(o)))+"&"+e:this.o&&ov(t,this.o,o)),GE(this.i,i),this.bb&&Jt(t,"TYPE","init"),this.P?(Jt(t,"$req",e),Jt(t,"SID","null"),i.aa=!0,Ky(i,t,null)):Ky(i,t,e),this.H=2}}else 3==this.H&&(n?cv(this,n):0==this.j.length||tx(this.i)||cv(this))},xe.Ma=function(){if(this.u=null,KE(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Ic(yr(this.jb,this),n)}},xe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,vr(10),Nc(this),KE(this))},xe.ib=function(){null!=this.v&&(this.v=null,Nc(this),hv(this),vr(19))},xe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),vr(2)):(this.l.info("Failed to ping google.com"),vr(1))},xe.isActive=function(){return!!this.h&&this.h.isActive(this)},(xe=pv.prototype).Ba=function(){},xe.Aa=function(){},xe.za=function(){},xe.ya=function(){},xe.isActive=function(){return!0},xe.Va=function(){},Up.prototype.g=function(n,e){return new fi(n,e)},jn(fi,In),fi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;vr(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=QE(n,null,n.Y),xd(n)},fi.prototype.close=function(){av(this.g)},fi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ny(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&xd(e)},fi.prototype.N=function(){this.g.h=null,delete this.j,av(this.g),delete this.g,fi.$.N.call(this)},jn(YE,$y),jn(JE,Wy),jn(qa,pv),qa.prototype.Ba=function(){Qn(this.g,"a")},qa.prototype.Aa=function(n){Qn(this.g,new YE(n))},qa.prototype.za=function(n){Qn(this.g,new JE)},qa.prototype.ya=function(){Qn(this.g,"b")},jn(Ni,function TB(){this.blockSize=-1}),Ni.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ni.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)gv(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){gv(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){gv(this,r),i=0;break}}this.h=i,this.i+=e},Ni.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var EB={};function Od(n){return-128<=n&&128>n?function gE(n,e){var t=EB;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Bt([0|e],0>e?-1:0)}):new Bt([0|n],0>n?-1:0)}function rs(n){if(isNaN(n)||!isFinite(n))return Za;if(0>n)return Yn(rs(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=_v;return new Bt(e,0)}var _v=4294967296,Za=Od(0),Hp=Od(1),Ka=Od(16777216);function ki(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function pi(n){return-1==n.h}function Yn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Bt(t,~n.h).add(Hp)}function Gp(n,e){return n.add(Yn(e))}function zp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function jp(n,e){this.g=n,this.h=e}function Nd(n,e){if(ki(e))throw Error("division by zero");if(ki(n))return new jp(Za,Za);if(pi(n))return e=Nd(Yn(n),e),new jp(Yn(e.g),Yn(e.h));if(pi(e))return e=Nd(n,Yn(e)),new jp(Yn(e.g),e.h);if(30<n.g.length){if(pi(n)||pi(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Hp,r=e;0>=r.X(n);)t=XE(t),r=XE(r);var i=Fc(t,1),o=Fc(r,1);for(r=Fc(r,2),t=Fc(t,2);!ki(r);){var u=o.add(r);0>=u.X(n)&&(i=i.add(t),o=u),r=Fc(r,1),t=Fc(t,1)}return e=Gp(n,i.R(e)),new jp(i,e)}for(i=Za;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),u=(o=rs(t)).R(e);pi(u)||0<u.X(n);)u=(o=rs(t-=r)).R(e);ki(o)&&(o=Hp),i=i.add(o),n=Gp(n,u)}return new jp(i,n)}function XE(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Bt(t,n.h)}function Fc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Bt(i,n.h)}(xe=Bt.prototype).ea=function(){if(pi(this))return-Yn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:_v+r)*e,e*=_v}return n},xe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ki(this))return"0";if(pi(this))return"-"+Yn(this).toString(n);for(var e=rs(Math.pow(n,6)),t=this,r="";;){var i=Nd(t,e).g,o=((0<(t=Gp(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ki(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},xe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},xe.X=function(n){return pi(n=Gp(this,n))?-1:ki(n)?0:1},xe.abs=function(){return pi(this)?Yn(this):this},xe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),u=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=u>>>16,t[i]=(u&=65535)<<16|(o&=65535)}return new Bt(t,-2147483648&t[t.length-1]?-1:0)},xe.R=function(n){if(ki(this)||ki(n))return Za;if(pi(this))return pi(n)?Yn(this).R(Yn(n)):Yn(Yn(this).R(n));if(pi(n))return Yn(this.R(Yn(n)));if(0>this.X(Ka)&&0>n.X(Ka))return rs(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,u=65535&this.D(r),f=n.D(i)>>>16,g=65535&n.D(i);t[2*r+2*i]+=u*g,zp(t,2*r+2*i),t[2*r+2*i+1]+=o*g,zp(t,2*r+2*i+1),t[2*r+2*i+1]+=u*f,zp(t,2*r+2*i+1),t[2*r+2*i+2]+=o*f,zp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Bt(t,0)},xe.gb=function(n){return Nd(this,n).h},xe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Bt(t,this.h&n.h)},xe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Bt(t,this.h|n.h)},xe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Bt(t,this.h^n.h)},Up.prototype.createWebChannel=Up.prototype.g,fi.prototype.send=fi.prototype.u,fi.prototype.open=fi.prototype.m,fi.prototype.close=fi.prototype.close,Dd.NO_ERROR=0,Dd.TIMEOUT=8,Dd.HTTP_ERROR=6,ME.COMPLETE="complete",br.EventType=Is,Is.OPEN="a",Is.CLOSE="b",Is.ERROR="c",Is.MESSAGE="d",In.prototype.listen=In.prototype.O,cn.prototype.listenOnce=cn.prototype.P,cn.prototype.getLastError=cn.prototype.Sa,cn.prototype.getLastErrorCode=cn.prototype.Ia,cn.prototype.getStatus=cn.prototype.da,cn.prototype.getResponseJson=cn.prototype.Wa,cn.prototype.getResponseText=cn.prototype.ja,cn.prototype.send=cn.prototype.ha,cn.prototype.setWithCredentials=cn.prototype.Oa,Ni.prototype.digest=Ni.prototype.l,Ni.prototype.reset=Ni.prototype.reset,Ni.prototype.update=Ni.prototype.j,Bt.prototype.add=Bt.prototype.add,Bt.prototype.multiply=Bt.prototype.R,Bt.prototype.modulo=Bt.prototype.gb,Bt.prototype.compare=Bt.prototype.X,Bt.prototype.toNumber=Bt.prototype.ea,Bt.prototype.toString=Bt.prototype.toString,Bt.prototype.getBits=Bt.prototype.D,Bt.fromNumber=rs,Bt.fromString=function mv(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Yn(mv(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=rs(Math.pow(e,8)),r=Za,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),u=parseInt(n.substring(i,i+o),e);8>o?(o=rs(Math.pow(e,o)),r=r.R(o).add(rs(u))):r=(r=r.R(t)).add(rs(u))}return r};var IB=Xi.createWebChannelTransport=function(){return new Up},SB=Xi.getStatEventTarget=function(){return Ec()},eI=Xi.ErrorCode=Dd,tI=Xi.EventType=ME,cx=Xi.Event=Ga,nI=Xi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ux=Xi.FetchXmlHttpFactory=xc,yv=Xi.WebChannel=br,AB=Xi.XhrIo=cn,DB=Xi.Md5=Ni,kd=Xi.Integer=Bt;const dx="@firebase/firestore";class Jn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");let to="9.23.0";const Oo=new Kn.Yd("@firebase/firestore");function vv(){return Oo.logLevel}function oe(n,...e){if(Oo.logLevel<=Kn.in.DEBUG){const t=e.map(Rd);Oo.debug(`Firestore (${to}): ${n}`,...t)}}function gn(n,...e){if(Oo.logLevel<=Kn.in.ERROR){const t=e.map(Rd);Oo.error(`Firestore (${to}): ${n}`,...t)}}function Yr(n,...e){if(Oo.logLevel<=Kn.in.WARN){const t=e.map(Rd);Oo.warn(`Firestore (${to}): ${n}`,...t)}}function Rd(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Fe(n="Unexpected state"){const e=`FIRESTORE (${to}) INTERNAL ASSERTION FAILED: `+n;throw gn(e),new Error(e)}function ze(n,e){n||Fe()}function Ie(n,e){return n}const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends D.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jn.UNAUTHENTICATED))}shutdown(){}}class fx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class px{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=_=>this.i!==i?(i=this.i,t(_)):Promise.resolve();let u=new Xn;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xn,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const _=u;e.enqueueRetryable((0,I.Z)(function*(){yield _.promise,yield o(r.currentUser)}))},g=_=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xn)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze("string"==typeof r.accessToken),new wv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ze(null===e||"string"==typeof e),new Jn(e)}}class gx{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class iI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new gx(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sI{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=o=>{null!=o.error&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.T;return this.T=o.token,oe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze("string"==typeof t.token),this.T=t.token,new Cv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Tv{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=mx(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function ot(n,e){return n<e?-1:n>e?1:0}function Fd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Ev(n){return n+"\0"}class qt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new re(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $e{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $e(e)}static min(){return new $e(new qt(0,0))}static max(){return new $e(new qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ld{constructor(e,t,r){void 0===t?t=0:t>e.length&&Fe(),void 0===r?r=e.length-t:r>e.length-t&&Fe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ld.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ld?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),u=t.get(i);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pt extends Ld{construct(e,t,r){return new Pt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Pt(t)}static emptyPath(){return new Pt([])}}const PB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Ld{construct(e,t,r){return new mn(e,t,r)}static isValidIdentifier(e){return PB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mn(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new re(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new re(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new re(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(o(),i++)}if(o(),u)throw new re(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(t)}static emptyPath(){return new mn([])}}class De{constructor(e){this.path=e}static fromPath(e){return new De(Pt.fromString(e))}static fromName(e){return new De(Pt.fromString(e).popFirst(5))}static empty(){return new De(Pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Pt(e.slice()))}}class $p{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Iv(n){return n.fields.find(e=>2===e.kind)}function No(n){return n.fields.filter(e=>2!==e.kind)}$p.UNKNOWN_ID=-1;class Sv{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qa{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qa(0,gi.min())}}function Av(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=$e.fromTimestamp(1e9===r?new qt(t+1,0):new qt(t,r));return new gi(i,De.empty(),e)}function Dv(n){return new gi(n.readTime,n.key,-1)}class gi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new gi($e.min(),De.empty(),-1)}static max(){return new gi($e.max(),De.empty(),-1)}}function Vd(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=De.comparator(n.documentKey,e.documentKey),0!==t?t:ot(n.largestBatchId,e.largestBatchId))}const aI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function no(n){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,I.Z)(function*(n){if(n.code!==j.FAILED_PRECONDITION||n.message!==aI)throw n;oe("LocalStore","Unexpectedly lost primary lease")}),Wp.apply(this,arguments)}class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):H.reject(t)}static resolve(e){return new H((t,r)=>{t(e)})}static reject(e){return new H((t,r)=>{r(e)})}static waitFor(e){return new H((t,r)=>{let i=0,o=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++o,u&&o===i&&t()},g=>r(g))}),u=!0,o===i&&t()})}static or(e){let t=H.resolve(!1);for(const r of e)t=t.next(i=>i?H.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new H((r,i)=>{const o=e.length,u=new Array(o);let f=0;for(let g=0;g<o;g++){const _=g;t(e[_]).next(v=>{u[_]=v,++f,f===o&&r(u)},v=>i(v))}})}static doWhile(e,t){return new H((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class qp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Xn,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Bd(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=cI(r.target.error);this.v.reject(new Bd(e,i))}}static open(e,t,r,i){try{return new qp(t,e.transaction(i,r))}catch(o){throw new Bd(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new OB(t)}}class Jr{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Jr.S((0,D.z$)())&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return oe("SimpleDb","Removing database:",e),Ja(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,D.hl)())return!1;if(Jr.C())return!0;const e=(0,D.z$)(),t=Jr.S(e),r=0<t&&t<10,i=Jr.N(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,I.Z)(function*(){return t.db||(oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=u=>{r(u.target.result)},o.onblocked=()=>{i(new Bd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new re(j.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new re(j.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Bd(e,f))},o.onupgradeneeded=u=>{oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.O(u.target.result,o.transaction,u.oldVersion,t.version).next(()=>{oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,I.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{o.db=yield o.$(e);const g=qp.open(o.db,e,u?"readonly":"readwrite",r),_=i(g).next(v=>(g.P(),v)).catch(v=>(g.abort(v),H.reject(v))).toPromise();return _.catch(()=>{}),yield g.R,_}catch(g){const _=g,v="FirebaseError"!==_.name&&f<3;if(oe("SimpleDb","Transaction failed with error:",_.message,"Retrying:",v),o.close(),!v)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xB{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ja(this.L.delete())}}class Bd extends re{constructor(e,t){super(j.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ya(n){return"IndexedDbTransactionError"===n.name}class OB{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(oe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ja(r)}add(e){return oe("SimpleDb","ADD",this.store.name,e,e),Ja(this.store.add(e))}get(e){return Ja(this.store.get(e)).next(t=>(void 0===t&&(t=null),oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return oe("SimpleDb","DELETE",this.store.name,e),Ja(this.store.delete(e))}count(){return oe("SimpleDb","COUNT",this.store.name),Ja(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.W(i,(u,f)=>{o.push(f)}).next(()=>o)}{const i=this.store.getAll(r.range);return new H((o,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{o(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new H((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){oe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(o,u,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new H((r,i)=>{t.onerror=o=>{const u=cI(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}W(e,t){const r=[];return new H((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const g=new xB(f),_=t(f.primaryKey,f.value,g);if(_ instanceof H){const v=_.catch(w=>(g.done(),H.reject(w)));r.push(v)}g.isDone?i():null===g.K?f.continue():f.continue(g.K)}}).next(()=>H.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ja(n){return new H((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=cI(r.target.error);t(i)}})}let yx=!1;function cI(n){const e=Jr.S((0,D.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return yx||(yx=!0,setTimeout(()=>{throw r},0)),r}}return n}class NB{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;oe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,I.Z)(function*(){t.task=null;try{oe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Ya(r)?oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield no(r)}yield t.et(6e4)}))}}class kB{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,I.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,o=!0;return H.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return oe("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,i).next(f=>{i-=f,r.add(u)});o=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(i,o)).next(f=>(oe("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=Dv(o);Vd(u,r)>0&&(r=u)}),new gi(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ri=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Ud(n){return null==n}function Zp(n){return 0===n&&1/n==-1/0}function vx(n){return"number"==typeof n&&Number.isInteger(n)&&!Zp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Lr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bx(e)),e=RB(n.get(t),e);return bx(e)}function RB(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function bx(n){return n+"\x01\x01"}function Ss(n){const e=n.length;if(ze(e>=2),2===e)return ze("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Pt.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf("\x01",o);switch((u<0||u>t)&&Fe(),n.charAt(u+1)){case"\x01":const f=n.substring(o,u);let g;0===i.length?g=f:(i+=f,g=i,i=""),r.push(g);break;case"\x10":i+=n.substring(o,u),i+="\0";break;case"\x11":i+=n.substring(o,u+1);break;default:Fe()}o=u+2}return new Pt(r)}const wx=["userId","batchId"];function s(n,e){return[n,Lr(e)]}function a(n,e,t){return[n,Lr(e),t]}const c={},d=["prefixPath","collectionGroup","readTime","documentId"],h=["prefixPath","collectionGroup","documentId"],p=["collectionGroup","readTime","prefixPath","documentId"],m=["canonicalId","targetId"],y=["targetId","path"],b=["path","targetId"],C=["collectionId","parent"],T=["indexId","uid"],S=["uid","sequenceNumber"],O=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],L=["indexId","uid","orderedDocumentKey"],J=["userId","collectionPath","documentId"],ae=["userId","collectionPath","largestBatchId"],Se=["userId","collectionGroup","largestBatchId"],Ve=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ee=[...Ve,"documentOverlays"],lt=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_t=lt,Tt=[..._t,"indexConfiguration","indexState","indexEntries"];class er extends lI{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Sn(n,e){const t=Ie(n);return Jr.M(t.ht,e)}function uI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ko(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class nn{constructor(e,t){this.comparator=e,this.root=t||Vr.EMPTY}insert(e,t){return new nn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vr.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dI(this.root,e,this.comparator,!1)}getReverseIterator(){return new dI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dI(this.root,e,this.comparator,!0)}}class dI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vr{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Vr.RED,this.left=i??Vr.EMPTY,this.right=o??Vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Vr(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Vr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}Vr.EMPTY=null,Vr.RED=!0,Vr.BLACK=!1,Vr.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Vr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class un{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LB(this.data.getIterator())}getIteratorFrom(e){return new LB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new un(this.comparator);return t.data=e,t}}class LB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Kp(n){return n.hasNext()?n.getNext():void 0}class Fi{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new Fi([])}unionWith(e){let t=new un(mn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class VB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new VB("Invalid base64 string: "+i):i}}(e);return new ar(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new ar(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const Jz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lc(n){if(ze(!!n),"string"==typeof n){let e=0;const t=Jz.exec(n);if(ze(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kn(n.seconds),nanos:kn(n.nanos)}}function kn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Xa(n){return"string"==typeof n?ar.fromBase64String(n):ar.fromUint8Array(n)}function hI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fI(n){const e=n.mapValue.fields.__previous_value__;return hI(e)?fI(e):e}function Mv(n){const e=Lc(n.mapValue.fields.__local_write_time__.timestampValue);return new qt(e.seconds,e.nanos)}class Xz{constructor(e,t,r,i,o,u,f,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=_}}class Vc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vc&&e.projectId===this.projectId&&e.database===this.database}}const Bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},pI={nullValue:"NULL_VALUE"};function Uc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hI(n)?4:GB(n)?9007199254740991:10:Fe()}function Ro(n,e){if(n===e)return!0;const t=Uc(n);if(t!==Uc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mv(n).isEqual(Mv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=Lc(r.timestampValue),u=Lc(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Xa(n.bytesValue).isEqual(Xa(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return kn(r.geoPointValue.latitude)===kn(i.geoPointValue.latitude)&&kn(r.geoPointValue.longitude)===kn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return kn(r.integerValue)===kn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=kn(r.doubleValue),u=kn(i.doubleValue);return o===u?Zp(o)===Zp(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return Fd(n.arrayValue.values||[],e.arrayValue.values||[],Ro);case 10:return function(r,i){const o=r.mapValue.fields||{},u=i.mapValue.fields||{};if(uI(o)!==uI(u))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(void 0===u[f]||!Ro(o[f],u[f])))return!1;return!0}(n,e);default:return Fe()}var i}function Pv(n,e){return void 0!==(n.values||[]).find(t=>Ro(t,e))}function Hc(n,e){if(n===e)return 0;const t=Uc(n),r=Uc(e);if(t!==r)return ot(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ot(n.booleanValue,e.booleanValue);case 2:return function(i,o){const u=kn(i.integerValue||i.doubleValue),f=kn(o.integerValue||o.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return BB(n.timestampValue,e.timestampValue);case 4:return BB(Mv(n),Mv(e));case 5:return ot(n.stringValue,e.stringValue);case 6:return function(i,o){const u=Xa(i),f=Xa(o);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const u=i.split("/"),f=o.split("/");for(let g=0;g<u.length&&g<f.length;g++){const _=ot(u[g],f[g]);if(0!==_)return _}return ot(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const u=ot(kn(i.latitude),kn(o.latitude));return 0!==u?u:ot(kn(i.longitude),kn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const u=i.values||[],f=o.values||[];for(let g=0;g<u.length&&g<f.length;++g){const _=Hc(u[g],f[g]);if(_)return _}return ot(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Bc.mapValue&&o===Bc.mapValue)return 0;if(i===Bc.mapValue)return 1;if(o===Bc.mapValue)return-1;const u=i.fields||{},f=Object.keys(u),g=o.fields||{},_=Object.keys(g);f.sort(),_.sort();for(let v=0;v<f.length&&v<_.length;++v){const w=ot(f[v],_[v]);if(0!==w)return w;const E=Hc(u[f[v]],g[_[v]]);if(0!==E)return E}return ot(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Fe()}}function BB(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ot(n,e);const t=Lc(n),r=Lc(e),i=ot(t.seconds,r.seconds);return 0!==i?i:ot(t.nanos,r.nanos)}function Qp(n){return Cx(n)}function Cx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Lc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Xa(n.bytesValue).toBase64():"referenceValue"in n?De.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const u of r.values||[])o?o=!1:i+=",",i+=Cx(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const f of i)u?u=!1:o+=",",o+=`${f}:${Cx(r.fields[f])}`;return o+"}"}(n.mapValue):Fe();var e}function Hd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Tx(n){return!!n&&"integerValue"in n}function xv(n){return!!n&&"arrayValue"in n}function UB(n){return!!n&&"nullValue"in n}function HB(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mI(n){return!!n&&"mapValue"in n}function Ov(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ko(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ov(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ov(n.arrayValue.values[t]);return e}return Object.assign({},n)}function GB(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function e9(n){return"nullValue"in n?pI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Hd(Vc.empty(),De.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Fe()}function t9(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Hd(Vc.empty(),De.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bc:Fe()}function zB(n,e){const t=Hc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function jB(n,e){const t=Hc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Br{constructor(e){this.value=e}static empty(){return new Br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ov(t)}setAll(e){let t=mn.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=Ov(u):i.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());mI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ro(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ko(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Br(Ov(this.value))}}function $B(n){const e=[];return ko(n.fields,(t,r)=>{const i=new mn([t]);if(mI(r)){const o=$B(r.mapValue).fields;if(0===o.length)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new Fi(e)}class dn{constructor(e,t,r,i,o,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new dn(e,0,$e.min(),$e.min(),$e.min(),Br.empty(),0)}static newFoundDocument(e,t,r,i){return new dn(e,1,t,$e.min(),r,i,0)}static newNoDocument(e,t){return new dn(e,2,t,$e.min(),$e.min(),Br.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,$e.min(),$e.min(),Br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gc{constructor(e,t){this.position=e,this.inclusive=t}}function WB(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(r=o.field.isKeyField()?De.comparator(De.fromName(u.referenceValue),t.key):Hc(u,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function qB(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ro(n.position[t],e.position[t]))return!1;return!0}class Yp{constructor(e,t="asc"){this.field=e,this.dir=t}}function n9(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ZB{}class At extends ZB{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new r9(e,t,r):"array-contains"===t?new o9(e,r):"in"===t?new eU(e,r):"not-in"===t?new a9(e,r):"array-contains-any"===t?new l9(e,r):new At(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new i9(e,r):new s9(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Hc(t,this.value)):null!==t&&Uc(this.value)===Uc(t)&&this.matchesComparison(Hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class $t extends ZB{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new $t(e,t)}matches(e){return Jp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Jp(n){return"and"===n.op}function Ex(n){return"or"===n.op}function Ix(n){return KB(n)&&Jp(n)}function KB(n){for(const e of n.filters)if(e instanceof $t)return!1;return!0}function Sx(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+Qp(n.value);if(Ix(n))return n.filters.map(e=>Sx(e)).join(",");{const e=n.filters.map(t=>Sx(t)).join(",");return`${n.op}(${e})`}}function QB(n,e){return n instanceof At?(t=n,(r=e)instanceof At&&t.op===r.op&&t.field.isEqual(r.field)&&Ro(t.value,r.value)):n instanceof $t?function(t,r){return r instanceof $t&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,u)=>i&&QB(o,r.filters[u]),!0)}(n,e):void Fe();var t,r}function YB(n,e){const t=n.filters.concat(e);return $t.create(t,n.op)}function JB(n){return n instanceof At?`${(e=n).field.canonicalString()} ${e.op} ${Qp(e.value)}`:n instanceof $t?function(e){return e.op.toString()+" {"+e.getFilters().map(JB).join(" ,")+"}"}(n):"Filter";var e}class r9 extends At{constructor(e,t,r){super(e,t,r),this.key=De.fromName(r.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class i9 extends At{constructor(e,t){super(e,"in",t),this.keys=XB(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class s9 extends At{constructor(e,t){super(e,"not-in",t),this.keys=XB(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function XB(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>De.fromName(r.referenceValue))}class o9 extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return xv(t)&&Pv(t.arrayValue,this.value)}}class eU extends At{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Pv(this.value.arrayValue,t)}}class a9 extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Pv(this.value.arrayValue,t)}}class l9 extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!xv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Pv(this.value.arrayValue,r))}}class c9{constructor(e,t=null,r=[],i=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=f,this.dt=null}}function Ax(n,e=null,t=[],r=[],i=null,o=null,u=null){return new c9(n,e,t,r,i,o,u)}function Gd(n){const e=Ie(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Sx(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qp(r)).join(",")),e.dt=t}return e.dt}function Nv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!n9(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QB(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qB(n.startAt,e.startAt)&&qB(n.endAt,e.endAt)}function _I(n){return De.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function yI(n,e){return n.filters.filter(t=>t instanceof At&&t.field.isEqual(e))}function tU(n,e,t){let r=pI,i=!0;for(const o of yI(n,e)){let u=pI,f=!0;switch(o.op){case"<":case"<=":u=e9(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,f=!1;break;case"!=":case"not-in":u=pI}zB({value:r,inclusive:i},{value:u,inclusive:f})<0&&(r=u,i=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];zB({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function nU(n,e,t){let r=Bc,i=!0;for(const o of yI(n,e)){let u=Bc,f=!0;switch(o.op){case">=":case">":u=t9(o.value),f=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,f=!1;break;case"!=":case"not-in":u=Bc}jB({value:r,inclusive:i},{value:u,inclusive:f})>0&&(r=u,i=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];jB({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class el{constructor(e,t=null,r=[],i=[],o=null,u="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=g,this.wt=null,this._t=null}}function rU(n,e,t,r,i,o,u,f){return new el(n,e,t,r,i,o,u,f)}function Xp(n){return new el(n)}function iU(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Dx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function vI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Mx(n){return null!==n.collectionGroup}function zd(n){const e=Ie(n);if(null===e.wt){e.wt=[];const t=vI(e),r=Dx(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Yp(t)),e.wt.push(new Yp(mn.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Yp(mn.keyField(),o))}}}return e.wt}function mi(n){const e=Ie(n);if(!e._t)if("F"===e.limitType)e._t=Ax(e.path,e.collectionGroup,zd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of zd(e))t.push(new Yp(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new Gc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Gc(e.startAt.position,e.startAt.inclusive):null;e._t=Ax(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Px(n,e){e.getFirstInequalityField(),vI(n);const t=n.filters.concat([e]);return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function bI(n,e,t){return new el(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kv(n,e){return Nv(mi(n),mi(e))&&n.limitType===e.limitType}function sU(n){return`${Gd(mi(n))}|lt:${n.limitType}`}function xx(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>JB(r)).join(", ")}]`),Ud(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qp(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qp(r)).join(",")),`Target(${t})`}(mi(n))}; limitType=${n.limitType})`}function Rv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):De.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of zd(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,u){const f=WB(i,o,u);return i.inclusive?f<=0:f<0}(t.startAt,zd(t),r)||t.endAt&&!function(i,o,u){const f=WB(i,o,u);return i.inclusive?f>=0:f>0}(t.endAt,zd(t),r)));var t,r}function oU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function aU(n){return(e,t)=>{let r=!1;for(const i of zd(n)){const o=u9(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function u9(n,e,t){const r=n.field.isKeyField()?De.comparator(e.key,t.key):function(i,o,u){const f=o.data.field(i),g=u.data.field(i);return null!==f&&null!==g?Hc(f,g):Fe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}class tl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ko(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return FB(this.inner)}size(){return this.innerSize}}const d9=new nn(De.comparator);function Li(){return d9}const lU=new nn(De.comparator);function Fv(...n){let e=lU;for(const t of n)e=e.insert(t.key,t);return e}function cU(n){let e=lU;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fo(){return Lv()}function uU(){return Lv()}function Lv(){return new tl(n=>n.toString(),(n,e)=>n.isEqual(e))}const h9=new nn(De.comparator),f9=new un(De.comparator);function gt(...n){let e=f9;for(const t of n)e=e.add(t);return e}const p9=new un(ot);function Ox(){return p9}function dU(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zp(e)?"-0":e}}function hU(n){return{integerValue:""+n}}function fU(n,e){return vx(e)?hU(e):dU(n,e)}class wI{constructor(){this._=void 0}}function g9(n,e,t){return n instanceof eg?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&hI(i)&&(i=fI(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof jd?gU(n,e):n instanceof $d?mU(n,e):function(r,i){const o=pU(r,i),u=_U(o)+_U(r.gt);return Tx(o)&&Tx(r.gt)?hU(u):dU(r.serializer,u)}(n,e)}function m9(n,e,t){return n instanceof jd?gU(n,e):n instanceof $d?mU(n,e):t}function pU(n,e){return n instanceof tg?Tx(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class eg extends wI{}class jd extends wI{constructor(e){super(),this.elements=e}}function gU(n,e){const t=yU(e);for(const r of n.elements)t.some(i=>Ro(i,r))||t.push(r);return{arrayValue:{values:t}}}class $d extends wI{constructor(e){super(),this.elements=e}}function mU(n,e){let t=yU(e);for(const r of n.elements)t=t.filter(i=>!Ro(i,r));return{arrayValue:{values:t}}}class tg extends wI{constructor(e,t){super(),this.serializer=e,this.gt=t}}function _U(n){return kn(n.integerValue||n.doubleValue)}function yU(n){return xv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Vv{constructor(e,t){this.field=e,this.transform=t}}class y9{constructor(e,t){this.version=e,this.transformResults=t}}class _n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function CI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class TI{}function vU(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new rg(n.key,_n.none()):new ng(n.key,n.data,_n.none());{const t=n.data,r=Br.empty();let i=new un(mn.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);null===u&&o.length>1&&(o=o.popLast(),u=t.field(o)),null===u?r.delete(o):r.set(o,u),i=i.add(o)}return new nl(n.key,r,new Fi(i.toArray()),_n.none())}}function v9(n,e,t){n instanceof ng?function(r,i,o){const u=r.value.clone(),f=CU(r.fieldTransforms,i,o.transformResults);u.setAll(f),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof nl?function(r,i,o){if(!CI(r.precondition,i))return void i.convertToUnknownDocument(o.version);const u=CU(r.fieldTransforms,i,o.transformResults),f=i.data;f.setAll(wU(r)),f.setAll(u),i.convertToFoundDocument(o.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Bv(n,e,t,r){return n instanceof ng?function(i,o,u,f){if(!CI(i.precondition,o))return u;const g=i.value.clone(),_=TU(i.fieldTransforms,f,o);return g.setAll(_),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof nl?function(i,o,u,f){if(!CI(i.precondition,o))return u;const g=TU(i.fieldTransforms,f,o),_=o.data;return _.setAll(wU(i)),_.setAll(g),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(v=>v.field))}(n,e,t,r):(u=t,CI(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function b9(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=pU(r.transform,i||null);null!=o&&(null===t&&(t=Br.empty()),t.set(r.field,o))}return t||null}function bU(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Fd(t,r,(i,o)=>function _9(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof jd&&r instanceof jd||t instanceof $d&&r instanceof $d?Fd(t.elements,r.elements,Ro):t instanceof tg&&r instanceof tg?Ro(t.gt,r.gt):t instanceof eg&&r instanceof eg);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ng extends TI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nl extends TI{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wU(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function CU(n,e,t){const r=new Map;ze(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,f=e.data.field(o.field);r.set(o.field,m9(u,f,t[i]))}return r}function TU(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,g9(o,u,e))}return r}class rg extends TI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx extends TI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class kx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&v9(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=uU();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=t.has(i.key)?null:f;const g=vU(u,f);null!==g&&r.set(i.key,g),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),gt())}isEqual(e){return this.batchId===e.batchId&&Fd(this.mutations,e.mutations,(t,r)=>bU(t,r))&&Fd(this.baseMutations,e.baseMutations,(t,r)=>bU(t,r))}}class Rx{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ze(e.mutations.length===r.length);let i=h9;const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Rx(e,t,r,i)}}class Fx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class C9{constructor(e,t){this.count=e,this.unchangedNames=t}}var tr,xt;function EU(n){switch(n){default:return Fe();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function IU(n){if(void 0===n)return gn("GRPC error has no .code"),j.UNKNOWN;switch(n){case tr.OK:return j.OK;case tr.CANCELLED:return j.CANCELLED;case tr.UNKNOWN:return j.UNKNOWN;case tr.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case tr.INTERNAL:return j.INTERNAL;case tr.UNAVAILABLE:return j.UNAVAILABLE;case tr.UNAUTHENTICATED:return j.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case tr.NOT_FOUND:return j.NOT_FOUND;case tr.ALREADY_EXISTS:return j.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return j.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case tr.ABORTED:return j.ABORTED;case tr.OUT_OF_RANGE:return j.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return j.UNIMPLEMENTED;case tr.DATA_LOSS:return j.DATA_LOSS;default:return Fe()}}(xt=tr||(tr={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";class Lx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return EI}static getOrCreateInstance(){return null===EI&&(EI=new Lx),EI}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let EI=null;function SU(){return new TextEncoder}const T9=new kd([4294967295,4294967295],0);function AU(n){const e=SU().encode(n),t=new DB;return t.update(e),new Uint8Array(t.digest())}function DU(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new kd([t,r],0),new kd([i,o],0)]}class Vx{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Uv(`Invalid padding: ${t}`);if(r<0)throw new Uv(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Uv(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Uv(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=kd.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(kd.fromNumber(r)));return 1===i.compare(T9)&&(i=new kd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=AU(e),[r,i]=DU(t);for(let o=0;o<this.hashCount;o++){const u=this.Et(r,i,o);if(!this.At(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Vx(o,i,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(0===this.It)return;const t=AU(e),[r,i]=DU(t);for(let o=0;o<this.hashCount;o++){const u=this.Et(r,i,o);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Uv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hv{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Gv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Hv($e.min(),i,new nn(ot),Li(),gt())}}class Gv{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gv(r,t,gt(),gt(),gt())}}class II{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class MU{constructor(e,t){this.targetId=e,this.Vt=t}}class PU{constructor(e,t,r=ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class xU{constructor(){this.St=0,this.Dt=NU(),this.Ct=ar.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=gt(),t=gt(),r=gt();return this.Dt.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Fe()}}),new Gv(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=NU()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class E9{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Li(),this.zt=OU(),this.Wt=new nn(ot)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:Fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,o=this.se(r);if(o){const u=o.target;if(_I(u))if(0===i){const f=new De(u.path);this.Yt(r,f,dn.newNoDocument(f,$e.min()))}else ze(1===i);else{const f=this.ie(r);if(f!==i){const g=this.re(e,f);0!==g&&(this.ee(r),this.Wt=this.Wt.insert(r,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Lx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(_,v,w){var E,A,k,z,Z,Te;const He={localCacheCount:v,existenceFilterCount:w.count},Ne=w.unchangedNames;return Ne&&(He.bloomFilter={applied:0===_,hashCount:null!==(E=Ne?.hashCount)&&void 0!==E?E:0,bitmapLength:null!==(z=null===(k=null===(A=Ne?.bits)||void 0===A?void 0:A.bitmap)||void 0===k?void 0:k.length)&&void 0!==z?z:0,padding:null!==(Te=null===(Z=Ne?.bits)||void 0===Z?void 0:Z.padding)&&void 0!==Te?Te:0}),He}(g,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:u=0},hashCount:f=0}=r;let g,_;try{g=Xa(o).toUint8Array()}catch(v){if(v instanceof VB)return Yr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw v}try{_=new Vx(g,u,f)}catch(v){return Yr(v instanceof Uv?"BloomFilter error: ":"Applying bloom filter failed: ",v),1}return 0===_.It?1:i!==t-this.oe(e.targetId,_)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const u=this.Gt.ue(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;t.vt(f)||(this.Yt(e,o,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((o,u)=>{const f=this.se(u);if(f){if(o.current&&_I(f.target)){const g=new De(f.target.path);null!==this.jt.get(g)||this.ae(u,g)||this.Yt(u,g,dn.newNoDocument(g,e))}o.Mt&&(t.set(u,o.Ot()),o.Ft())}});let r=gt();this.zt.forEach((o,u)=>{let f=!0;u.forEachWhile(g=>{const _=this.se(g);return!_||"TargetPurposeLimboResolution"===_.purpose||(f=!1,!1)}),f&&(r=r.add(o))}),this.jt.forEach((o,u)=>u.setReadTime(e));const i=new Hv(e,t,this.Wt,this.jt,r);return this.jt=Li(),this.zt=OU(),this.Wt=new nn(ot),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new xU,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new un(ot),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||oe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new xU),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function OU(){return new nn(De.comparator)}function NU(){return new nn(De.comparator)}const I9={asc:"ASCENDING",desc:"DESCENDING"},S9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A9={and:"AND",or:"OR"};class D9{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bx(n,e){return n.useProto3Json||Ud(e)?e:{value:e}}function ig(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kU(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function M9(n,e){return ig(n,e.toTimestamp())}function $n(n){return ze(!!n),$e.fromTimestamp(function(e){const t=Lc(e);return new qt(t.seconds,t.nanos)}(n))}function Ux(n,e){return(t=n,new Pt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function RU(n){const e=Pt.fromString(n);return ze(jU(e)),e}function zv(n,e){return Ux(n.databaseId,e.path)}function Lo(n,e){const t=RU(e);if(t.get(1)!==n.databaseId.projectId)throw new re(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new De(LU(t))}function Hx(n,e){return Ux(n.databaseId,e)}function FU(n){const e=RU(n);return 4===e.length?Pt.emptyPath():LU(e)}function jv(n){return new Pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LU(n){return ze(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function VU(n,e,t){return{name:zv(n,e),fields:t.value.mapValue.fields}}function BU(n,e,t){const r=Lo(n,e.name),i=$n(e.updateTime),o=e.createTime?$n(e.createTime):$e.min(),u=new Br({mapValue:{fields:e.fields}}),f=dn.newFoundDocument(r,i,o,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function $v(n,e){let t;if(e instanceof ng)t={update:VU(n,e.key,e.value)};else if(e instanceof rg)t={delete:zv(n,e.key)};else if(e instanceof nl)t={update:VU(n,e.key,e.data),updateMask:L9(e.fieldMask)};else{if(!(e instanceof Nx))return Fe();t={verify:zv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const u=o.transform;if(u instanceof eg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof jd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof $d)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof tg)return{fieldPath:o.field.canonicalString(),increment:u.gt};throw Fe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:M9(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Fe()),t;var i}function Gx(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?_n.updateTime($n(i.updateTime)):void 0!==i.exists?_n.exists(i.exists):_n.none():_n.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,u){let f=null;"setToServerValue"in u?(ze("REQUEST_TIME"===u.setToServerValue),f=new eg):"appendMissingElements"in u?f=new jd(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new $d(u.removeAllFromArray.values||[]):"increment"in u?f=new tg(o,u.increment):Fe();const g=mn.fromServerFormat(u.fieldPath);return new Vv(g,f)}(n,i)):[];var i;if(e.update){const i=Lo(n,e.update.name),o=new Br({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Fi((e.updateMask.fieldPaths||[]).map(_=>mn.fromServerFormat(_)));return new nl(i,o,u,t,r)}return new ng(i,o,t,r)}if(e.delete){const i=Lo(n,e.delete);return new rg(i,t)}if(e.verify){const i=Lo(n,e.verify);return new Nx(i,t)}return Fe()}function UU(n,e){return{documents:[Hx(n,e.path)]}}function zx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Hx(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Hx(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0!==g.length)return zU($t.create(g,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(g){if(0!==g.length)return g.map(_=>{return{field:zc((v=_).field),direction:k9(v.dir)};var v})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=Bx(n,e.limit);var f,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function HU(n){let e=FU(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ze(1===r);const v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=function(v){const w=GU(v);return w instanceof $t&&Ix(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(v=>{return new Yp(sg((w=v).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction));var w}));let f=null;t.limit&&(f=function(v){let w;return w="object"==typeof v?v.value:v,Ud(w)?null:w}(t.limit));let g=null;var v;t.startAt&&(g=new Gc((v=t.startAt).values||[],!!v.before));let _=null;return t.endAt&&(_=function(v){return new Gc(v.values||[],!v.before)}(t.endAt)),rU(e,i,u,o,f,"F",g,_)}function GU(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=sg(e.unaryFilter.field);return At.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=sg(e.unaryFilter.field);return At.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=sg(e.unaryFilter.field);return At.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=sg(e.unaryFilter.field);return At.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(n):void 0!==n.fieldFilter?At.create(sg((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return $t.create(e.compositeFilter.filters.map(t=>GU(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Fe()}}(e.compositeFilter.op))}(n):Fe();var e}function k9(n){return I9[n]}function R9(n){return S9[n]}function F9(n){return A9[n]}function zc(n){return{fieldPath:n.canonicalString()}}function sg(n){return mn.fromServerFormat(n.fieldPath)}function zU(n){return n instanceof At?function(e){if("=="===e.op){if(HB(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NAN"}};if(UB(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(HB(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NOT_NAN"}};if(UB(e.value))return{unaryFilter:{field:zc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zc(e.field),op:R9(e.op),value:e.value}}}(n):n instanceof $t?function(e){const t=e.getFilters().map(r=>zU(r));return 1===t.length?t[0]:{compositeFilter:{op:F9(e.op),filters:t}}}(n):Fe()}function L9(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class rl{constructor(e,t,r,i,o=$e.min(),u=$e.min(),f=ar.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new rl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $U{constructor(e){this.fe=e}}function WU(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:SI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:zv(i=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:ig(i,o.version.toTimestamp()),createTime:ig(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Wd(e.version)};else{if(!e.isUnknownDocument())return Fe();r.unknownDocument={path:t.path.toArray(),version:Wd(e.version)}}var i,o;return r}function SI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Wd(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function qd(n){const e=new qt(n.seconds,n.nanoseconds);return $e.fromTimestamp(e)}function Zd(n,e){const t=(e.baseMutations||[]).map(o=>Gx(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>Gx(n.fe,o)),i=qt.fromMillis(e.localWriteTimeMs);return new kx(e.batchId,i,t,r)}function Wv(n){const e=qd(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?qd(n.lastLimboFreeSnapshotVersion):$e.min();let r;var i;return void 0!==n.query.documents?(ze(1===(i=n.query).documents.length),r=mi(Xp(FU(i.documents[0])))):r=mi(HU(n.query)),new rl(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ar.fromBase64String(n.resumeToken))}function qU(n,e){const t=Wd(e.snapshotVersion),r=Wd(e.lastLimboFreeSnapshotVersion);let i;i=_I(e.target)?UU(n.fe,e.target):zx(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Gd(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function jx(n){const e=HU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?bI(e,e.limit,"L"):e}function $x(n,e){return new Fx(e.largestBatchId,Gx(n.fe,e.overlayMutation))}function ZU(n,e){const t=e.path.lastSegment();return[n,Lr(e.path.popLast()),t]}function KU(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Wd(r.readTime),documentKey:Lr(r.documentKey.path),largestBatchId:r.largestBatchId}}class B9{getBundleMetadata(e,t){return QU(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:qd(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return QU(e).put({bundleId:(r=t).id,createTime:Wd($n(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return YU(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:jx(i.bundledQuery),readTime:qd(i.readTime)};var i})}saveNamedQuery(e,t){return YU(e).put({name:(r=t).name,readTime:Wd($n(r.readTime)),bundledQuery:r.bundledQuery});var r}}function QU(n){return Sn(n,"bundles")}function YU(n){return Sn(n,"namedQueries")}class AI{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new AI(e,t.uid||"")}getOverlay(e,t){return qv(e).get(ZU(this.userId,t)).next(r=>r?$x(this.serializer,r):null)}getOverlays(e,t){const r=Fo();return H.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const f=new Fx(t,u);i.push(this.we(e,f))}),H.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Lr(u.getCollectionPath())));const o=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(qv(e).J("collectionPathOverlayIndex",f))}),H.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Fo(),o=Lr(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return qv(e).j("collectionPathOverlayIndex",u).next(f=>{for(const g of f){const _=$x(this.serializer,g);i.set(_.getKey(),_)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Fo();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return qv(e).X({index:"collectionGroupOverlayIndex",range:f},(g,_,v)=>{const w=$x(this.serializer,_);o.size()<i||w.largestBatchId===u?(o.set(w.getKey(),w),u=w.largestBatchId):v.done()}).next(()=>o)}we(e,t){return qv(e).put(function(r,i,o){const[u,f,g]=ZU(i,o.mutation.key);return{userId:i,collectionPath:f,documentId:g,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:$v(r.fe,o.mutation)}}(this.serializer,this.userId,t))}}function qv(n){return Sn(n,"documentOverlays")}class Kd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(kn(e.integerValue));else if("doubleValue"in e){const r=kn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Zp(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Xa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?GB(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Fe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),De.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function U9(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function JU(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=U9(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}Kd.Ve=new Kd;class H9{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=JU(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=JU(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class G9{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class z9{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Zv{constructor(){this.je=new H9,this.ze=new G9(this.je),this.We=new z9(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Qd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Qd(this.indexId,this.documentKey,this.arrayValue,r)}}function jc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=XU(n.arrayValue,e.arrayValue),0!==t?t:(t=XU(n.directionalValue,e.directionalValue),0!==t?t:De.comparator(n.documentKey,e.documentKey)))}function XU(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class j9{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){ze(e.collectionGroup===this.collectionId);const t=Iv(e);if(void 0!==t&&!this.en(t))return!1;const r=No(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.en(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const f=r[o];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[u++],f))return!1}++o}for(;o<r.length;++o)if(u>=this.Ye.length||!this.sn(this.Ye[u++],r[o]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function eH(n){var e,t;if(ze(n instanceof At||n instanceof $t),n instanceof At){if(n instanceof eU){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>At.create(n.field,"==",o)))||[];return $t.create(i,"or")}return n}const r=n.filters.map(i=>eH(i));return $t.create(r,n.op)}function $9(n){if(0===n.getFilters().length)return[];const e=Zx(eH(n));return ze(tH(e)),Wx(e)||qx(e)?[e]:e.getFilters()}function Wx(n){return n instanceof At}function qx(n){return n instanceof $t&&Ix(n)}function tH(n){return Wx(n)||qx(n)||function(e){if(e instanceof $t&&Ex(e)){for(const t of e.getFilters())if(!Wx(t)&&!qx(t))return!1;return!0}return!1}(n)}function Zx(n){if(ze(n instanceof At||n instanceof $t),n instanceof At)return n;if(1===n.filters.length)return Zx(n.filters[0]);const e=n.filters.map(r=>Zx(r));let t=$t.create(e,n.op);return t=DI(t),tH(t)?t:(ze(t instanceof $t),ze(Jp(t)),ze(t.filters.length>1),t.filters.reduce((r,i)=>Kx(r,i)))}function Kx(n,e){let t;return ze(n instanceof At||n instanceof $t),ze(e instanceof At||e instanceof $t),t=n instanceof At?e instanceof At?$t.create([n,e],"and"):nH(n,e):e instanceof At?nH(e,n):function(r,i){if(ze(r.filters.length>0&&i.filters.length>0),Jp(r)&&Jp(i))return YB(r,i.getFilters());const o=Ex(r)?r:i,u=Ex(r)?i:r,f=o.filters.map(g=>Kx(g,u));return $t.create(f,"or")}(n,e),DI(t)}function nH(n,e){if(Jp(e))return YB(e,n.getFilters());{const t=e.filters.map(r=>Kx(n,r));return $t.create(t,"or")}}function DI(n){if(ze(n instanceof At||n instanceof $t),n instanceof At)return n;const e=n.getFilters();if(1===e.length)return DI(e[0]);if(KB(n))return n;const t=e.map(i=>DI(i)),r=[];return t.forEach(i=>{i instanceof At?r.push(i):i instanceof $t&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:$t.create(r,n.op)}class W9{constructor(){this.rn=new Qx}addToCollectionParentIndex(e,t){return this.rn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(gi.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(gi.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class Qx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new un(Pt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new un(Pt.comparator)).toArray()}}const MI=new Uint8Array(0);class q9{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Qx,this.un=new tl(r=>Gd(r),(r,i)=>Nv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:r,parent:Lr(i)};return rH(e).put(o)}return H.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Ev(t),""],!1,!0);return rH(e).j(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(Ss(u.parent))}return r})}addFieldIndex(e,t){const r=PI(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete i.indexId;const o=r.add(i);if(t.indexState){const u=Qv(e);return o.next(f=>{u.put(KU(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=PI(e),i=Qv(e),o=Kv(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Kv(e);let i=!0;const o=new Map;return H.forEach(this.cn(t),u=>this.an(e,u).next(f=>{i&&(i=!!f),o.set(u,f)})).next(()=>{if(i){let u=gt();const f=[];return H.forEach(o,(g,_)=>{var v;oe("IndexedDbIndexManager",`Using index ${v=g,`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(Ne=>`${Ne.fieldPath}:${Ne.kind}`).join(",")}`} to execute ${Gd(t)}`);const w=function(Ne,Et){const Ot=Iv(Et);if(void 0===Ot)return null;for(const Ht of yI(Ne,Ot.fieldPath))switch(Ht.op){case"array-contains-any":return Ht.value.arrayValue.values||[];case"array-contains":return[Ht.value]}return null}(_,g),E=function(Ne,Et){const Ot=new Map;for(const Ht of No(Et))for(const zr of yI(Ne,Ht.fieldPath))switch(zr.op){case"==":case"in":Ot.set(Ht.fieldPath.canonicalString(),zr.value);break;case"not-in":case"!=":return Ot.set(Ht.fieldPath.canonicalString(),zr.value),Array.from(Ot.values())}return null}(_,g),A=function(Ne,Et){const Ot=[];let Ht=!0;for(const zr of No(Et)){const ml=0===zr.kind?tU(Ne,zr.fieldPath,Ne.startAt):nU(Ne,zr.fieldPath,Ne.startAt);Ot.push(ml.value),Ht&&(Ht=ml.inclusive)}return new Gc(Ot,Ht)}(_,g),k=function(Ne,Et){const Ot=[];let Ht=!0;for(const zr of No(Et)){const ml=0===zr.kind?nU(Ne,zr.fieldPath,Ne.endAt):tU(Ne,zr.fieldPath,Ne.endAt);Ot.push(ml.value),Ht&&(Ht=ml.inclusive)}return new Gc(Ot,Ht)}(_,g),z=this.hn(g,_,A),Z=this.hn(g,_,k),Te=this.ln(g,_,E),He=this.fn(g.indexId,w,z,A.inclusive,Z,k.inclusive,Te);return H.forEach(He,Ne=>r.H(Ne,t.limit).next(Et=>{Et.forEach(Ot=>{const Ht=De.fromSegments(Ot.documentKey);u.has(Ht)||(u=u.add(Ht),f.push(Ht))})}))}).next(()=>f)}return H.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:$9($t.create(e.filters,"and")).map(r=>Ax(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,o,u,f){const g=(null!=t?t.length:1)*Math.max(r.length,o.length),_=g/(null!=t?t.length:1),v=[];for(let w=0;w<g;++w){const E=t?this.dn(t[w/_]):MI,A=this.wn(e,E,r[w%_],i),k=this._n(e,E,o[w%_],u),z=f.map(Z=>this.wn(e,E,Z,!0));v.push(...this.createRange(A,k,z))}return v}wn(e,t,r,i){const o=new Qd(e,De.empty(),t,r);return i?o:o.Je()}_n(e,t,r,i){const o=new Qd(e,De.empty(),t,r);return i?o.Je():o}an(e,t){const r=new j9(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const f of o)r.tn(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let r=2;const i=this.cn(t);return H.forEach(i,o=>this.an(e,o).next(u=>{u?0!==r&&u.fields.length<function(f){let g=new un(mn.comparator),_=!1;for(const v of f.filters)for(const w of v.getFlattenedFilters())w.field.isKeyField()||("array-contains"===w.op||"array-contains-any"===w.op?_=!0:g=g.add(w.field));for(const v of f.orderBy)v.field.isKeyField()||(g=g.add(v.field));return g.size+(_?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new Zv;for(const i of No(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const u=r.He(i.kind);Kd.Ve._e(o,u)}return r.Qe()}dn(e){const t=new Zv;return Kd.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Zv;return Kd.Ve._e(Hd(this.databaseId,t),r.He(function(i){const o=No(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new Zv);let o=0;for(const u of No(e)){const f=r[o++];for(const g of i)if(this.yn(t,u.fieldPath)&&xv(f))i=this.pn(i,u,f);else{const _=g.He(u.kind);Kd.Ve._e(f,_)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const f of i){const g=new Zv;g.seed(f.Qe()),Kd.Ve._e(u,g.He(t.kind)),o.push(g)}return o}yn(e,t){return!!e.filters.find(r=>r instanceof At&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=PI(e),i=Qv(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(o=>{const u=[];return H.forEach(o,f=>i.get([f.indexId,this.uid]).next(g=>{u.push(function(_,v){const w=v?new Qa(v.sequenceNumber,new gi(qd(v.readTime),new De(Ss(v.documentKey)),v.largestBatchId)):Qa.empty(),E=_.fields.map(([A,k])=>new Sv(mn.fromServerFormat(A),k));return new $p(_.indexId,_.collectionGroup,E,w)}(f,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:ot(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=PI(e),o=Qv(e);return this.Tn(e).next(u=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>H.forEach(f,g=>o.put(KU(g.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return H.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?H.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),H.forEach(f,g=>this.En(e,i,g).next(_=>{const v=this.An(o,g);return _.isEqual(v)?H.resolve():this.vn(e,o,g,_,v)}))))})}Rn(e,t,r,i){return Kv(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Kv(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Kv(e);let o=new un(jc);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(u,f)=>{o=o.add(new Qd(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>o)}An(e,t){let r=new un(jc);const i=this.mn(t,e);if(null==i)return r;const o=Iv(t);if(null!=o){const u=e.data.field(o.fieldPath);if(xv(u))for(const f of u.arrayValue.values||[])r=r.add(new Qd(t.indexId,e.key,this.dn(f),i))}else r=r.add(new Qd(t.indexId,e.key,MI,i));return r}vn(e,t,r,i,o){oe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,g,_,v,w){const E=f.getIterator(),A=g.getIterator();let k=Kp(E),z=Kp(A);for(;k||z;){let Z=!1,Te=!1;if(k&&z){const He=_(k,z);He<0?Te=!0:He>0&&(Z=!0)}else null!=k?Te=!0:Z=!0;Z?(v(z),z=Kp(A)):Te?(w(k),k=Kp(E)):(k=Kp(E),z=Kp(A))}}(i,o,jc,f=>{u.push(this.Rn(e,t,r,f))},f=>{u.push(this.Pn(e,t,r,f))}),H.waitFor(u)}Tn(e){let t=1;return Qv(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>jc(u,f)).filter((u,f,g)=>!f||0!==jc(u,g[f-1]));const i=[];i.push(e);for(const u of r){const f=jc(u,e),g=jc(u,t);if(0===f)i[0]=e.Je();else if(f>0&&g<0)i.push(u),i.push(u.Je());else if(g>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.bn(i[u],i[u+1]))return[];o.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,MI,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,MI,[]]))}return o}bn(e,t){return jc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(iH)}getMinOffset(e,t){return H.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||Fe())).next(iH)}}function rH(n){return Sn(n,"collectionParents")}function Kv(n){return Sn(n,"indexEntries")}function PI(n){return Sn(n,"indexConfiguration")}function Qv(n){return Sn(n,"indexState")}function iH(n){ze(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Vd(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new gi(e.readTime,e.documentKey,t)}const sH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xr(e,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function oH(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],u=IDBKeyRange.only(t.batchId);let f=0;const g=r.X({range:u},(v,w,E)=>(f++,E.delete()));o.push(g.next(()=>{ze(1===f)}));const _=[];for(const v of t.mutations){const w=a(e,v.key.path,t.batchId);o.push(i.delete(w)),_.push(v.key)}return H.waitFor(o).next(()=>_)}function xI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Fe();e=n.noDocument}return JSON.stringify(e).length}Xr.DEFAULT_COLLECTION_PERCENTILE=10,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xr.DEFAULT=new Xr(41943040,Xr.DEFAULT_COLLECTION_PERCENTILE,Xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xr.DISABLED=new Xr(-1,0,0);class OI{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){ze(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new OI(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $c(e).X({index:"userMutationsIndex",range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=og(e),u=$c(e);return u.add({}).next(f=>{ze("number"==typeof f);const g=new kx(f,t,r,i),_=function(E,A,k){const z=k.baseMutations.map(Te=>$v(E.fe,Te)),Z=k.mutations.map(Te=>$v(E.fe,Te));return{userId:A,batchId:k.batchId,localWriteTimeMs:k.localWriteTime.toMillis(),baseMutations:z,mutations:Z}}(this.serializer,this.userId,g),v=[];let w=new un((E,A)=>ot(E.canonicalString(),A.canonicalString()));for(const E of i){const A=a(this.userId,E.key.path,f);w=w.add(E.key.path.popLast()),v.push(u.put(_)),v.push(o.put(A,c))}return w.forEach(E=>{v.push(this.indexManager.addToCollectionParentIndex(e,E))}),e.addOnCommittedListener(()=>{this.Vn[f]=g.keys()}),H.waitFor(v).next(()=>g)})}lookupMutationBatch(e,t){return $c(e).get(t).next(r=>r?(ze(r.userId===this.userId),Zd(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?H.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return $c(e).X({index:"userMutationsIndex",range:i},(u,f,g)=>{f.userId===this.userId&&(ze(f.batchId>=r),o=Zd(this.serializer,f)),g.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return $c(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $c(e).j("userMutationsIndex",t).next(r=>r.map(i=>Zd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=s(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return og(e).X({range:i},(u,f,g)=>{const[_,v,w]=u,E=Ss(v);if(_===this.userId&&t.path.isEqual(E))return $c(e).get(w).next(A=>{if(!A)throw Fe();ze(A.userId===this.userId),o.push(Zd(this.serializer,A))});g.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new un(ot);const i=[];return t.forEach(o=>{const u=s(this.userId,o.path),f=IDBKeyRange.lowerBound(u),g=og(e).X({range:f},(_,v,w)=>{const[E,A,k]=_,z=Ss(A);E===this.userId&&o.path.isEqual(z)?r=r.add(k):w.done()});i.push(g)}),H.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=s(this.userId,r),u=IDBKeyRange.lowerBound(o);let f=new un(ot);return og(e).X({range:u},(g,_,v)=>{const[w,E,A]=g,k=Ss(E);w===this.userId&&r.isPrefixOf(k)?k.length===i&&(f=f.add(A)):v.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const r=[],i=[];return t.forEach(o=>{i.push($c(e).get(o).next(u=>{if(null===u)throw Fe();ze(u.userId===this.userId),r.push(Zd(this.serializer,u))}))}),H.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return oH(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),H.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return H.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return og(e).X({range:r},(o,u,f)=>{if(o[0]===this.userId){const g=Ss(o[1]);i.push(g)}else f.done()}).next(()=>{ze(0===i.length)})})}containsKey(e,t){return aH(e,this.userId,t)}xn(e){return lH(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function aH(n,e,t){const r=s(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return og(n).X({range:o,Y:!0},(f,g,_)=>{const[v,w,E]=f;v===e&&w===i&&(u=!0),_.done()}).next(()=>u)}function $c(n){return Sn(n,"mutations")}function og(n){return Sn(n,"documentMutations")}function lH(n){return Sn(n,"mutationQueues")}class Yd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Yd(0)}static Mn(){return new Yd(-1)}}class Z9{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Yd(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>$e.fromTimestamp(new qt(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ag(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(ze(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return ag(e).X((u,f)=>{const g=Wv(f);g.sequenceNumber<=t&&null===r.get(g.targetId)&&(i++,o.push(this.removeTargetData(e,g)))}).next(()=>H.waitFor(o)).next(()=>i)}forEachTarget(e,t){return ag(e).X((r,i)=>{const o=Wv(i);t(o)})}$n(e){return cH(e).get("targetGlobalKey").next(t=>(ze(null!==t),t))}On(e,t){return cH(e).put("targetGlobalKey",t)}Fn(e,t){return ag(e).put(qU(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Gd(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return ag(e).X({range:i,index:"queryTargetsIndex"},(u,f,g)=>{const _=Wv(f);Nv(t,_.target)&&(o=_,g.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Wc(e);return t.forEach(u=>{const f=Lr(u.path);i.push(o.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),H.waitFor(i)}removeMatchingKeys(e,t,r){const i=Wc(e);return H.forEach(t,o=>{const u=Lr(o.path);return H.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Wc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Wc(e);let o=gt();return i.X({range:r,Y:!0},(u,f,g)=>{const _=Ss(u[1]),v=new De(_);o=o.add(v)}).next(()=>o)}containsKey(e,t){const r=Lr(t.path),i=IDBKeyRange.bound([r],[Ev(r)],!1,!0);let o=0;return Wc(e).X({index:"documentTargetsIndex",Y:!0,range:i},([u,f],g,_)=>{0!==u&&(o++,_.done())}).next(()=>o>0)}le(e,t){return ag(e).get(t).next(r=>r?Wv(r):null)}}function ag(n){return Sn(n,"targets")}function cH(n){return Sn(n,"targetGlobal")}function Wc(n){return Sn(n,"targetDocuments")}function uH([n,e],[t,r]){const i=ot(n,t);return 0===i?ot(e,r):i}class K9{constructor(e){this.Ln=e,this.buffer=new un(uH),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uH(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dH{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,I.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ya(r)?oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield no(r)}yield t.Qn(3e5)}))}}class Q9{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return H.resolve(Ri.ct);const r=new K9(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(sH)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sH):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,o,u,f,g,_;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),i=this.params.maximumSequenceNumbersToCollect):i=w,u=Date.now(),this.nthSequenceNumber(e,i))).next(w=>(r=w,f=Date.now(),this.removeTargets(e,r,t))).next(w=>(o=w,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(_=Date.now(),vv()<=Kn.in.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-v}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${o} targets in `+(g-f)+`ms\n\tRemoved ${w} documents in `+(_-g)+`ms\nTotal Duration: ${_-v}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:w})))}}class Y9{constructor(e,t){this.db=e,this.garbageCollector=function hH(n,e){return new Q9(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return NI(e,r)}removeReference(e,t,r){return NI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return NI(e,t)}Xn(e,t){return function(r,i){let o=!1;return lH(r).Z(u=>aH(r,u,i).next(f=>(f&&(o=!0),H.resolve(!f)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Yn(e,(u,f)=>{if(f<=t){const g=this.Xn(e,u).next(_=>{if(!_)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,$e.min()),Wc(e).delete([0,Lr(u.path)])))});i.push(g)}}).next(()=>H.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return NI(e,t)}Yn(e,t){const r=Wc(e);let i,o=Ri.ct;return r.X({index:"documentTargetsIndex"},([u,f],{path:g,sequenceNumber:_})=>{0===u?(o!==Ri.ct&&t(new De(Ss(i)),o),o=_,i=g):o=Ri.ct}).next(()=>{o!==Ri.ct&&t(new De(Ss(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function NI(n,e){return Wc(n).put((r=n.currentSequenceNumber,{targetId:0,path:Lr(e.path),sequenceNumber:r}));var r}class fH{constructor(){this.changes=new tl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class J9{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Jd(e).put(r)}removeEntry(e,t,r){return Jd(e).delete(function(i,o){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],SI(o),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=dn.newInvalidDocument(t);return Jd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Yv(t))},(i,o)=>{r=this.ts(t,o)}).next(()=>r)}es(e,t){let r={size:0,document:dn.newInvalidDocument(t)};return Jd(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Yv(t))},(i,o)=>{r={document:this.ts(t,o),size:xI(o)}}).next(()=>r)}getEntries(e,t){let r=Li();return this.ns(e,t,(i,o)=>{const u=this.ts(i,o);r=r.insert(i,u)}).next(()=>r)}ss(e,t){let r=Li(),i=new nn(De.comparator);return this.ns(e,t,(o,u)=>{const f=this.ts(o,u);r=r.insert(o,f),i=i.insert(o,xI(u))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return H.resolve();let i=new un(_H);t.forEach(g=>i=i.add(g));const o=IDBKeyRange.bound(Yv(i.first()),Yv(i.last())),u=i.getIterator();let f=u.getNext();return Jd(e).X({index:"documentKeyIndex",range:o},(g,_,v)=>{const w=De.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;f&&_H(f,w)<0;)r(f,null),f=u.getNext();f&&f.isEqual(w)&&(r(f,_),f=u.hasNext()?u.getNext():null),f?v.G(Yv(f)):v.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const o=t.path,u=[o.popLast().toArray(),o.lastSegment(),SI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jd(e).j(IDBKeyRange.bound(u,f,!0)).next(g=>{let _=Li();for(const v of g){const w=this.ts(De.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);w.isFoundDocument()&&(Rv(t,w)||i.has(w.key))&&(_=_.insert(w.key,w))}return _})}getAllFromCollectionGroup(e,t,r,i){let o=Li();const u=mH(t,r),f=mH(t,gi.max());return Jd(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(g,_,v)=>{const w=this.ts(De.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);o=o.insert(w.key,w),o.size===i&&v.done()}).next(()=>o)}newChangeBuffer(e){return new X9(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return gH(e).get("remoteDocumentGlobalKey").next(t=>(ze(!!t),t))}Zn(e,t){return gH(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function V9(n,e){let t;if(e.document)t=BU(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=De.fromSegments(e.noDocument.path),i=qd(e.noDocument.readTime);t=dn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Fe();{const r=De.fromSegments(e.unknownDocument.path),i=qd(e.unknownDocument.version);t=dn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new qt(r[0],r[1]);return $e.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual($e.min()))return r}return dn.newInvalidDocument(e)}}function pH(n){return new J9(n)}class X9 extends fH{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new tl(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new un((o,u)=>ot(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const f=this.us.get(o);if(t.push(this.os.removeEntry(e,o,f.readTime)),u.isValidDocument()){const g=WU(this.os.serializer,u);i=i.add(o.path.popLast());const _=xI(g);r+=_-f.size,t.push(this.os.addEntry(e,o,g))}else if(r-=f.size,this.trackRemovals){const g=WU(this.os.serializer,u.convertToNoDocument($e.min()));t.push(this.os.addEntry(e,o,g))}}),i.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,r)),H.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((o,u)=>{this.us.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function gH(n){return Sn(n,"remoteDocumentGlobal")}function Jd(n){return Sn(n,"remoteDocumentsV14")}function Yv(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mH(n,e){const t=e.documentKey.path.toArray();return[n,SI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function _H(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=ot(t[o],r[o]),i)return i;return i=ot(t.length,r.length),i||(i=ot(t[t.length-2],r[r.length-2]),i||ot(t[t.length-1],r[r.length-1]))}class ej{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yH{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Bv(r.mutation,i,Fi.empty(),qt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=gt()){const i=Fo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=Fv();return o.forEach((f,g)=>{u=u.insert(f,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Fo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,gt()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,i){let o=Li();const u=Lv(),f=Lv();return t.forEach((g,_)=>{const v=r.get(_.key);i.has(_.key)&&(void 0===v||v.mutation instanceof nl)?o=o.insert(_.key,_):void 0!==v?(u.set(_.key,v.mutation.getFieldMask()),Bv(v.mutation,_,v.mutation.getFieldMask(),qt.now())):u.set(_.key,Fi.empty())}),this.recalculateAndSaveOverlays(e,o).next(g=>(g.forEach((_,v)=>u.set(_,v)),t.forEach((_,v)=>{var w;return f.set(_,new ej(v,null!==(w=u.get(_))&&void 0!==w?w:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Lv();let i=new nn((u,f)=>u-f),o=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(g=>{const _=t.get(g);if(null===_)return;let v=r.get(g)||Fi.empty();v=f.applyToLocalView(_,v),r.set(g,v);const w=(i.get(f.batchId)||gt()).add(g);i=i.insert(f.batchId,w)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),_=g.key,v=g.value,w=uU();v.forEach(E=>{if(!o.has(E)){const A=vU(t.get(E),r.get(E));null!==A&&w.set(E,A),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,_,w))}return H.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return De.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Mx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):H.resolve(Fo());let f=-1,g=o;return u.next(_=>H.forEach(_,(v,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),o.get(v)?H.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{g=g.insert(v,E)}))).next(()=>this.populateOverlays(e,_,o)).next(()=>this.computeViews(e,g,_,gt())).next(v=>({batchId:f,changes:cU(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next(r=>{let i=Fv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=Fv();return this.indexManager.getCollectionParents(e,i).next(u=>H.forEach(u,f=>{const g=(_=t,v=f.child(i),new el(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,v;return this.getDocumentsMatchingCollectionQuery(e,g,r).next(_=>{_.forEach((v,w)=>{o=o.insert(v,w)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((f,g)=>{const _=g.getKey();null===o.get(_)&&(o=o.insert(_,dn.newInvalidDocument(_)))});let u=Fv();return o.forEach((f,g)=>{const _=i.get(f);void 0!==_&&Bv(_.mutation,g,Fi.empty(),qt.now()),Rv(t,g)&&(u=u.insert(f,g))}),u})}}class tj{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return H.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:$n(r.createTime)}),H.resolve()}getNamedQuery(e,t){return H.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:jx(r.bundledQuery),readTime:$n(r.readTime)}),H.resolve();var r}}class nj{constructor(){this.overlays=new nn(De.comparator),this.ls=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fo();return H.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.we(e,t,o)}),H.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){const i=Fo(),o=t.length+1,u=new De(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===o&&g.largestBatchId>r&&i.set(g.getKey(),g)}return H.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new nn((_,v)=>_-v);const u=this.overlays.getIterator();for(;u.hasNext();){const _=u.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>r){let v=o.get(_.largestBatchId);null===v&&(v=Fo(),o=o.insert(_.largestBatchId,v)),v.set(_.getKey(),_)}}const f=Fo(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,v)=>f.set(_,v)),!(f.size()>=i)););return H.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Fx(t,r));let o=this.ls.get(t);void 0===o&&(o=gt(),this.ls.set(t,o)),this.ls.set(t,o.add(r.key))}}class Yx{constructor(){this.fs=new un(Cr.ds),this.ws=new un(Cr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Cr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Cr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new De(new Pt([])),r=new Cr(t,e),i=new Cr(t,e+1),o=[];return this.ws.forEachInRange([r,i],u=>{this.ys(u),o.push(u.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new De(new Pt([])),r=new Cr(t,e),i=new Cr(t,e+1);let o=gt();return this.ws.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Cr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Cr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return De.comparator(e.key,t.key)||ot(e.As,t.As)}static _s(e,t){return ot(e.As,t.As)||De.comparator(e.key,t.key)}}class rj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new un(Cr.ds)}checkEmpty(e){return H.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.vs;this.vs++;const u=new kx(o,t,r,i);this.mutationQueue.push(u);for(const f of i)this.Rs=this.Rs.add(new Cr(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return H.resolve(u)}lookupMutationBatch(e,t){return H.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),o=i<0?0:i;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Cr(t,0),i=new Cr(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],u=>{const f=this.Ps(u.As);o.push(f)}),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new un(ot);return t.forEach(i=>{const o=new Cr(i,0),u=new Cr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,u],f=>{r=r.add(f.As)})}),H.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;De.isDocumentKey(o)||(o=o.child(""));const u=new Cr(new De(o),0);let f=new un(ot);return this.Rs.forEachWhile(g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===i&&(f=f.add(g.As)),!0)},u),H.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ze(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return H.forEach(t.mutations,i=>{const o=new Cr(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Cr(t,0),i=this.Rs.firstAfterOrEqual(r);return H.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return H.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ij{constructor(e){this.Ds=e,this.docs=new nn(De.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let r=Li();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Li();const u=t.path,f=new De(u.child("")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:_,value:{document:v}}=g.getNext();if(!u.isPrefixOf(_.path))break;_.path.length>u.length+1||Vd(Dv(v),r)<=0||(i.has(v.key)||Rv(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Fe()}Cs(e,t){return H.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sj(this)}getSize(e){return H.resolve(this.size)}}class sj extends fH{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),H.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class oj{constructor(e){this.persistence=e,this.xs=new tl(t=>Gd(t),Nv),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Yx,this.targetCount=0,this.Ms=Yd.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),H.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Yd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.Fn(t),H.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.xs.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),H.waitFor(o).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),H.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),H.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.ks.containsKey(t))}}class Jx{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ri(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new oj(this),this.indexManager=new W9,this.remoteDocumentCache=new ij(r=>this.referenceDelegate.Ls(r)),this.serializer=new $U(t),this.qs=new tj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new rj(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){oe("MemoryPersistence","Starting transaction:",e);const i=new aj(this.Os.next());return this.referenceDelegate.Us(),r(i).next(o=>this.referenceDelegate.Ks(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gs(e,t){return H.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class aj extends lI{constructor(e){super(),this.currentSequenceNumber=e}}class kI{constructor(e){this.persistence=e,this.Qs=new Yx,this.js=null}static zs(e){return new kI(e)}get Ws(){if(this.js)return this.js;throw Fe()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),H.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Ws.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Ws,r=>{const i=De.fromPath(r);return this.Hs(e,i).next(o=>{o||t.removeEntry(i,$e.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return H.or([()=>H.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class lj{constructor(e){this.serializer=e}O(e,t,r,i){const o=new qp("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wx,{unique:!0}),f.createObjectStore("documentMutations"),vH(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=H.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),vH(e)),u=u.next(()=>function(f){const g=f.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:$e.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",_)}(o))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,g){return g.store("mutations").j().next(_=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wx,{unique:!0});const v=g.store("mutations"),w=_.map(E=>v.put(E));return H.waitFor(w)})}(e,o))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Ys(o))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),r<7&&i>=7&&(u=u.next(()=>this.Zs(o))),r<8&&i>=8&&(u=u.next(()=>this.ti(e,o))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.ei(o))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:J});g.createIndex("collectionPathOverlayIndex",ae,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",Se,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:d});g.createIndex("documentKeyIndex",h),g.createIndex("collectionGroupIndex",p)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.si(e,o))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:T}).createIndex("sequenceNumberIndex",S,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:O}).createIndex("documentKeyIndex",L,{unique:!1})}(e))),u}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=xI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>H.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",u).next(f=>H.forEach(f,g=>{ze(g.userId===o.userId);const _=Zd(this.serializer,g);return oH(e,o.userId,_).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.X((u,f)=>{const g=new Pt(u),_=[0,Lr(g)];o.push(t.get(_).next(v=>v?H.resolve():t.put({targetId:0,path:Lr(g),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>H.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:C});const r=t.store("collectionParents"),i=new Qx,o=u=>{if(i.add(u)){const f=u.lastSegment(),g=u.popLast();return r.put({collectionId:f,parent:Lr(g)})}};return t.store("remoteDocuments").X({Y:!0},(u,f)=>{const g=new Pt(u);return o(g.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,f,g],_)=>{const v=Ss(f);return o(v.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const o=Wv(i),u=qU(this.serializer,o);return t.put(u)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((o,u)=>{const f=t.store("remoteDocumentsV14"),g=(_=u,_.document?new De(Pt.fromString(_.document.name).popFirst(5)):_.noDocument?De.fromSegments(_.noDocument.path):_.unknownDocument?De.fromSegments(_.unknownDocument.path):Fe()).path.toArray();var _;const v={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(v))}).next(()=>H.waitFor(i))}si(e,t){const r=t.store("mutations"),i=pH(this.serializer),o=new Jx(kI.zs,this.serializer.fe);return r.j().next(u=>{const f=new Map;return u.forEach(g=>{var _;let v=null!==(_=f.get(g.userId))&&void 0!==_?_:gt();Zd(this.serializer,g).keys().forEach(w=>v=v.add(w)),f.set(g.userId,v)}),H.forEach(f,(g,_)=>{const v=new Jn(_),w=AI.de(this.serializer,v),E=o.getIndexManager(v),A=OI.de(v,this.serializer,E,o.referenceDelegate);return new yH(i,A,w,E).recalculateAndSaveOverlaysForDocumentKeys(new er(t,Ri.ct),g).next()})})}}function vH(n){n.createObjectStore("targetDocuments",{keyPath:y}).createIndex("documentTargetsIndex",b,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",m,{unique:!0}),n.createObjectStore("targetGlobal")}const Xx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class eO{constructor(e,t,r,i,o,u,f,g,_,v,w=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=o,this.window=u,this.document=f,this.ri=_,this.oi=v,this.ui=w,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=E=>Promise.resolve(),!eO.D())throw new re(j.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Y9(this,i),this.di=t+"main",this.serializer=new $U(g),this.wi=new Jr(this.di,this.ui,new lj(this.serializer)),this.Bs=new Z9(this.referenceDelegate,this.serializer),this.remoteDocumentCache=pH(this.serializer),this.qs=new B9,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===v&&gn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(j.FAILED_PRECONDITION,Xx);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ri(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,I.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,I.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,I.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>FI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ya(e))return oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Jv(e).get("owner").next(t=>H.resolve(this.Ri(t)))}Pi(e){return FI(e).delete(this.clientId)}bi(){var e=this;return(0,I.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Sn(r,"clientMetadata");return i.j().next(o=>{const u=e.Si(o,18e5),f=o.filter(g=>-1===u.indexOf(g));return H.forEach(f,g=>i.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?H.resolve(!0):Jv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new re(j.FAILED_PRECONDITION,Xx);return!1}}return!(!this.networkEnabled||!this.inForeground)||FI(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,I.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new er(t,Ri.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>FI(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return OI.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new q9(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return AI.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){oe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=15===(u=this.ui)?Tt:14===u?_t:13===u?lt:12===u?ee:11===u?Ve:void Fe();var u;let f;return this.wi.runTransaction(e,i,o,g=>(f=new er(g,this.Os?this.Os.next():Ri.ct),"readwrite-primary"===t?this.Ti(f).next(_=>!!_||this.Ei(f)).next(_=>{if(!_)throw gn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new re(j.FAILED_PRECONDITION,aI);return r(f)}).next(_=>this.vi(f).next(()=>_)):this.Oi(f).next(()=>r(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Oi(e){return Jv(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new re(j.FAILED_PRECONDITION,Xx)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jv(e).put("owner",t)}static D(){return Jr.D()}Ai(e){const t=Jv(e);return t.get("owner").next(r=>this.Ri(r)?(oe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):H.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(gn(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,D.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return oe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){gn("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Jv(n){return Sn(n,"owner")}function FI(n){return Sn(n,"clientMetadata")}function tO(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nO{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=gt(),i=gt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new nO(e,t.fromCache,r,i)}}class bH{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(o=>o||this.Gi(e,t,i,r)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(iU(t))return H.resolve(null);let r=mi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=bI(t,null,"F"),r=mi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=gt(...o);return this.Ui.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(g=>{const _=this.ji(t,f);return this.zi(t,_,u,g.readTime)?this.Ki(e,bI(t,null,"F")):this.Wi(e,_,t,g)}))})))}Gi(e,t,r,i){return iU(t)||i.isEqual($e.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(o=>{const u=this.ji(t,o);return this.zi(t,u,r,i)?this.Qi(e,t):(vv()<=Kn.in.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xx(t)),this.Wi(e,u,t,Av(i,-1)))})}ji(e,t){let r=new un(aU(e));return t.forEach((i,o)=>{Rv(e,o)&&(r=r.add(o))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Qi(e,t){return vv()<=Kn.in.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",xx(t)),this.Ui.getDocumentsMatchingQuery(e,t,gi.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}class cj{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new nn(ot),this.Yi=new tl(o=>Gd(o),Nv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yH(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function wH(n,e,t,r){return new cj(n,e,t,r)}function CH(n,e){return rO.apply(this,arguments)}function rO(){return rO=(0,I.Z)(function*(n,e){const t=Ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],f=[];let g=gt();for(const _ of i){u.push(_.batchId);for(const v of _.mutations)g=g.add(v.key)}for(const _ of o){f.push(_.batchId);for(const v of _.mutations)g=g.add(v.key)}return t.localDocuments.getDocuments(r,g).next(_=>({er:_,removedBatchIds:u,addedBatchIds:f}))})})}),rO.apply(this,arguments)}function TH(n){const e=Ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function EH(n,e,t){let r=gt(),i=gt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Li();return t.forEach((f,g)=>{const _=o.get(f);g.isFoundDocument()!==_.isFoundDocument()&&(i=i.add(f)),g.isNoDocument()&&g.version.isEqual($e.min())?(e.removeEntry(f,g.readTime),u=u.insert(f,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||0===g.version.compareTo(_.version)&&_.hasPendingWrites?(e.addEntry(g),u=u.insert(f,g)):oe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",_.version," Watch version:",g.version)}),{nr:u,sr:i}})}function hj(n,e){const t=Ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lg(n,e){const t=Ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(o=>o?(i=o,H.resolve(i)):t.Bs.allocateTargetId(r).next(u=>(i=new rl(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function cg(n,e,t){return iO.apply(this,arguments)}function iO(){return iO=(0,I.Z)(function*(n,e,t){const r=Ie(n),i=r.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Ya(u))throw u;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),iO.apply(this,arguments)}function LI(n,e,t){const r=Ie(n);let i=$e.min(),o=gt();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,g,_){const v=Ie(f),w=v.Yi.get(_);return void 0!==w?H.resolve(v.Ji.get(w)):v.Bs.getTargetData(g,_)}(r,u,mi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(u,f.targetId).next(g=>{o=g})}).next(()=>r.Hi.getDocumentsMatchingQuery(u,e,t?i:$e.min(),t?o:gt())).next(f=>(AH(r,oU(e),f),{documents:f,ir:o})))}function IH(n,e){const t=Ie(n),r=Ie(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.le(o,e).next(u=>u?u.target:null))}function SH(n,e){const t=Ie(n),r=t.Xi.get(e)||$e.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,Av(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(AH(t,e,i),i))}function AH(n,e,t){let r=n.Xi.get(e)||$e.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Xi.set(e,r)}function sO(){return sO=(0,I.Z)(function*(n,e,t,r){const i=Ie(n);let o=gt(),u=Li();for(const _ of t){const v=e.rr(_.metadata.name);_.document&&(o=o.add(v));const w=e.ur(_);w.setReadTime(e.cr(_.metadata.readTime)),u=u.insert(v,w)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),g=yield lg(i,(_=r,mi(Xp(Pt.fromString(`__bundle__/docs/${_}`)))));var _;return i.persistence.runTransaction("Apply bundle documents","readwrite",_=>EH(_,f,u).next(v=>(f.apply(_),v)).next(v=>i.Bs.removeMatchingKeysForTargetId(_,g.targetId).next(()=>i.Bs.addMatchingKeys(_,o,g.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(_,v.nr,v.sr)).next(()=>v.nr)))}),sO.apply(this,arguments)}function pj(n,e){return oO.apply(this,arguments)}function oO(){return oO=(0,I.Z)(function*(n,e,t=gt()){const r=yield lg(n,mi(jx(e.bundledQuery))),i=Ie(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=$n(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.qs.saveNamedQuery(o,e);const f=r.withResumeToken(ar.EMPTY_BYTE_STRING,u);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(o,f).next(()=>i.Bs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Bs.addMatchingKeys(o,t,r.targetId)).next(()=>i.qs.saveNamedQuery(o,e))})}),oO.apply(this,arguments)}function DH(n,e){return`firestore_clients_${n}_${e}`}function MH(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function aO(n,e){return`firestore_targets_${n}_${e}`}class VI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let o,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(o=new re(i.error.code,i.error.message))),u?new VI(e,t,i.state,o):(gn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xv{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new re(r.error.code,r.error.message))),o?new Xv(e,r.state,i):(gn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class BI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ox();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=vx(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new BI(e,o):(gn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class lO{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new lO(t.clientId,t.onlineState):(gn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class cO{constructor(){this.activeTargetIds=Ox()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uO{constructor(e,t,r,i,o){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new nn(ot),this.started=!1,this.yr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=DH(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new cO),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,I.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const o=e.getItem(DH(e.persistenceKey,i));if(o){const u=BI.ar(i,o);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(aO(this.persistenceKey,e));if(r){const i=Xv.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(aO(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return oe("SharedClientState","READ",e,t),t}setItem(e,t){oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(oe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,I.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(o){let u=Ri.ct;if(null!=o)try{const f=JSON.parse(o);ze("number"==typeof f),u=f}catch(f){gn("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==Ri.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.Qr(o)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new VI(this.currentUser,e,t,r),o=MH(this.persistenceKey,this.currentUser,e);this.setItem(o,i.hr())}Cr(e){const t=MH(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=aO(this.persistenceKey,e),o=new Xv(e,t,r);this.setItem(i,o.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return BI.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return VI.ar(new Jn(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return Xv.ar(i,t)}br(e){return lO.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,I.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),o=this.Sr(r),u=[],f=[];return o.forEach(g=>{i.has(g)||u.push(g)}),i.forEach(g=>{o.has(g)||f.push(g)}),this.syncEngine.Wr(u,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Ox();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class PH{constructor(){this.Hr=new cO,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new cO,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gj{Yr(e){}shutdown(){}}class xH{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let UI=null;function dO(){return null===UI?UI=268435456+Math.round(2147483648*Math.random()):UI++,"0x"+UI.toString(16)}const mj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _j{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ei="WebChannelConnection";class yj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,o){const u=dO(),f=this.To(e,t);oe("RestConnection",`Sending RPC '${e}' ${u}:`,f,r);const g={};return this.Eo(g,i,o),this.Ao(e,f,g,r).then(_=>(oe("RestConnection",`Received RPC '${e}' ${u}: `,_),_),_=>{throw Yr("RestConnection",`RPC '${e}' ${u} failed with error: `,_,"url: ",f,"request:",r),_})}vo(e,t,r,i,o,u){return this.Io(e,t,r,i,o)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+to,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}To(e,t){return`${this.mo}/v1/${t}:${mj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const o=dO();return new Promise((u,f)=>{const g=new AB;g.setWithCredentials(!0),g.listenOnce(tI.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case eI.NO_ERROR:const v=g.getResponseJson();oe(ei,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(v)),u(v);break;case eI.TIMEOUT:oe(ei,`RPC '${e}' ${o} timed out`),f(new re(j.DEADLINE_EXCEEDED,"Request time out"));break;case eI.HTTP_ERROR:const w=g.getStatus();if(oe(ei,`RPC '${e}' ${o} failed with status:`,w,"response text:",g.getResponseText()),w>0){let E=g.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E?.error;if(A&&A.status&&A.message){const k=function(z){const Z=z.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(Z)>=0?Z:j.UNKNOWN}(A.status);f(new re(k,A.message))}else f(new re(j.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new re(j.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{oe(ei,`RPC '${e}' ${o} completed.`)}});const _=JSON.stringify(i);oe(ei,`RPC '${e}' ${o} sending request:`,i),g.send(t,"POST",_,r,15)})}Ro(e,t,r){const i=dO(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=IB(),f=SB(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;void 0!==_&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.xmlHttpFactory=new ux({})),this.Eo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const v=o.join("");oe(ei,`Creating RPC '${e}' stream ${i}: ${v}`,g);const w=u.createWebChannel(v,g);let E=!1,A=!1;const k=new _j({ro:Z=>{A?oe(ei,`Not sending because RPC '${e}' stream ${i} is closed:`,Z):(E||(oe(ei,`Opening RPC '${e}' stream ${i} transport.`),w.open(),E=!0),oe(ei,`RPC '${e}' stream ${i} sending:`,Z),w.send(Z))},oo:()=>w.close()}),z=(Z,Te,He)=>{Z.listen(Te,Ne=>{try{He(Ne)}catch(Et){setTimeout(()=>{throw Et},0)}})};return z(w,yv.EventType.OPEN,()=>{A||oe(ei,`RPC '${e}' stream ${i} transport opened.`)}),z(w,yv.EventType.CLOSE,()=>{A||(A=!0,oe(ei,`RPC '${e}' stream ${i} transport closed`),k.wo())}),z(w,yv.EventType.ERROR,Z=>{A||(A=!0,Yr(ei,`RPC '${e}' stream ${i} transport errored:`,Z),k.wo(new re(j.UNAVAILABLE,"The operation could not be completed")))}),z(w,yv.EventType.MESSAGE,Z=>{var Te;if(!A){const He=Z.data[0];ze(!!He);const Et=He.error||(null===(Te=He[0])||void 0===Te?void 0:Te.error);if(Et){oe(ei,`RPC '${e}' stream ${i} received error:`,Et);const Ot=Et.status;let Ht=function(ml){const Gg=tr[ml];if(void 0!==Gg)return IU(Gg)}(Ot),zr=Et.message;void 0===Ht&&(Ht=j.INTERNAL,zr="Unknown error status: "+Ot+" with message "+Et.message),A=!0,k.wo(new re(Ht,zr)),w.close()}else oe(ei,`RPC '${e}' stream ${i} received:`,He),k._o(He)}}),z(f,cx.STAT_EVENT,Z=>{Z.stat===nI.PROXY?oe(ei,`RPC '${e}' stream ${i} detected buffering proxy`):Z.stat===nI.NOPROXY&&oe(ei,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.fo()},0),k}}function OH(){return typeof window<"u"?window:null}function HI(){return typeof document<"u"?document:null}function e0(n){return new D9(n,!0)}class hO{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class NH{constructor(e,t,r,i,o,u,f,g){this.ii=e,this.$o=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new hO(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,I.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,I.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,I.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(gn(t.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===j.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new re(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,I.Z)(function*(){e.state=0,e.start()}))}tu(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vj extends NH{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function x9(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:Fe(),i=e.targetChange.targetIds||[],o=function(g,_){return g.useProto3Json?(ze(void 0===_||"string"==typeof _),ar.fromBase64String(_||"")):(ze(void 0===_||_ instanceof Uint8Array),ar.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const _=void 0===g.code?j.UNKNOWN:IU(g.code);return new re(_,g.message||"")}(u);t=new PU(r,i,o,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Lo(n,r.document.name),o=$n(r.document.updateTime),u=r.document.createTime?$n(r.document.createTime):$e.min(),f=new Br({mapValue:{fields:r.document.fields}}),g=dn.newFoundDocument(i,o,u,f);t=new II(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=Lo(n,r.document),o=r.readTime?$n(r.readTime):$e.min(),u=dn.newNoDocument(i,o);t=new II([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Lo(n,r.document);t=new II([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Fe();{const r=e.filter,{count:i=0,unchangedNames:o}=r,u=new C9(i,o);t=new MU(r.targetId,u)}}var g;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return $e.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?$e.min():o.readTime?$n(o.readTime):$e.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=jv(this.serializer),t.addTarget=function(i,o){let u;const f=o.target;if(u=_I(f)?{documents:UU(i,f)}:{query:zx(i,f)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=kU(i,o.resumeToken);const g=Bx(i,o.expectedCount);null!==g&&(u.expectedCount=g)}else if(o.snapshotVersion.compareTo($e.min())>0){u.readTime=ig(i,o.snapshotVersion.toTimestamp());const g=Bx(i,o.expectedCount);null!==g&&(u.expectedCount=g)}return u}(this.serializer,e);const r=function N9(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=jv(this.serializer),t.removeTarget=e,this.Wo(t)}}class bj extends NH{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function O9(n,e){return n&&n.length>0?(ze(void 0!==e),n.map(t=>function(r,i){let o=$n(r.updateTime?r.updateTime:i);return o.isEqual($e.min())&&(o=$n(i)),new y9(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=$n(e.commitTime);return this.listener.cu(r,t)}return ze(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=jv(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>$v(this.serializer,r))};this.Wo(t)}}class wj extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new re(j.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Io(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(j.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.vo(e,t,r,o,u,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(j.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class Tj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gn(t),this.mu=!1):oe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Ej{constructor(e,t,r,i,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(f=>{r.enqueueAndForget((0,I.Z)(function*(){var g;qc(u)&&(oe("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,I.Z)(function*(_){const v=Ie(_);v.vu.add(4),yield ug(v),v.bu.set("Unknown"),v.vu.delete(4),yield t0(v)}),function(_){return g.apply(this,arguments)})(u))}))}),this.bu=new Tj(r,i)}}function t0(n){return pO.apply(this,arguments)}function pO(){return pO=(0,I.Z)(function*(n){if(qc(n))for(const e of n.Ru)yield e(!0)}),pO.apply(this,arguments)}function ug(n){return gO.apply(this,arguments)}function gO(){return gO=(0,I.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),gO.apply(this,arguments)}function GI(n,e){const t=Ie(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),yO(t)?_O(t):hg(t).Ko()&&mO(t,e))}function n0(n,e){const t=Ie(n),r=hg(t);t.Au.delete(e),r.Ko()&&kH(t,e),0===t.Au.size&&(r.Ko()?r.jo():qc(t)&&t.bu.set("Unknown"))}function mO(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}hg(n).su(e)}function kH(n,e){n.Vu.qt(e),hg(n).iu(e)}function _O(n){n.Vu=new E9({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),hg(n).start(),n.bu.gu()}function yO(n){return qc(n)&&!hg(n).Uo()&&n.Au.size>0}function qc(n){return 0===Ie(n).vu.size}function RH(n){n.Vu=void 0}function Ij(n){return vO.apply(this,arguments)}function vO(){return vO=(0,I.Z)(function*(n){n.Au.forEach((e,t)=>{mO(n,e)})}),vO.apply(this,arguments)}function Sj(n,e){return bO.apply(this,arguments)}function bO(){return bO=(0,I.Z)(function*(n,e){RH(n),yO(n)?(n.bu.Iu(e),_O(n)):n.bu.set("Unknown")}),bO.apply(this,arguments)}function Aj(n,e,t){return wO.apply(this,arguments)}function wO(){return wO=(0,I.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof PU&&2===e.state&&e.cause)try{yield(r=(0,I.Z)(function*(i,o){const u=o.cause;for(const f of o.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield zI(n,r)}else if(e instanceof II?n.Vu.Ht(e):e instanceof MU?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual($e.min()))try{const r=yield TH(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const u=i.Vu.ce(o);return u.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const _=i.Au.get(g);_&&i.Au.set(g,_.withResumeToken(f.resumeToken,o))}}),u.targetMismatches.forEach((f,g)=>{const _=i.Au.get(f);if(!_)return;i.Au.set(f,_.withResumeToken(ar.EMPTY_BYTE_STRING,_.snapshotVersion)),kH(i,f);const v=new rl(_.target,f,g,_.sequenceNumber);mO(i,v)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),yield zI(n,r)}var r}),wO.apply(this,arguments)}function zI(n,e,t){return CO.apply(this,arguments)}function CO(){return CO=(0,I.Z)(function*(n,e,t){if(!Ya(e))throw e;n.vu.add(1),yield ug(n),n.bu.set("Offline"),t||(t=()=>TH(n.localStore)),n.asyncQueue.enqueueRetryable((0,I.Z)(function*(){oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield t0(n)}))}),CO.apply(this,arguments)}function FH(n,e){return e().catch(t=>zI(n,t,e))}function dg(n){return TO.apply(this,arguments)}function TO(){return TO=(0,I.Z)(function*(n){const e=Ie(n),t=Zc(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Dj(e);)try{const i=yield hj(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,Mj(e,i)}catch(i){yield zI(e,i)}LH(e)&&VH(e)}),TO.apply(this,arguments)}function Dj(n){return qc(n)&&n.Eu.length<10}function Mj(n,e){n.Eu.push(e);const t=Zc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function LH(n){return qc(n)&&!Zc(n).Uo()&&n.Eu.length>0}function VH(n){Zc(n).start()}function Pj(n){return EO.apply(this,arguments)}function EO(){return EO=(0,I.Z)(function*(n){Zc(n).hu()}),EO.apply(this,arguments)}function xj(n){return IO.apply(this,arguments)}function IO(){return IO=(0,I.Z)(function*(n){const e=Zc(n);for(const t of n.Eu)e.uu(t.mutations)}),IO.apply(this,arguments)}function Oj(n,e,t){return SO.apply(this,arguments)}function SO(){return SO=(0,I.Z)(function*(n,e,t){const r=n.Eu.shift(),i=Rx.from(r,e,t);yield FH(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield dg(n)}),SO.apply(this,arguments)}function Nj(n,e){return AO.apply(this,arguments)}function AO(){return AO=(0,I.Z)(function*(n,e){var t;e&&Zc(n).ou&&(yield(t=(0,I.Z)(function*(r,i){if(EU(o=i.code)&&o!==j.ABORTED){const u=r.Eu.shift();Zc(r).Qo(),yield FH(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield dg(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),LH(n)&&VH(n)}),AO.apply(this,arguments)}function BH(n,e){return DO.apply(this,arguments)}function DO(){return DO=(0,I.Z)(function*(n,e){const t=Ie(n);t.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=qc(t);t.vu.add(3),yield ug(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield t0(t)}),DO.apply(this,arguments)}function MO(n,e){return PO.apply(this,arguments)}function PO(){return PO=(0,I.Z)(function*(n,e){const t=Ie(n);e?(t.vu.delete(2),yield t0(t)):e||(t.vu.add(2),yield ug(t),t.bu.set("Unknown"))}),PO.apply(this,arguments)}function hg(n){return n.Su||(n.Su=function(e,t,r){const i=Ie(e);return i.fu(),new vj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Ij.bind(null,n),ao:Sj.bind(null,n),nu:Aj.bind(null,n)}),n.Ru.push(function(){var e=(0,I.Z)(function*(t){t?(n.Su.Qo(),yO(n)?_O(n):n.bu.set("Unknown")):(yield n.Su.stop(),RH(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Zc(n){return n.Du||(n.Du=function(e,t,r){const i=Ie(e);return i.fu(),new bj(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:Pj.bind(null,n),ao:Nj.bind(null,n),au:xj.bind(null,n),cu:Oj.bind(null,n)}),n.Ru.push(function(){var e=(0,I.Z)(function*(t){t?(n.Du.Qo(),yield dg(n)):(yield n.Du.stop(),n.Eu.length>0&&(oe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class xO{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,f=new xO(e,t,u,i,o);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new re(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(n,e){if(gn("AsyncQueue",`${e}: ${n}`),Ya(n))return new re(j.UNAVAILABLE,`${e}: ${n}`);throw n}class pg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||De.comparator(t.key,r.key):(t,r)=>De.comparator(t.key,r.key),this.keyedMap=Fv(),this.sortedSet=new nn(this.comparator)}static emptySet(e){return new pg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new pg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class UH{constructor(){this.Cu=new nn(De.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Fe():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class gg{constructor(e,t,r,i,o,u,f,g,_){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new gg(e,t,pg.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class kj{constructor(){this.Nu=void 0,this.listeners=[]}}class Rj{constructor(){this.queries=new tl(e=>sU(e),kv),this.onlineState="Unknown",this.ku=new Set}}function OO(n,e){return NO.apply(this,arguments)}function NO(){return NO=(0,I.Z)(function*(n,e){const t=Ie(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new kj),i)try{o.Nu=yield t.onListen(r)}catch(u){const f=fg(u,`Initialization of query '${xx(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&FO(t)}),NO.apply(this,arguments)}function kO(n,e){return RO.apply(this,arguments)}function RO(){return RO=(0,I.Z)(function*(n,e){const t=Ie(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const u=o.listeners.indexOf(e);u>=0&&(o.listeners.splice(u,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),RO.apply(this,arguments)}function Fj(n,e){const t=Ie(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.$u(i)&&(r=!0);u.Nu=i}}r&&FO(t)}function Lj(n,e,t){const r=Ie(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function FO(n){n.ku.forEach(e=>{e.next()})}class LO{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new gg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=gg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Vj{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class HH{constructor(e){this.serializer=e}rr(e){return Lo(this.serializer,e)}ur(e){return e.metadata.exists?BU(this.serializer,e.document,!1):dn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return $n(e)}}class Bj{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=GH(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Pt.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new HH(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.rr(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||gt()).add(o);t.set(u,f)}}return t}complete(){var e=this;return(0,I.Z)(function*(){const t=yield function fj(n,e,t,r){return sO.apply(this,arguments)}(e.localStore,new HH(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield pj(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function GH(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class zH{constructor(e){this.key=e}}class jH{constructor(e){this.key=e}}class $H{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=gt(),this.mutatedKeys=gt(),this.tc=aU(e),this.ec=new pg(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new UH,i=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const g="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,_="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((v,w)=>{const E=i.get(v),A=Rv(this.query,w)?w:null,k=!!E&&this.mutatedKeys.has(E.key),z=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let Z=!1;E&&A?E.data.isEqual(A.data)?k!==z&&(r.track({type:3,doc:A}),Z=!0):this.rc(E,A)||(r.track({type:2,doc:A}),Z=!0,(g&&this.tc(A,g)>0||_&&this.tc(A,_)<0)&&(f=!0)):!E&&A?(r.track({type:0,doc:A}),Z=!0):E&&!A&&(r.track({type:1,doc:E}),Z=!0,(g||_)&&(f=!0)),Z&&(A?(u=u.add(A),o=z?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const v="F"===this.query.limitType?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{ec:u,ic:r,zi:f,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((_,v)=>function(w,E){const A=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return A(w)-A(E)}(_.type,v.type)||this.tc(_.doc,v.doc)),this.oc(r);const u=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,g=f!==this.Xu;return this.Xu=f,0!==o.length||g?{snapshot:new gg(this.query,e.ec,i,o,e.mutatedKeys,0===f,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new UH,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=gt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new jH(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new zH(r))}),t}hc(e){this.Yu=e.ir,this.Zu=gt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return gg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Uj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Hj{constructor(e){this.key=e,this.fc=!1}}class Gj{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new tl(f=>sU(f),kv),this._c=new Map,this.mc=new Set,this.gc=new nn(De.comparator),this.yc=new Map,this.Ic=new Yx,this.Tc={},this.Ec=new Map,this.Ac=Yd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function zj(n,e){return VO.apply(this,arguments)}function VO(){return VO=(0,I.Z)(function*(n,e){const t=aN(n);let r,i;const o=t.wc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const u=yield lg(t.localStore,mi(e)),f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield BO(t,e,r,"current"===f,u.resumeToken),t.isPrimaryClient&&GI(t.remoteStore,u)}return i}),VO.apply(this,arguments)}function BO(n,e,t,r,i){return UO.apply(this,arguments)}function UO(){return UO=(0,I.Z)(function*(n,e,t,r,i){n.Rc=(w,E,A)=>{return(k=(0,I.Z)(function*(z,Z,Te,He){let Ne=Z.view.sc(Te);Ne.zi&&(Ne=yield LI(z.localStore,Z.query,!1).then(({documents:Ht})=>Z.view.sc(Ht,Ne)));const Et=He&&He.targetChanges.get(Z.targetId),Ot=Z.view.applyChanges(Ne,z.isPrimaryClient,Et);return QO(z,Z.targetId,Ot.cc),Ot.snapshot}),function(z,Z,Te,He){return k.apply(this,arguments)})(n,w,E,A);var k};const o=yield LI(n.localStore,e,!0),u=new $H(e,o.ir),f=u.sc(o.documents),g=Gv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),_=u.applyChanges(f,n.isPrimaryClient,g);QO(n,t,_.cc);const v=new Uj(e,t,u);return n.wc.set(e,v),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),_.snapshot}),UO.apply(this,arguments)}function jj(n,e){return HO.apply(this,arguments)}function HO(){return HO=(0,I.Z)(function*(n,e){const t=Ie(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(o=>!kv(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),n0(t.remoteStore,r.targetId),mg(t,r.targetId)}).catch(no))):(mg(t,r.targetId),yield cg(t.localStore,r.targetId,!0))}),HO.apply(this,arguments)}function GO(){return GO=(0,I.Z)(function*(n,e,t){const r=lN(n);try{const i=yield function(o,u){const f=Ie(o),g=qt.now(),_=u.reduce((E,A)=>E.add(A.key),gt());let v,w;return f.persistence.runTransaction("Locally write mutations","readwrite",E=>{let A=Li(),k=gt();return f.Zi.getEntries(E,_).next(z=>{A=z,A.forEach((Z,Te)=>{Te.isValidDocument()||(k=k.add(Z))})}).next(()=>f.localDocuments.getOverlayedDocuments(E,A)).next(z=>{v=z;const Z=[];for(const Te of u){const He=b9(Te,v.get(Te.key).overlayedDocument);null!=He&&Z.push(new nl(Te.key,He,$B(He.value.mapValue),_n.exists(!0)))}return f.mutationQueue.addMutationBatch(E,g,Z,u)}).next(z=>{w=z;const Z=z.applyToLocalDocumentSet(v,k);return f.documentOverlayCache.saveOverlays(E,z.batchId,Z)})}).then(()=>({batchId:w.batchId,changes:cU(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,f){let g=o.Tc[o.currentUser.toKey()];g||(g=new nn(ot)),g=g.insert(u,f),o.Tc[o.currentUser.toKey()]=g}(r,i.batchId,t),yield il(r,i.changes),yield dg(r.remoteStore)}catch(i){const o=fg(i,"Failed to persist write");t.reject(o)}}),GO.apply(this,arguments)}function WH(n,e){return zO.apply(this,arguments)}function zO(){return zO=(0,I.Z)(function*(n,e){const t=Ie(n);try{const r=yield function dj(n,e){const t=Ie(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((v,w)=>{const E=i.get(w);if(!E)return;f.push(t.Bs.removeMatchingKeys(o,v.removedDocuments,w).next(()=>t.Bs.addMatchingKeys(o,v.addedDocuments,w)));let A=E.withSequenceNumber(o.currentSequenceNumber);var k,z,Z;null!==e.targetMismatches.get(w)?A=A.withResumeToken(ar.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):v.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(v.resumeToken,r)),i=i.insert(w,A),z=A,Z=v,(0===(k=E).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(o,A))});let g=Li(),_=gt();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))}),f.push(EH(o,u,e.documentUpdates).next(v=>{g=v.nr,_=v.sr})),!r.isEqual($e.min())){const v=t.Bs.getLastRemoteSnapshotVersion(o).next(w=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,r));f.push(v)}return H.waitFor(f).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,g,_)).next(()=>g)}).then(o=>(t.Ji=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.yc.get(o);u&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.fc=!0:i.modifiedDocuments.size>0?ze(u.fc):i.removedDocuments.size>0&&(ze(u.fc),u.fc=!1))}),yield il(t,r,e)}catch(r){yield no(r)}}),zO.apply(this,arguments)}function qH(n,e,t){const r=Ie(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((o,u)=>{const f=u.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(o,u){const f=Ie(o);f.onlineState=u;let g=!1;f.queries.forEach((_,v)=>{for(const w of v.listeners)w.Mu(u)&&(g=!0)}),g&&FO(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Wj(n,e,t){return jO.apply(this,arguments)}function jO(){return jO=(0,I.Z)(function*(n,e,t){const r=Ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),o=i&&i.key;if(o){let u=new nn(De.comparator);u=u.insert(o,dn.newNoDocument(o,$e.min()));const f=gt().add(o),g=new Hv($e.min(),new Map,new nn(ot),u,f);yield WH(r,g),r.gc=r.gc.remove(o),r.yc.delete(e),YO(r)}else yield cg(r.localStore,e,!1).then(()=>mg(r,e,t)).catch(no)}),jO.apply(this,arguments)}function qj(n,e){return $O.apply(this,arguments)}function $O(){return $O=(0,I.Z)(function*(n,e){const t=Ie(n),r=e.batch.batchId;try{const i=yield function uj(n,e){const t=Ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,f,g,_){const v=g.batch,w=v.keys();let E=H.resolve();return w.forEach(A=>{E=E.next(()=>_.getEntry(f,A)).next(k=>{const z=g.docVersions.get(A);ze(null!==z),k.version.compareTo(z)<0&&(v.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),_.addEntry(k)))})}),E.next(()=>u.mutationQueue.removeMutationBatch(f,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=gt();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(f=f.add(u.batch.mutations[g].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);KO(t,r,null),ZO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield il(t,i)}catch(i){yield no(i)}}),$O.apply(this,arguments)}function Zj(n,e,t){return WO.apply(this,arguments)}function WO(){return WO=(0,I.Z)(function*(n,e,t){const r=Ie(n);try{const i=yield function(o,u){const f=Ie(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return f.mutationQueue.lookupMutationBatch(g,u).next(v=>(ze(null!==v),_=v.keys(),f.mutationQueue.removeMutationBatch(g,v))).next(()=>f.mutationQueue.performConsistencyCheck(g)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(g,_,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>f.localDocuments.getDocuments(g,_))})}(r.localStore,e);KO(r,e,t),ZO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield il(r,i)}catch(i){yield no(i)}}),WO.apply(this,arguments)}function qO(){return qO=(0,I.Z)(function*(n,e){const t=Ie(n);qc(t.remoteStore)||oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const u=Ie(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=fg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),qO.apply(this,arguments)}function ZO(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function KO(n,e,t){const r=Ie(n);let i=r.Tc[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function mg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||ZH(n,r)})}function ZH(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(n0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),YO(n))}function QO(n,e,t){for(const r of t)r instanceof zH?(n.Ic.addReference(r.key,e),Qj(n,r)):r instanceof jH?(oe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||ZH(n,r.key)):Fe()}function Qj(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(oe("SyncEngine","New document in limbo: "+t),n.mc.add(r),YO(n))}function YO(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new De(Pt.fromString(e)),r=n.Ac.next();n.yc.set(r,new Hj(t)),n.gc=n.gc.insert(t,r),GI(n.remoteStore,new rl(mi(Xp(t.path)),r,"TargetPurposeLimboResolution",Ri.ct))}}function il(n,e,t){return JO.apply(this,arguments)}function JO(){return JO=(0,I.Z)(function*(n,e,t){const r=Ie(n),i=[],o=[],u=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,g)=>{u.push(r.Rc(g,e,t).then(_=>{if((_||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,_?.fromCache?"not-current":"current"),_){i.push(_);const v=nO.Li(g.targetId,_);o.push(v)}}))}),yield Promise.all(u),r.dc.nu(i),yield(f=(0,I.Z)(function*(g,_){const v=Ie(g);try{yield v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>H.forEach(_,E=>H.forEach(E.Fi,A=>v.persistence.referenceDelegate.addReference(w,E.targetId,A)).next(()=>H.forEach(E.Bi,A=>v.persistence.referenceDelegate.removeReference(w,E.targetId,A)))))}catch(w){if(!Ya(w))throw w;oe("LocalStore","Failed to update sequence numbers: "+w)}for(const w of _){const E=w.targetId;if(!w.fromCache){const A=v.Ji.get(E),z=A.withLastLimboFreeSnapshotVersion(A.snapshotVersion);v.Ji=v.Ji.insert(E,z)}}}),function(g,_){return f.apply(this,arguments)})(r.localStore,o))}),JO.apply(this,arguments)}function Yj(n,e){return XO.apply(this,arguments)}function XO(){return XO=(0,I.Z)(function*(n,e){const t=Ie(n);if(!t.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=yield CH(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(u=>{u.forEach(f=>{f.reject(new re(j.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield il(t,r.er)}var i}),XO.apply(this,arguments)}function Jj(n,e){const t=Ie(n),r=t.yc.get(e);if(r&&r.fc)return gt().add(r.key);{let i=gt();const o=t._c.get(e);if(!o)return i;for(const u of o){const f=t.wc.get(u);i=i.unionWith(f.view.nc)}return i}}function Xj(n,e){return eN.apply(this,arguments)}function eN(){return eN=(0,I.Z)(function*(n,e){const t=Ie(n),r=yield LI(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&QO(t,e.targetId,i.cc),i}),eN.apply(this,arguments)}function e8(n,e){return tN.apply(this,arguments)}function tN(){return tN=(0,I.Z)(function*(n,e){const t=Ie(n);return SH(t.localStore,e).then(r=>il(t,r))}),tN.apply(this,arguments)}function t8(n,e,t,r){return nN.apply(this,arguments)}function nN(){return nN=(0,I.Z)(function*(n,e,t,r){const i=Ie(n),o=yield function(u,f){const g=Ie(u),_=Ie(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",v=>_.Sn(v,f).next(w=>w?g.localDocuments.getDocuments(v,w):H.resolve(null)))}(i.localStore,e);var f;null!==o?("pending"===t?yield dg(i.remoteStore):"acknowledged"===t||"rejected"===t?(KO(i,e,r||null),ZO(i,e),f=e,Ie(Ie(i.localStore).mutationQueue).Cn(f)):Fe(),yield il(i,o)):oe("SyncEngine","Cannot apply mutation batch with id: "+e)}),nN.apply(this,arguments)}function rN(){return rN=(0,I.Z)(function*(n,e){const t=Ie(n);if(aN(t),lN(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield KH(t,r.toArray());t.vc=!0,yield MO(t.remoteStore,!0);for(const o of i)GI(t.remoteStore,o)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(mg(t,u),cg(t.localStore,u,!0))),n0(t.remoteStore,u)}),yield i,yield KH(t,r),function(o){const u=Ie(o);u.yc.forEach((f,g)=>{n0(u.remoteStore,g)}),u.Ic.Ts(),u.yc=new Map,u.gc=new nn(De.comparator)}(t),t.vc=!1,yield MO(t.remoteStore,!1)}}),rN.apply(this,arguments)}function KH(n,e,t){return iN.apply(this,arguments)}function iN(){return iN=(0,I.Z)(function*(n,e,t){const r=Ie(n),i=[],o=[];for(const u of e){let f;const g=r._c.get(u);if(g&&0!==g.length){f=yield lg(r.localStore,mi(g[0]));for(const _ of g){const v=r.wc.get(_),w=yield Xj(r,v);w.snapshot&&o.push(w.snapshot)}}else{const _=yield IH(r.localStore,u);f=yield lg(r.localStore,_),yield BO(r,QH(_),u,!1,f.resumeToken)}i.push(f)}return r.dc.nu(o),i}),iN.apply(this,arguments)}function QH(n){return rU(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function r8(n){const e=Ie(n);return Ie(Ie(e.localStore).persistence).$i()}function i8(n,e,t,r){return sN.apply(this,arguments)}function sN(){return sN=(0,I.Z)(function*(n,e,t,r){const i=Ie(n);if(i.vc)return void oe("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=yield SH(i.localStore,oU(o[0])),f=Hv.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ar.EMPTY_BYTE_STRING);yield il(i,u,f);break}case"rejected":yield cg(i.localStore,e,!0),mg(i,e,r);break;default:Fe()}}),sN.apply(this,arguments)}function s8(n,e,t){return oN.apply(this,arguments)}function oN(){return oN=(0,I.Z)(function*(n,e,t){const r=aN(n);if(r.vc){for(const i of e){if(r._c.has(i)){oe("SyncEngine","Adding an already active target "+i);continue}const o=yield IH(r.localStore,i),u=yield lg(r.localStore,o);yield BO(r,QH(o),u.targetId,!1,u.resumeToken),GI(r.remoteStore,u)}for(const i of t)r._c.has(i)&&(yield cg(r.localStore,i,!1).then(()=>{n0(r.remoteStore,i),mg(r,i)}).catch(no))}}),oN.apply(this,arguments)}function aN(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wj.bind(null,e),e.dc.nu=Fj.bind(null,e.eventManager),e.dc.Pc=Lj.bind(null,e.eventManager),e}function lN(n){const e=Ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zj.bind(null,e),e}class r0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,I.Z)(function*(){t.serializer=e0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return wH(this.persistence,new bH,e.initialUser,this.serializer)}createPersistence(e){return new Jx(kI.zs,this.serializer)}createSharedClientState(e){return new PH}terminate(){var e=this;return(0,I.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class cN extends r0{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,I.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield lN(r.Vc.syncEngine),yield dg(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return wH(this.persistence,new bH,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new dH(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new kB(t,this.persistence);return new NB(e.asyncQueue,r)}createPersistence(e){const t=tO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Xr.withCacheSize(this.cacheSizeBytes):Xr.DEFAULT;return new eO(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,OH(),HI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new PH}}class YH extends cN{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,I.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof uO&&(r.sharedClientState.syncEngine={jr:t8.bind(null,i),zr:i8.bind(null,i),Wr:s8.bind(null,i),$i:r8.bind(null,i),Qr:e8.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var o=(0,I.Z)(function*(u){yield function n8(n,e){return rN.apply(this,arguments)}(r.Vc.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=OH();if(!uO.D(t))throw new re(j.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=tO(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uO(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class _g{initialize(e,t){var r=this;return(0,I.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>qH(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Yj.bind(null,r.syncEngine),yield MO(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Rj}createDatastore(e){const t=e0(e.databaseInfo.databaseId),r=new yj(e.databaseInfo);return new wj(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=f=>qH(this.syncEngine,f,0),u=xH.D()?new xH:new gj,new Ej(t,r,i,o,u);var t,r,i,o,u}createSyncEngine(e,t){return function(r,i,o,u,f,g,_){const v=new Gj(r,i,o,u,f,g);return _&&(v.vc=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,I.Z)(function*(t){const r=Ie(t);oe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ug(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function JH(n,e=10240){let t=0;return{read:()=>(0,I.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,I.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class jI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class l8{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Xn,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,I.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,I.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,I.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const o=yield e.$c(i);return new Vj(JSON.parse(o),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,I.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,I.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,I.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class c8{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,I.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new re(j.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,I.Z)(function*(o,u){const f=Ie(o),g=jv(f.serializer)+"/documents",_={documents:u.map(A=>zv(f.serializer,A))},v=yield f.vo("BatchGetDocuments",g,_,u.length),w=new Map;v.forEach(A=>{const k=function P9(n,e){return"found"in e?function(t,r){ze(!!r.found);const i=Lo(t,r.found.name),o=$n(r.found.updateTime),u=r.found.createTime?$n(r.found.createTime):$e.min(),f=new Br({mapValue:{fields:r.found.fields}});return dn.newFoundDocument(i,o,u,f)}(n,e):"missing"in e?function(t,r){ze(!!r.missing),ze(!!r.readTime);const i=Lo(t,r.missing),o=$n(r.readTime);return dn.newNoDocument(i,o)}(n,e):Fe()}(f.serializer,A);w.set(k.key.toString(),k)});const E=[];return u.forEach(A=>{const k=w.get(A.toString());ze(!!k),E.push(k)}),E}),function(o,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new rg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,I.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=De.fromPath(i);e.mutations.push(new Nx(o,e.precondition(o)))}),yield(r=(0,I.Z)(function*(i,o){const u=Ie(i),f=jv(u.serializer)+"/documents",g={writes:o.map(_=>$v(u.serializer,_))};yield u.Io("Commit",f,g)}),function(i,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fe();t=$e.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new re(j.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual($e.min())?_n.exists(!1):_n.updateTime(t):_n.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual($e.min()))throw new re(j.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _n.updateTime(t)}return _n.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class u8{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Bc=r.maxAttempts,this.qo=new hO(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,I.Z)(function*(){const t=new c8(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.Uc(o)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Ud(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!EU(t)}return!1}}class d8{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Jn.UNAUTHENTICATED,this.clientId=Tv.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,I.Z)(function*(f){oe("FirestoreClient","Received user=",f.uid),yield o.authCredentialListener(f),o.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(oe("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,I.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,I.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=fg(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function $I(n,e){return uN.apply(this,arguments)}function uN(){return uN=(0,I.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,I.Z)(function*(o){r.isEqual(o)||(yield CH(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),uN.apply(this,arguments)}function dN(n,e){return hN.apply(this,arguments)}function hN(){return hN=(0,I.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield fN(n);oe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>BH(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>BH(e.remoteStore,o)),n._onlineComponents=e}),hN.apply(this,arguments)}function XH(n){return"FirebaseError"===n.name?n.code===j.FAILED_PRECONDITION||n.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function fN(n){return pN.apply(this,arguments)}function pN(){return pN=(0,I.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $I(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!XH(t))throw t;Yr("Error using user provided cache. Falling back to memory cache: "+t),yield $I(n,new r0)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),yield $I(n,new r0);return n._offlineComponents}),pN.apply(this,arguments)}function WI(n){return gN.apply(this,arguments)}function gN(){return gN=(0,I.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield dN(n,n._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),yield dN(n,new _g))),n._onlineComponents}),gN.apply(this,arguments)}function e6(n){return fN(n).then(e=>e.persistence)}function qI(n){return fN(n).then(e=>e.localStore)}function t6(n){return WI(n).then(e=>e.remoteStore)}function mN(n){return WI(n).then(e=>e.syncEngine)}function yg(n){return _N.apply(this,arguments)}function _N(){return _N=(0,I.Z)(function*(n){const e=yield WI(n),t=e.eventManager;return t.onListen=zj.bind(null,e.syncEngine),t.onUnlisten=jj.bind(null,e.syncEngine),t}),_N.apply(this,arguments)}function r6(n,e,t={}){const r=new Xn;return n.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function(i,o,u,f,g){const _=new jI({next:w=>{o.enqueueAndForget(()=>kO(i,v));const E=w.docs.has(u);!E&&w.fromCache?g.reject(new re(j.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&f&&"server"===f.source?g.reject(new re(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new LO(Xp(u.path),_,{includeMetadataChanges:!0,Ku:!0});return OO(i,v)}(yield yg(n),n.asyncQueue,e,t,r)})),r.promise}function i6(n,e,t={}){const r=new Xn;return n.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function(i,o,u,f,g){const _=new jI({next:w=>{o.enqueueAndForget(()=>kO(i,v)),w.fromCache&&"server"===f.source?g.reject(new re(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),v=new LO(u,_,{includeMetadataChanges:!0,Ku:!0});return OO(i,v)}(yield yg(n),n.asyncQueue,e,t,r)})),r.promise}function s6(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const o6=new Map;function yN(n,e,t){if(!t)throw new re(j.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function a6(n,e,t,r){if(!0===e&&!0===r)throw new re(j.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function l6(n){if(!De.isDocumentKey(n))throw new re(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function c6(n){if(De.isDocumentKey(n))throw new re(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ZI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Fe()}function Dt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ZI(n);throw new re(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function u6(n,e){if(e<=0)throw new re(j.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class d6{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new re(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new re(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}a6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=s6(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new re(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new re(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new re(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class s0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d6({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new re(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d6(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new hx;switch(t.type){case"firstParty":return new iI(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new re(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=o6.get(e);t&&(oe("ComponentProvider","Removing Datastore"),o6.delete(e),t.terminate())}(this),Promise.resolve()}}function h6(n,e,t,r={}){var i;const o=(n=Dt(n,s0))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==u&&Yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:u,ssl:!1})),r.mockUserToken){let f,g;if("string"==typeof r.mockUserToken)f=r.mockUserToken,g=Jn.MOCK_USER;else{f=(0,D.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new re(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Jn(_)}n._authCredentials=new fx(new wv(f,g))}}class hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Ur{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ur(this.firestore,e,this._query)}}class Vo extends Ur{constructor(e,t,r){super(e,t,Xp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new De(e))}withConverter(e){return new Vo(this.firestore,e,this._path)}}function f6(n,e,...t){if(n=(0,D.m9)(n),yN("collection","path",e),n instanceof s0){const r=Pt.fromString(e,...t);return c6(r),new Vo(n,null,r)}{if(!(n instanceof hn||n instanceof Vo))throw new re(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Pt.fromString(e,...t));return c6(r),new Vo(n.firestore,null,r)}}function KI(n,e,...t){if(n=(0,D.m9)(n),1===arguments.length&&(e=Tv.A()),yN("doc","path",e),n instanceof s0){const r=Pt.fromString(e,...t);return l6(r),new hn(n,null,new De(r))}{if(!(n instanceof hn||n instanceof Vo))throw new re(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Pt.fromString(e,...t));return l6(r),new hn(n.firestore,n instanceof Vo?n.converter:null,new De(r))}}function p6(n,e){return n=(0,D.m9)(n),e=(0,D.m9)(e),(n instanceof hn||n instanceof Vo)&&(e instanceof hn||e instanceof Vo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function vN(n,e){return n=(0,D.m9)(n),e=(0,D.m9)(e),n instanceof Ur&&e instanceof Ur&&n.firestore===e.firestore&&kv(n._query,e._query)&&n.converter===e.converter}class w8{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new hO(this,"async_queue_retry"),this.Xc=()=>{const t=HI();t&&oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=HI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=HI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Xn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,I.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ya(t))throw t;oe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,gn("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=xO.createAndSchedule(this,e,t,r,o=>this.na(o));return this.zc.push(i),i}Zc(){this.Wc&&Fe()}verifyOperationInProgress(){}sa(){var e=this;return(0,I.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function bN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class C8{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fn extends s0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new w8,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||g6(this),this._firestoreClient.terminate()}}function E8(n,e){const t="object"==typeof n?n:(0,Ze.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Ze._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(0,D.P0)("firestore");o&&h6(i,...o)}return i}function Wn(n){return n._firestoreClient||g6(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function g6(n){var e,t,r;const i=n._freezeSettings(),o=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Xz(n._databaseId,f,n._persistenceKey,(_=i).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,s6(_.experimentalLongPollingOptions),_.useFetchStreams));var f,_;n._firestoreClient=new d8(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function m6(n,e,t){const r=new Xn;return n.asyncQueue.enqueue((0,I.Z)(function*(){try{yield $I(n,t),yield dN(n,e),r.resolve()}catch(i){const o=i;if(!XH(o))throw o;Yr("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function _6(n){if(n._initialized||n._terminated)throw new re(j.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bo(ar.fromBase64String(e))}catch(t){throw new re(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bo(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new re(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xd{constructor(e){this._methodName=e}}class QI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}const k8=/^__.*__$/;class R8{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new nl(e,this.data,this.fieldMask,t,this.fieldTransforms):new ng(e,this.data,t,this.fieldTransforms)}}class y6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new nl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function v6(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class YI{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new YI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return eS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(v6(this.ca)&&k8.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class F8{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||e0(e)}ya(e,t,r,i=!1){return new YI({ca:e,methodName:t,ga:r,path:mn.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eh(n){const e=n._freezeSettings(),t=e0(n._databaseId);return new F8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function JI(n,e,t,r,i,o={}){const u=n.ya(o.merge||o.mergeFields?2:0,e,t,i);EN("Data must be an object, but it was:",u,r);const f=C6(r,u);let g,_;if(o.merge)g=new Fi(u.fieldMask),_=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const w of o.mergeFields){const E=l0(e,w,t);if(!u.contains(E))throw new re(j.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);E6(v,E)||v.push(E)}g=new Fi(v),_=u.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,_=u.fieldTransforms;return new R8(new Br(f),g,_)}class a0 extends Xd{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof a0}}function b6(n,e,t){return new YI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wN extends Xd{_toFieldTransform(e){return new Vv(e.path,new eg)}isEqual(e){return e instanceof wN}}class L8 extends Xd{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=b6(this,e,!0),r=this.pa.map(o=>th(o,t)),i=new jd(r);return new Vv(e.path,i)}isEqual(e){return this===e}}class V8 extends Xd{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=b6(this,e,!0),r=this.pa.map(o=>th(o,t)),i=new $d(r);return new Vv(e.path,i)}isEqual(e){return this===e}}class B8 extends Xd{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new tg(e.serializer,fU(e.serializer,this.Ia));return new Vv(e.path,t)}isEqual(e){return this===e}}function CN(n,e,t,r){const i=n.ya(1,e,t);EN("Data must be an object, but it was:",i,r);const o=[],u=Br.empty();ko(r,(g,_)=>{const v=XI(e,g,t);_=(0,D.m9)(_);const w=i.da(v);if(_ instanceof a0)o.push(v);else{const E=th(_,w);null!=E&&(o.push(v),u.set(v,E))}});const f=new Fi(o);return new y6(u,f,i.fieldTransforms)}function TN(n,e,t,r,i,o){const u=n.ya(1,e,t),f=[l0(e,r,t)],g=[i];if(o.length%2!=0)throw new re(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)f.push(l0(e,o[E])),g.push(o[E+1]);const _=[],v=Br.empty();for(let E=f.length-1;E>=0;--E)if(!E6(_,f[E])){const A=f[E];let k=g[E];k=(0,D.m9)(k);const z=u.da(A);if(k instanceof a0)_.push(A);else{const Z=th(k,z);null!=Z&&(_.push(A),v.set(A,Z))}}const w=new Fi(_);return new y6(v,w,u.fieldTransforms)}function w6(n,e,t,r=!1){return th(t,n.ya(r?4:3,e))}function th(n,e){if(T6(n=(0,D.m9)(n)))return EN("Unsupported field value:",e,n),C6(n,e);if(n instanceof Xd)return function(t,r){if(!v6(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const u of t){let f=th(u,r.wa(o));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,D.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fU(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=qt.fromDate(t);return{timestampValue:ig(r.serializer,i)}}if(t instanceof qt){const i=new qt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ig(r.serializer,i)}}if(t instanceof QI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bo)return{bytesValue:kU(r.serializer,t._byteString)};if(t instanceof hn){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ux(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${ZI(t)}`)}(n,e)}function C6(n,e){const t={};return FB(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ko(n,(r,i)=>{const o=th(i,e.ha(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function T6(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof QI||n instanceof Bo||n instanceof hn||n instanceof Xd)}function EN(n,e,t){if(!T6(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=ZI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function l0(n,e,t){if((e=(0,D.m9)(e))instanceof sl)return e._internalPath;if("string"==typeof e)return XI(n,e);throw eS("Field path arguments must be of type string or ",n,!1,void 0,t)}const U8=new RegExp("[~\\*/\\[\\]]");function XI(n,e,t){if(e.search(U8)>=0)throw eS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sl(...e.split("."))._internalPath}catch{throw eS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function eS(n,e,t,r,i){const o=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(o||u)&&(g+=" (found",o&&(g+=` in field ${r}`),u&&(g+=` in document ${i}`),g+=")"),new re(j.INVALID_ARGUMENT,f+n+g)}function E6(n,e){return n.some(t=>t.isEqual(e))}class c0{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new H8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class H8 extends c0{data(){return super.data()}}function tS(n,e){return"string"==typeof e?XI(n,e):e instanceof sl?e._internalPath:e._delegate._internalPath}function I6(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new re(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IN{}class u0 extends IN{}function Kc(n,e,...t){let r=[];e instanceof IN&&r.push(e),r=r.concat(t),function(i){const o=i.filter(f=>f instanceof vg).length,u=i.filter(f=>f instanceof d0).length;if(o>1||o>0&&u>0)throw new re(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class d0 extends u0{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new d0(e,t,r)}_apply(e){const t=this._parse(e);return M6(e._query,t),new Ur(e.firestore,e.converter,Px(e._query,t))}_parse(e){const t=eh(e.firestore);return function(i,o,u,f,g,_,v){let w;if(g.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new re(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){D6(v,_);const E=[];for(const A of v)E.push(A6(f,i,A));w={arrayValue:{values:E}}}else w=A6(f,i,v)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||D6(v,_),w=w6(u,"where",v,"in"===_||"not-in"===_);return At.create(g,_,w)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class vg extends IN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:$t.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const u=i.getFlattenedFilters();for(const f of u)M6(o,f),o=Px(o,f)}(e._query,t),new Ur(e.firestore,e.converter,Px(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class SN extends u0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new SN(e,t)}_apply(e){const t=function(r,i,o){if(null!==r.startAt)throw new re(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new re(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Yp(i,o);return function(f,g){if(null===Dx(f)){const _=vI(f);null!==_&&P6(0,_,g.field)}}(r,u),u}(e._query,this._field,this._direction);return new Ur(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new el(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class nS extends u0{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new nS(e,t,r)}_apply(e){return new Ur(e.firestore,e.converter,bI(e._query,this._limit,this._limitType))}}class rS extends u0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new rS(e,t,r)}_apply(e){const t=S6(e,this.type,this._docOrFields,this._inclusive);return new Ur(e.firestore,e.converter,(i=t,new el((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class iS extends u0{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new iS(e,t,r)}_apply(e){const t=S6(e,this.type,this._docOrFields,this._inclusive);return new Ur(e.firestore,e.converter,(i=t,new el((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function S6(n,e,t,r){if(t[0]=(0,D.m9)(t[0]),t[0]instanceof c0)return function(i,o,u,f,g){if(!f)throw new re(j.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const _=[];for(const v of zd(i))if(v.field.isKeyField())_.push(Hd(o,f.key));else{const w=f.data.field(v.field);if(hI(w))throw new re(j.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===w){const E=v.field.canonicalString();throw new re(j.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}_.push(w)}return new Gc(_,g)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=eh(n.firestore);return function(o,u,f,g,_,v){const w=o.explicitOrderBy;if(_.length>w.length)throw new re(j.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let A=0;A<_.length;A++){const k=_[A];if(w[A].field.isKeyField()){if("string"!=typeof k)throw new re(j.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof k}`);if(!Mx(o)&&-1!==k.indexOf("/"))throw new re(j.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${k}' contains a slash.`);const z=o.path.child(Pt.fromString(k));if(!De.isDocumentKey(z))throw new re(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const Z=new De(z);E.push(Hd(u,Z))}else{const z=w6(f,g,k);E.push(z)}}return new Gc(E,v)}(n._query,n.firestore._databaseId,i,e,t,r)}}function A6(n,e,t){if("string"==typeof(t=(0,D.m9)(t))){if(""===t)throw new re(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mx(e)&&-1!==t.indexOf("/"))throw new re(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Pt.fromString(t));if(!De.isDocumentKey(r))throw new re(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Hd(n,new De(r))}if(t instanceof hn)return Hd(n,t._key);throw new re(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ZI(t)}.`)}function D6(n,e){if(!Array.isArray(n)||0===n.length)throw new re(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M6(n,e){if(e.isInequality()){const r=vI(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new re(j.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=Dx(n);null!==o&&P6(0,i,o)}const t=function(r,i){for(const o of r)for(const u of o.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new re(j.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function P6(n,e,t){if(!t.isEqual(e))throw new re(j.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class AN{convertValue(e,t="none"){switch(Uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ko(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new QI(kn(e.latitude),kn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fI(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mv(e));default:return null}}convertTimestamp(e){const t=Lc(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Pt.fromString(e);ze(jU(r));const i=new Vc(r.get(1),r.get(3)),o=new De(r.popFirst(5));return i.isEqual(t)||gn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function sS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Q8 extends AN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}}class nh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ol extends c0{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new h0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(tS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class h0 extends ol{data(e={}){return super.data(e)}}class Qc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new nh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new h0(this._firestore,this._userDataWriter,r.key,r,new nh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new h0(r._firestore,r._userDataWriter,u.doc.key,u.doc,new nh(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new h0(r._firestore,r._userDataWriter,u.doc.key,u.doc,new nh(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,_=-1;return 0!==u.type&&(g=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),_=o.indexOf(u.doc.key)),{type:J8(u.type),doc:f,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function J8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}function O6(n,e){return n instanceof ol&&e instanceof ol?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Qc&&e instanceof Qc&&n._firestore===e._firestore&&vN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Yc extends AN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}}function N6(n,e,t){n=Dt(n,hn);const r=Dt(n.firestore,fn),i=sS(n.converter,e,t);return bg(r,[JI(eh(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,_n.none())])}function k6(n,e,t,...r){n=Dt(n,hn);const i=Dt(n.firestore,fn),o=eh(i);let u;return u="string"==typeof(e=(0,D.m9)(e))||e instanceof sl?TN(o,"updateDoc",n._key,e,t,r):CN(o,"updateDoc",n._key,e),bg(i,[u.toMutation(n._key,_n.exists(!0))])}function R6(n,...e){var t,r,i;n=(0,D.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||bN(e[u])||(o=e[u],u++);const f={includeMetadataChanges:o.includeMetadataChanges};if(bN(e[u])){const w=e[u];e[u]=null===(t=w.next)||void 0===t?void 0:t.bind(w),e[u+1]=null===(r=w.error)||void 0===r?void 0:r.bind(w),e[u+2]=null===(i=w.complete)||void 0===i?void 0:i.bind(w)}let g,_,v;if(n instanceof hn)_=Dt(n.firestore,fn),v=Xp(n._key.path),g={next:w=>{e[u]&&e[u](DN(_,n,w))},error:e[u+1],complete:e[u+2]};else{const w=Dt(n,Ur);_=Dt(w.firestore,fn),v=w._query;const E=new Yc(_);g={next:A=>{e[u]&&e[u](new Qc(_,E,w,A))},error:e[u+1],complete:e[u+2]},I6(n._query)}return function(w,E,A,k){const z=new jI(k),Z=new LO(E,z,A);return w.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return OO(yield yg(w),Z)})),()=>{z.Dc(),w.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return kO(yield yg(w),Z)}))}}(Wn(_),v,f,g)}function bg(n,e){return function(t,r){const i=new Xn;return t.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function $j(n,e,t){return GO.apply(this,arguments)}(yield mN(t),r,i)})),i.promise}(Wn(n),e)}function DN(n,e,t){const r=t.docs.get(e._key),i=new Yc(n);return new ol(n,i,e._key,r,new nh(t.hasPendingWrites,t.fromCache),e.converter)}const m$={maxAttempts:5};class F6{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=eh(e)}set(e,t,r){this._verifyNotCommitted();const i=Jc(e,this._firestore),o=sS(i.converter,t,r),u=JI(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,_n.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=Jc(e,this._firestore);let u;return u="string"==typeof(t=(0,D.m9)(t))||t instanceof sl?TN(this._dataReader,"WriteBatch.update",o._key,t,r,i):CN(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,_n.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Jc(e,this._firestore);return this._mutations=this._mutations.concat(new rg(t._key,_n.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(j.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jc(n,e){if((n=(0,D.m9)(n)).firestore!==e)throw new re(j.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class _$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=eh(e)}get(e){const t=Jc(e,this._firestore),r=new Q8(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Fe();const o=i[0];if(o.isFoundDocument())return new c0(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new c0(this._firestore,r,t._key,null,t.converter);throw Fe()})}set(e,t,r){const i=Jc(e,this._firestore),o=sS(i.converter,t,r),u=JI(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=Jc(e,this._firestore);let u;return u="string"==typeof(t=(0,D.m9)(t))||t instanceof sl?TN(this._dataReader,"Transaction.update",o._key,t,r,i):CN(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=Jc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Jc(e,this._firestore),r=new Yc(this._firestore);return super.get(e).then(i=>new ol(this._firestore,r,t._key,i._document,new nh(!1,!1),t.converter))}}function MN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function V6(){if(typeof Uint8Array>"u")throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function B6(){if(!function Yz(){return typeof atob<"u"}())throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){to=Ze.SDK_VERSION,(0,Ze._registerComponent)(new _r.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),u=new fn(new px(t.getProvider("auth-internal")),new sI(t.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new re(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vc(f.options.projectId,g)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Ze.registerVersion)(dx,"3.13.0",n),(0,Ze.registerVersion)(dx,"3.13.0","esm2017")}();class f0{constructor(e){this._delegate=e}static fromBase64String(e){return B6(),new f0(Bo.fromBase64String(e))}static fromUint8Array(e){return V6(),new f0(Bo.fromUint8Array(e))}toBase64(){return B6(),this._delegate.toBase64()}toUint8Array(){return V6(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function PN(n){return function S$(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class A${enableIndexedDbPersistence(e,t){return function I8(n,e){_6(n=Dt(n,fn));const t=Wn(n);if(t._uninitializedComponentsProvider)throw new re(j.FAILED_PRECONDITION,"SDK cache is already specified.");Yr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new _g;return m6(t,i,new cN(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function S8(n){_6(n=Dt(n,fn));const e=Wn(n);if(e._uninitializedComponentsProvider)throw new re(j.FAILED_PRECONDITION,"SDK cache is already specified.");Yr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new _g;return m6(e,r,new YH(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function A8(n){if(n._initialized&&!n._terminated)throw new re(j.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Xn;return n._queue.enqueueAndForgetEvenWhileRestricted((0,I.Z)(function*(){try{yield(t=(0,I.Z)(function*(r){if(!Jr.D())return Promise.resolve();const i=r+"main";yield Jr.delete(i)}),function(r){return t.apply(this,arguments)})(tO(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class U6{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Yr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){h6(this._delegate,e,t,r)}enableNetwork(){return function M8(n){return function h8(n){return n.asyncQueue.enqueue((0,I.Z)(function*(){const e=yield e6(n),t=yield t6(n);return e.setNetworkEnabled(!0),function(r){const i=Ie(r);return i.vu.delete(0),t0(i)}(t)}))}(Wn(n=Dt(n,fn)))}(this._delegate)}disableNetwork(){return function P8(n){return function f8(n){return n.asyncQueue.enqueue((0,I.Z)(function*(){const e=yield e6(n),t=yield t6(n);return e.setNetworkEnabled(!1),(r=(0,I.Z)(function*(i){const o=Ie(i);o.vu.add(0),yield ug(o),o.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Wn(n=Dt(n,fn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,a6("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function D8(n){return function(e){const t=new Xn;return e.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function Kj(n,e){return qO.apply(this,arguments)}(yield mN(e),t)})),t.promise}(Wn(n=Dt(n,fn)))}(this._delegate)}onSnapshotsInSync(e){return function a$(n,e){return function m8(n,e){const t=new jI(e);return n.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return r=yield yg(n),i=t,Ie(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return r=yield yg(n),i=t,void Ie(r).ku.delete(i);var r,i}))}}(Wn(n=Dt(n,fn)),bN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new wg(this,f6(this._delegate,e))}catch(t){throw _i(t,"collection()","Firestore.collection()")}}doc(e){try{return new As(this,KI(this._delegate,e))}catch(t){throw _i(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new yi(this,function b8(n,e){if(n=Dt(n,s0),yN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(j.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ur(n,null,(t=e,new el(Pt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw _i(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function y$(n,e,t){n=Dt(n,fn);const r=Object.assign(Object.assign({},m$),t);return function(i){if(i.maxAttempts<1)throw new re(j.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,u){const f=new Xn;return i.asyncQueue.enqueueAndForget((0,I.Z)(function*(){const g=yield function n6(n){return WI(n).then(e=>e.datastore)}(i);new u8(i.asyncQueue,g,u,o,f).run()})),f.promise}(Wn(n),i=>e(new _$(n,i)),r)}(this._delegate,t=>e(new H6(this,t)))}batch(){return Wn(this._delegate),new G6(new F6(this._delegate,e=>bg(this._delegate,e)))}loadBundle(e){return function x8(n,e){const t=Wn(n=Dt(n,fn)),r=new C8;return function _8(n,e,t,r){const i=function(o,u){let f;return f="string"==typeof o?SU().encode(o):o,g=function(g,_){if(g instanceof Uint8Array)return JH(g,_);if(g instanceof ArrayBuffer)return JH(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new l8(g,u);var g}(t,e0(e));n.asyncQueue.enqueueAndForget((0,I.Z)(function*(){!function o8(n,e,t){const r=Ie(n);var i;(i=(0,I.Z)(function*(o,u,f){try{const g=yield u.getMetadata();if(yield function(E,A){const k=Ie(E),z=$n(A.createTime);return k.persistence.runTransaction("hasNewerBundle","readonly",Z=>k.qs.getBundleMetadata(Z,A.id)).then(Z=>!!Z&&Z.createTime.compareTo(z)>=0)}(o.localStore,g))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(E=g).totalDocuments,bytesLoaded:E.totalBytes,totalDocuments:E.totalDocuments,totalBytes:E.totalBytes}),Promise.resolve(new Set);f._updateProgress(GH(g));const _=new Bj(g,o.localStore,u.serializer);let v=yield u.bc();for(;v;){const E=yield _.zu(v);E&&f._updateProgress(E),v=yield u.bc()}const w=yield _.complete();return yield il(o,w.Ju,void 0),yield function(E,A){const k=Ie(E);return k.persistence.runTransaction("Save bundle","readwrite",z=>k.qs.saveBundleMetadata(z,A))}(o.localStore,g),f._completeWith(w.progress),Promise.resolve(w.Hu)}catch(g){return Yr("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var E}),function(o,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield mN(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function O8(n,e){return function y8(n,e){return n.asyncQueue.enqueue((0,I.Z)(function*(){return function(t,r){const i=Ie(t);return i.persistence.runTransaction("Get named query","readonly",o=>i.qs.getNamedQuery(o,r))}(yield qI(n),e)}))}(Wn(n=Dt(n,fn)),e).then(t=>t?new Ur(n,null,t.query):null)}(this._delegate,e).then(t=>t?new yi(this,t):null)}}class oS extends AN{constructor(e){super(),this.firestore=e}convertBytes(e){return new f0(new Bo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return As.forKey(t,this.firestore,null)}}class H6{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new oS(e)}get(e){const t=ih(e);return this._delegate.get(t).then(r=>new p0(this._firestore,new ol(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ih(e);return r?(MN("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ih(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ih(e);return this._delegate.delete(t),this}}class G6{constructor(e){this._delegate=e}set(e,t,r){const i=ih(e);return r?(MN("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ih(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ih(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rh{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new h0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new g0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=rh.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new rh(e,new oS(e),t),i.set(t,o)),o}}rh.INSTANCES=new WeakMap;class As{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oS(e)}static forPath(e,t,r){if(e.length%2!=0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new As(t,new hn(t._delegate,r,new De(e)))}static forKey(e,t,r){return new As(t,new hn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new wg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new wg(this.firestore,f6(this._delegate,e))}catch(t){throw _i(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,D.m9)(e))instanceof hn&&p6(this._delegate,e)}set(e,t){t=MN("DocumentReference.set",t);try{return t?N6(this._delegate,e,t):N6(this._delegate,e)}catch(r){throw _i(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?k6(this._delegate,e):k6(this._delegate,e,t,...r)}catch(i){throw _i(i,"updateDoc()","DocumentReference.update()")}}delete(){return function s$(n){return bg(Dt(n.firestore,fn),[new rg(n._key,_n.none())])}(this._delegate)}onSnapshot(...e){const t=z6(e),r=j6(e,i=>new p0(this.firestore,new ol(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return R6(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function e$(n){n=Dt(n,hn);const e=Dt(n.firestore,fn),t=Wn(e),r=new Yc(e);return function p8(n,e){const t=new Xn;return n.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return(r=(0,I.Z)(function*(i,o,u){try{const f=yield function(g,_){const v=Ie(g);return v.persistence.runTransaction("read document","readonly",w=>v.localDocuments.getDocument(w,_))}(i,o);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new re(j.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=fg(f,`Failed to get document '${o} from cache`);u.reject(g)}}),function(i,o,u){return r.apply(this,arguments)})(yield qI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new ol(e,r,n._key,i,new nh(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function t$(n){n=Dt(n,hn);const e=Dt(n.firestore,fn);return r6(Wn(e),n._key,{source:"server"}).then(t=>DN(e,n,t))}(this._delegate):function X8(n){n=Dt(n,hn);const e=Dt(n.firestore,fn);return r6(Wn(e),n._key).then(t=>DN(e,n,t))}(this._delegate),t.then(r=>new p0(this.firestore,new ol(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new As(this.firestore,this._delegate.withConverter(e?rh.getInstance(this.firestore,e):null))}}function _i(n,e,t){return n.message=n.message.replace(e,t),n}function z6(n){for(const e of n)if("object"==typeof e&&!PN(e))return e;return{}}function j6(n,e){var t,r;let i;return i=PN(n[0])?n[0]:PN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class p0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new As(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return O6(this._delegate,e._delegate)}}class g0 extends p0{data(e){const t=this._delegate.data(e);return function bv(n,e){n||Fe()}(void 0!==t),t}}class yi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new oS(e)}where(e,t,r){try{return new yi(this.firestore,Kc(this._delegate,function G8(n,e,t){const r=e,i=tS("where",n);return d0._create(i,r,t)}(e,t,r)))}catch(i){throw _i(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new yi(this.firestore,Kc(this._delegate,function z8(n,e="asc"){const t=e,r=tS("orderBy",n);return SN._create(r,t)}(e,t)))}catch(r){throw _i(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new yi(this.firestore,Kc(this._delegate,function j8(n){return u6("limit",n),nS._create("limit",n,"F")}(e)))}catch(t){throw _i(t,"limit()","Query.limit()")}}limitToLast(e){try{return new yi(this.firestore,Kc(this._delegate,function $8(n){return u6("limitToLast",n),nS._create("limitToLast",n,"L")}(e)))}catch(t){throw _i(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new yi(this.firestore,Kc(this._delegate,function W8(...n){return rS._create("startAt",n,!0)}(...e)))}catch(t){throw _i(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new yi(this.firestore,Kc(this._delegate,function q8(...n){return rS._create("startAfter",n,!1)}(...e)))}catch(t){throw _i(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new yi(this.firestore,Kc(this._delegate,function Z8(...n){return iS._create("endBefore",n,!1)}(...e)))}catch(t){throw _i(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new yi(this.firestore,Kc(this._delegate,function K8(...n){return iS._create("endAt",n,!0)}(...e)))}catch(t){throw _i(t,"endAt()","Query.endAt()")}}isEqual(e){return vN(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function r$(n){n=Dt(n,Ur);const e=Dt(n.firestore,fn),t=Wn(e),r=new Yc(e);return function g8(n,e){const t=new Xn;return n.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return(r=(0,I.Z)(function*(i,o,u){try{const f=yield LI(i,o,!0),g=new $H(o,f.ir),_=g.sc(f.documents),v=g.applyChanges(_,!1);u.resolve(v.snapshot)}catch(f){const g=fg(f,`Failed to execute query '${o} against cache`);u.reject(g)}}),function(i,o,u){return r.apply(this,arguments)})(yield qI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Qc(e,r,n,i))}(this._delegate):"server"===e?.source?function i$(n){n=Dt(n,Ur);const e=Dt(n.firestore,fn),t=Wn(e),r=new Yc(e);return i6(t,n._query,{source:"server"}).then(i=>new Qc(e,r,n,i))}(this._delegate):function n$(n){n=Dt(n,Ur);const e=Dt(n.firestore,fn),t=Wn(e),r=new Yc(e);return I6(n._query),i6(t,n._query).then(i=>new Qc(e,r,n,i))}(this._delegate),t.then(r=>new xN(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=z6(e),r=j6(e,i=>new xN(this.firestore,new Qc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return R6(this._delegate,t,r)}withConverter(e){return new yi(this.firestore,this._delegate.withConverter(e?rh.getInstance(this.firestore,e):null))}}class M${constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new g0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xN{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new yi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new g0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new M$(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new g0(this._firestore,r))})}isEqual(e){return O6(this._delegate,e._delegate)}}class wg extends yi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new As(this.firestore,e):null}doc(e){try{return new As(this.firestore,void 0===e?KI(this._delegate):KI(this._delegate,e))}catch(t){throw _i(t,"doc()","CollectionReference.doc()")}}add(e){return function o$(n,e){const t=Dt(n.firestore,fn),r=KI(n),i=sS(n.converter,e);return bg(t,[JI(eh(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new As(this.firestore,t))}isEqual(e){return p6(this._delegate,e._delegate)}withConverter(e){return new wg(this.firestore,this._delegate.withConverter(e?rh.getInstance(this.firestore,e):null))}}function ih(n){return Dt(n,hn)}class ON{constructor(...e){this._delegate=new sl(...e)}static documentId(){return new ON(mn.keyField().canonicalString())}isEqual(e){return(e=(0,D.m9)(e))instanceof sl&&this._delegate._internalPath.isEqual(e._internalPath)}}class sh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function b$(){return new wN("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new sh(e)}static delete(){const e=function v$(){return new a0("deleteField")}();return e._methodName="FieldValue.delete",new sh(e)}static arrayUnion(...e){const t=function w$(...n){return new L8("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new sh(t)}static arrayRemove(...e){const t=function C$(...n){return new V8("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new sh(t)}static increment(e){const t=function T$(n){return new B8("increment",n)}(e);return t._methodName="FieldValue.increment",new sh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const P$={Firestore:U6,GeoPoint:QI,Timestamp:qt,Blob:f0,Transaction:H6,WriteBatch:G6,DocumentReference:As,DocumentSnapshot:p0,Query:yi,QueryDocumentSnapshot:g0,QuerySnapshot:xN,CollectionReference:wg,FieldPath:ON,FieldValue:sh,setLogLevel:function D$(n){!function rI(n){Oo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function O$(n){(function x$(n,e){n.INTERNAL.registerComponent(new _r.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},P$)))})(n,(e,t)=>new U6(e,t,new A$)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(kP.Z);const NN={firebase:{projectId:"sallys-tiertraining",appId:"1:380886211603:web:d58744eb29e9fed5e373e6",databaseURL:"https://sallys-tiertraining-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"sallys-tiertraining.appspot.com",apiKey:"AIzaSyA64JxgmrblFTFcuRPD80kgPiOTs9SEtng",authDomain:"sallys-tiertraining.firebaseapp.com",messagingSenderId:"380886211603"}};let N$=(()=>{class n{constructor(){}sendContactform(t){return fy.Z.initializeApp(NN.firebase),fy.Z.firestore().collection("contacts").add({...t}),!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function k$(n,e){1&n&&(l.TgZ(0,"p",63),l._uU(1," Gib bitte einen Nachnamen an. "),l.qZA())}function R$(n,e){1&n&&(l.TgZ(0,"p",63),l._uU(1," Gib bitte einen Vornamen an. "),l.qZA())}function F$(n,e){1&n&&(l.TgZ(0,"p",63),l._uU(1," Gib bitte eine g\xfcltige E-Mail-Adresse an. "),l.qZA())}function L$(n,e){1&n&&(l.TgZ(0,"p",64),l._uU(1,"Deine Daten wurden erfolgreich weitergeleitet."),l.qZA())}const $6=function(n){return{"mobile-section":n}},kN=function(n){return{error:n}};let V$=(()=>{class n{constructor(t,r){this.http=t,this.contactservice=r,this.mobilePortrait=!1,this.ctaOn=!1,this.success=!1,this.contact=new yc}sendCredentials(t){this.contact.lastName=t.form.value.lastName,this.contact.firstName=t.form.value.firstName,this.contact.email=t.form.value.usermail,this.contact.phone=t.form.value.userphone;let r="Interessen: ";1==t.form.value.funagility&&(r+="Funagility, "),1==t.form.value.locagility&&(r+="Locagility, "),1==t.form.value.mantrailing&&(r+="Mantrailing, "),1==t.form.value.tricks&&(r+="Tricks & Parcours, "),1==t.form.value.puppies&&(r+="Welpen, "),1==t.form.value.horseInfo&&(r+="Allgemeines zu Pferden, "),1==t.form.value.ridingLessons1&&(r+="Springunterricht, "),1==t.form.value.ridingLessons2&&(r+="Dressurunterricht, "),1==t.form.value.ridingLessons3&&(r+="Freizeitunterricht, "),1==t.form.value.individual&&(r+="Allgemeines zu Hunden, "),1==t.form.value.individual1&&(r+="Einzeltraining, "),1==t.form.value.horseInfo&&(r+="allgemeine Infos zu Pferden"),this.contact.interests=r;let i="Antwort bitte per: ";1==t.form.value.perMail&&(i+="Mail, "),1==t.form.value.perPhone&&(i+="Telefon "),this.contact.answer=i,this.contact.usermessage=t.form.value.usermessage,t.reset(),this.success=this.contactservice.sendContactform(this.contact)}ngOnInit(){document.body.scrollTop=0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bc),l.Y36(N$))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-contact"]],inputs:{mobilePortrait:"mobilePortrait",hero:"hero"},outputs:{ctaOn:"ctaOn"},decls:129,vars:23,consts:[[3,"mobilePortrait","hero"],[1,"form-section",3,"ngClass"],["novalidate","",3,"ngSubmit"],["cta_form","ngForm"],[1,"personal-data"],[1,"h1-p"],[1,"personal-data-entry"],[1,"column-data-entry"],["for","lastName"],["id","lastName","type","text","placeholder","Dein Nachname","ngModel","","name","lastName","required","",3,"ngClass"],["lastName","ngModel"],["class","error-p",4,"ngIf"],["for","firstName"],["id","firstName","type","text","placeholder","Dein Vorname","ngModel","","name","firstName","required","",3,"ngClass"],["firstName","ngModel"],["for","email"],["id","email","type","email","placeholder","deine-mail@mail.com","ngModel","","name","usermail","required","","email","",3,"ngClass"],["usermail","ngModel"],["for","phone"],["id","phone","type","n","placeholder","12345 6789","ngModel","","name","userphone"],[1,"interests"],[1,"interests-content"],[1,"interest-column"],[1,"h3-p"],["type","checkbox","name","horseInfo","id","horseInfo","ngModel",""],["type","checkbox","name","ridingLessons1","id","ridingLessons1","ngModel",""],["type","checkbox","name","ridingLessons2","id","ridingLessons2","ngModel",""],["type","checkbox","name","ridingLessons3","id","ridingLessons3","ngModel",""],["type","checkbox","name","individual","id","individual","ngModel",""],["type","checkbox","name","individual1","id","individual1","ngModel",""],["type","checkbox","name","funagility","id","funagility","ngModel",""],["type","checkbox","name","locagility","id","locagility","ngModel",""],["type","checkbox","name","mantrailing","id","mantrailing","ngModel",""],["type","checkbox","name","tricks","id","tricks","ngModel",""],["type","checkbox","name","puppies","id","puppies","ngModel",""],[1,"messages"],[1,"message"],["id","message","placeholder","Dein Text","ngModel","","name","usermessage","text",""],["usermessage","ngModel"],[1,"send"],[1,"answer","h1-p"],["type","checkbox","name","perPhone","id","perPhone","ngModel",""],["type","checkbox","name","perMail","id","perMail","ngModel",""],[1,"dsgvo","h1-p"],["required","","type","checkbox","name","dsgvo","id","dsgvo","ngModel",""],["routerLink","/Impressum"],["buttonType","submit","buttonTitle","Abschicken",3,"buttonDesign","disabled"],["class","success",4,"ngIf"],[1,"contact-without-form",3,"ngClass"],[1,"classic-and-social"],[1,"classic"],[1,"classic-contact"],["src","../../../assets/interaction/call_24px_red.svg","alt","Sally anrufen"],["href","tel:+491749789210"],["src","../../../assets/interaction/email_24px_red.svg","alt","Sally mailen"],["href","mailto:info@sallys-tiertraining.de"],[1,"social"],[1,"social-icons"],["src","../../../assets/icons/tiktok.png","alt","Sally's Tiktok"],["src","../../../assets/icons/insta.svg","alt","Sally's Instagram"],["src","../../../assets/icons/fb.png","alt","Sally's Facebook"],["src","../../../assets/icons/yt.svg","alt","Sally's Youtube"],["src","../../../assets/icons/whatsapp.svg","alt","Sally's Whatsapp"],[1,"error-p"],[1,"success"]],template:function(t,r){if(1&t){const i=l.EpF();l._UZ(0,"app-hero-section",0),l.TgZ(1,"section",1)(2,"form",2,3),l.NdJ("ngSubmit",function(){l.CHM(i);const u=l.MAs(3);return l.KtG(r.sendCredentials(u))}),l.TgZ(4,"article",4)(5,"h1",5),l._uU(6,"Deine Kontaktdaten"),l.qZA(),l.TgZ(7,"div",6)(8,"div",7)(9,"label",8),l._uU(10,"Nachname"),l.qZA(),l._UZ(11,"input",9,10),l.YNc(13,k$,2,0,"p",11),l.qZA(),l.TgZ(14,"div",7)(15,"label",12),l._uU(16,"Vorame"),l.qZA(),l._UZ(17,"input",13,14),l.YNc(19,R$,2,0,"p",11),l.qZA()(),l.TgZ(20,"div",6)(21,"div",7)(22,"label",15),l._uU(23,"E-Mail"),l.qZA(),l._UZ(24,"input",16,17),l.YNc(26,F$,2,0,"p",11),l.qZA(),l.TgZ(27,"div",7)(28,"label",18),l._uU(29,"Telefonnummer "),l.qZA(),l._UZ(30,"input",19),l.qZA()()(),l.TgZ(31,"article",20)(32,"h1",5),l._uU(33,"Was interessiert dich?"),l.qZA(),l.TgZ(34,"div",21)(35,"div",22)(36,"h4",23),l._uU(37,"Pferde"),l.qZA(),l.TgZ(38,"label"),l._UZ(39,"input",24),l._uU(40," Allgemeines "),l.qZA(),l.TgZ(41,"label"),l._UZ(42,"input",25),l._uU(43," Springunterricht "),l.qZA(),l.TgZ(44,"label"),l._UZ(45,"input",26),l._uU(46," Dressurunterricht "),l.qZA(),l.TgZ(47,"label"),l._UZ(48,"input",27),l._uU(49," Freizeitunterricht "),l.qZA()(),l.TgZ(50,"div",22)(51,"h4",23),l._uU(52,"Hundetraining (einzeln)"),l.qZA(),l.TgZ(53,"label"),l._UZ(54,"input",28),l._uU(55," Allgemeines "),l.qZA(),l.TgZ(56,"label"),l._UZ(57,"input",29),l._uU(58," Einzeltraining "),l.qZA()(),l.TgZ(59,"div",22)(60,"h4",23),l._uU(61,"Hundetraining (Gruppe)"),l.qZA(),l.TgZ(62,"label"),l._UZ(63,"input",30),l._uU(64," Funagility "),l.qZA(),l.TgZ(65,"label"),l._UZ(66,"input",31),l._uU(67," Locagility "),l.qZA(),l.TgZ(68,"label"),l._UZ(69,"input",32),l._uU(70," Mantrailing "),l.qZA(),l.TgZ(71,"label"),l._UZ(72,"input",33),l._uU(73," Tricks & Parcours "),l.qZA(),l.TgZ(74,"label"),l._UZ(75,"input",34),l._uU(76," Welpen "),l.qZA()()()(),l.TgZ(77,"article",35)(78,"h1",5),l._uU(79,"Schreib mir doch ein paar Zeilen"),l.qZA(),l.TgZ(80,"div",36),l._UZ(81,"textarea",37,38),l.qZA()(),l.TgZ(83,"article",39)(84,"h1",5),l._uU(85,"Wie darf ich antworten?"),l.qZA(),l.TgZ(86,"div",40)(87,"label"),l._UZ(88,"input",41),l._uU(89," Telefonisch "),l.qZA(),l.TgZ(90,"label"),l._UZ(91,"input",42),l._uU(92," Per E-Mail "),l.qZA()(),l.TgZ(93,"div",43)(94,"label"),l._UZ(95,"input",44),l.TgZ(96,"p"),l._uU(97,"Ich habe die "),l.TgZ(98,"a",45),l._uU(99,"Datenschutzerkl\xe4rung "),l.qZA(),l._uU(100," gelesen und erkl\xe4re mich dieser und der \xdcbermittlung meiner Daten einverstanden."),l.qZA()()(),l._UZ(101,"app-button",46),l.YNc(102,L$,2,0,"p",47),l.qZA()()(),l.TgZ(103,"section",48)(104,"h1",5),l._uU(105,"So kannst du mich auch erreichen"),l.qZA(),l.TgZ(106,"div",49)(107,"div",50)(108,"div",51)(109,"figure"),l._UZ(110,"img",52),l.qZA(),l.TgZ(111,"a",53),l._uU(112,"0174 97 89 210"),l.qZA()(),l.TgZ(113,"div",51)(114,"figure"),l._UZ(115,"img",54),l.qZA(),l.TgZ(116,"a",55),l._uU(117,"info@sallys-tiertraining.de"),l.qZA()()(),l.TgZ(118,"div",56)(119,"figure",57),l._UZ(120,"img",58),l.qZA(),l.TgZ(121,"figure",57),l._UZ(122,"img",59),l.qZA(),l.TgZ(123,"figure",57),l._UZ(124,"img",60),l.qZA(),l.TgZ(125,"figure",57),l._UZ(126,"img",61),l.qZA(),l.TgZ(127,"figure",57),l._UZ(128,"img",62),l.qZA()()()()}if(2&t){const i=l.MAs(3),o=l.MAs(12),u=l.MAs(18),f=l.MAs(25);l.Q6J("mobilePortrait",r.mobilePortrait)("hero",r.hero),l.xp6(1),l.Q6J("ngClass",l.VKq(13,$6,r.mobilePortrait)),l.xp6(10),l.Q6J("ngClass",l.VKq(15,kN,!o.valid&&o.touched)),l.xp6(2),l.Q6J("ngIf",!o.valid&&o.touched),l.xp6(4),l.Q6J("ngClass",l.VKq(17,kN,!u.valid&&u.touched)),l.xp6(2),l.Q6J("ngIf",!u.valid&&u.touched),l.xp6(5),l.Q6J("ngClass",l.VKq(19,kN,!f.valid&&f.touched)),l.xp6(2),l.Q6J("ngIf",!f.valid&&f.touched),l.xp6(75),l.Q6J("buttonDesign","primary")("disabled",!i.valid),l.xp6(1),l.Q6J("ngIf",r.success),l.xp6(1),l.Q6J("ngClass",l.VKq(21,$6,r.mobilePortrait))}},dependencies:[ur,dr,kM,dc,XC,zf,hc,Ra,ey,ap,bT,dd,bs,Ws,kr],styles:["input[_ngcontent-%COMP%]{margin:.31rem 0 2.81rem;outline:none;width:40.21vw;height:3.3rem;max-width:45vw;max-height:53px;background-color:var(--grey20);border:2px solid rgba(255,255,255,0);border-radius:4px;text-align:center;box-shadow:1px 1px 4px #dde1e5;font-family:ubuntu;font-size:1.5rem;line-height:2rem;color:#000}input[_ngcontent-%COMP%]:hover{background-color:#eaeef1}input[_ngcontent-%COMP%]::placeholder{font-family:ubuntu-italic;font-size:1rem}input[_ngcontent-%COMP%]:focus{box-shadow:1px 1px 4px #a93733}input[type=checkbox][_ngcontent-%COMP%]{margin:0 1rem 0 0;-webkit-appearance:none;appearance:none;width:20px;height:20px;min-width:20px;min-height:20px;background-color:var(--red20)}input[type=checkbox][_ngcontent-%COMP%]:hover{background-color:var(--red40)}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:var(--red100)}.error[_ngcontent-%COMP%]{border:2px solid var(--red100);background-color:var(--red80);margin-bottom:.31rem;color:#fff;box-shadow:1px 1px 4px #a93733}.error-p[_ngcontent-%COMP%]{font-family:ubuntu-italic;font-size:.88rem;color:#a93733;margin-bottom:2rem}.personal-data[_ngcontent-%COMP%], .interests[_ngcontent-%COMP%], .messages[_ngcontent-%COMP%]{margin-bottom:5rem}.personal-data-entry[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.column-data-entry[_ngcontent-%COMP%]{display:flex;flex-direction:column}.interests-content[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;justify-content:space-between;align-items:flex-start}.interest-column[_ngcontent-%COMP%]{width:24.93vw;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start}.interest-column[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:1rem;font-family:ubuntu;font-size:1.5rem;line-height:2rem;color:#000}textarea[_ngcontent-%COMP%]{width:100%;height:17.5rem;margin:.31rem 0 2.81rem;padding:1rem;outline:none;background-color:var(--grey20);border:2px solid rgba(255,255,255,0);border-radius:4px;text-align:left;box-shadow:1px 1px 4px #dde1e5;font-family:ubuntu;font-size:1.5rem;line-height:2rem;color:#000;resize:none}textarea[_ngcontent-%COMP%]:hover{background-color:#eaeef1}textarea[_ngcontent-%COMP%]:focus{box-shadow:1px 1px 4px #a93733}.answer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:24.93vw;margin-right:2rem}.classic-and-social[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.classic[_ngcontent-%COMP%]{width:40vw;display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.classic-contact[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1rem}.classic-contact[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin-right:2rem;min-width:30px;min-height:30px;width:3.06vw;height:3.06vw;max-width:2.75rem;max-height:2.75rem}.classic-contact[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:30px;min-height:30px;width:3.06vw;height:3.06vw;max-width:2.75rem;max-height:2.75rem}.classic-contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:ubuntu;font-size:1.5rem;line-height:2rem}.social[_ngcontent-%COMP%]{display:flex;flex-direction:row}.social[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin:1vw;width:6.94vw;height:6.94vw;max-width:3.5rem;max-height:3.5rem}.social[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:6.94vw;height:6.94vw;max-width:3.5rem;max-height:3.5rem}.dsgvo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-family:ubuntu-italic;font-size:1rem;color:#000}.success[_ngcontent-%COMP%]{margin-top:.2rem;font-family:ubuntu-italic;color:green}.dsgvo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 .2rem;font-family:ubuntu-italic;font-size:1rem;color:var(--red100)}.mobile-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;line-height:2rem}.mobile-section[_ngcontent-%COMP%]   .h1-p[_ngcontent-%COMP%]{margin-bottom:.9rem}.mobile-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .mobile-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.1rem}.mobile-section[_ngcontent-%COMP%]   .h3-p[_ngcontent-%COMP%]{margin-bottom:.625rem}.mobile-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:100vw;height:3.3rem;font-size:.88rem;line-height:1.17rem;margin:.1rem 0 1rem}.mobile-section[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin:0 1rem 0 0;-webkit-appearance:none;appearance:none;width:20px;height:20px;background-color:var(--red20)}.mobile-section[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:var(--red100)}.mobile-section[_ngcontent-%COMP%]   .personal-data-entry[_ngcontent-%COMP%], .mobile-section[_ngcontent-%COMP%]   .interests-content[_ngcontent-%COMP%]{flex-direction:column}.mobile-section[_ngcontent-%COMP%]   .interest-column[_ngcontent-%COMP%]{width:100%}.mobile-section[_ngcontent-%COMP%]   .interest-column[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.88rem;line-height:1.17rem;display:flex;align-items:center}.mobile-section[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{height:9rem;margin:.2rem 0 1rem;padding:.5rem;font-size:.88rem;line-height:1.17rem}.mobile-section[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;margin-bottom:.5rem}.mobile-section[_ngcontent-%COMP%]   .answer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;font-size:1.5rem;line-height:2rem;display:flex;align-items:center;justify-content:center;margin:.2rem}.mobile-section[_ngcontent-%COMP%]   .classic-and-social[_ngcontent-%COMP%]{flex-direction:column}.mobile-section[_ngcontent-%COMP%]   .classic[_ngcontent-%COMP%]{width:100%;align-items:center}.mobile-section[_ngcontent-%COMP%]   .classic-contact[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin-right:1rem;width:1rem;height:1rem}.mobile-section[_ngcontent-%COMP%]   .classic-contact[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1rem;height:1rem}.mobile-section[_ngcontent-%COMP%]   .classic-contact[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:1rem;line-height:1.33rem}.mobile-section[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin:.2rem;width:2.5rem;height:2.5rem}.mobile-section[_ngcontent-%COMP%]   .social[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2.5rem;height:2.5rem}.mobile-section[_ngcontent-%COMP%]   .dsgvo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8rem}.mobile-section[_ngcontent-%COMP%]   .dsgvo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 .2rem;font-size:.8rem}"]}),n})(),B$=(()=>{class n{constructor(){this.mobilePortrait=!1,this.article="",this.introductionArticles=[{id:"qualis-zeugnis",pictureUrl:"../../../assets/qualis/zeugnis.jpg",sizeing:"60%",title:"Abschlusszeugnis zur Pferdewirtin",subtitle:"",text:"",expendable:!1,expand:[{id:"",title:"",text:""}]},{id:"qualis-dosb",pictureUrl:"../../../assets/qualis/dosb.jpg",sizeing:"60%",title:"DOSB-Reitsportlizenz",subtitle:"",text:"",expendable:!1,expand:[{id:"",title:"",text:""}]},{id:"qualis-ziemer",pictureUrl:"../../../assets/icons/ziemer.png",sizeing:"60%",title:"Ausbildung Hundetrainerin",subtitle:"",text:"",expendable:!1,expand:[{id:"",title:"",text:""}]},{id:"qualis-wegberg",pictureUrl:"../../../assets/qualis/wegberg.jpg",sizeing:"contain",title:"Fortbildung Locagility",subtitle:"",text:"",expendable:!1,expand:[{id:"",title:"",text:""}]},{id:"qualis-baumann",pictureUrl:"../../../assets/qualis/baumann.jpg",sizeing:"contain",title:"Praktikum Problemhunde",subtitle:"",text:"",expendable:!1,expand:[{id:"",title:"",text:""}]},{id:"qualis-baumann",pictureUrl:"../../../assets/qualis/baumann2.jpg",sizeing:"contain",title:"Workshop aggressive Hunde",subtitle:"",text:"",expendable:!1,expand:[{id:"",title:"",text:""}]}]}ngOnInit(){document.body.scrollTop=0}ngAfterViewInit(){if(this.mobilePortrait)switch(this.article){case"zeugnis":document.body.scrollTop=200;break;case"dosb":document.body.scrollTop=500;break;case"ziemer":document.body.scrollTop=800}else switch(this.article){case"zeugnis":document.body.scrollTop=500;break;case"dosb":document.body.scrollTop=800;break;case"ziemer":document.body.scrollTop=1200}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-qualis"]],inputs:{mobilePortrait:"mobilePortrait",hero:"hero",article:"article"},decls:2,vars:6,consts:[[3,"mobilePortrait","hero"],[3,"mobilePortrait","framesAvailable","introductionArticles","fadeOn"]],template:function(t,r){1&t&&l._UZ(0,"app-hero-section",0)(1,"app-trainings",1),2&t&&(l.Q6J("mobilePortrait",r.mobilePortrait)("hero",r.hero),l.xp6(1),l.Q6J("mobilePortrait",r.mobilePortrait)("framesAvailable",!1)("introductionArticles",r.introductionArticles)("fadeOn",!1))},dependencies:[bs,Zs]}),n})(),U$=(()=>{class n{constructor(){this.mobilePortrait=!1,this.introductionArticles=[{id:"stable-intro1",pictureUrl:"../../../assets/gallery/Stall/Anlage.JPG",sizeing:"cover",title:"Reitanlage in Eimersleben",subtitle:"",text:"Der Reit- und\n            Pensionsstall befindet sich in Eimersleben, nahe Helmstedt. Die Anfahrt zur\n            Reitanlage ist zentral gelegen und durch die Anbindungen an die A2 und die B1 schnell\n            erreichbar. Pferd und Reiter k\xf6nnen sich hier in ruhiger l\xe4ndlicher Umgebung mit der Natur\n            verbunden f\xfchlen und das sch\xf6ne Ausreitgel\xe4nde genie\xdfen.",expendable:!0,expand:[{id:"stable-info1",title:"Ausstattung der Anlage",text:"Die Reitanlage ist 8 ha gro\xdf und umfasst drei Stallungen mit insgesamt 23\n            Pensionsboxen. Es gibt zwei Reithallen, einen Au\xdfenplatz mit Sand und zuk\xfcnftig einen\n            Roundpen. "},{id:"stable-info1",title:"",text:"Wir bieten: Au\xdfenreitplatz 20x60 Meter, Kleine Halle 15x40 Meter, Gro\xdfe Halle 20x40 Meter mit\n            Reiterstube und bald ein gro\xdfz\xfcgiger Roundpen von 20 Metern"}]},{id:"stable-intro2",pictureUrl:"../../../assets/gallery/placeholder-icon.pngG",sizeing:"cover",title:"Unsere Mitarbeiterinnen",subtitle:"",text:"Unsere Mitarbeiterinnen sind das Herzst\xfcck unseres Stalls. Sie erteilen\n            den Reitunterricht f\xfcr Kinder auf unseren lieben Schulpferden und haben immer ein\n            offenes Ohr f\xfcr eure Anliegen. \n            Sie sind nicht nur erfahren und kompetent im Umgang mit Pferden, sondern auch stets\n            freundlich und hilfsbereit. Ihre Leidenschaft f\xfcr Pferde und Reitsport spiegelt sich in\n            ihrer t\xe4glichen Arbeit wider. Sie sorgen daf\xfcr, dass sich sowohl die Pferde als auch die\n            Reiter bei uns wohlf\xfchlen.",expendable:!1,expand:[{id:"",title:"",text:""}]}]}ngOnInit(){document.body.scrollTop=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-stable"]],inputs:{mobilePortrait:"mobilePortrait",hero:"hero"},decls:8,vars:5,consts:[[3,"mobilePortrait","hero"],[3,"mobilePortrait","framesAvailable","introductionArticles"],[1,"map-container"],["href","https://maps.app.goo.gl/AsD1F8oFr3f14M849","target","_blank",1,"hover-red","map-link"],["src","assets/icons/map-color.png","alt","Kartenicon"]],template:function(t,r){1&t&&(l._UZ(0,"app-hero-section",0)(1,"app-trainings",1),l.TgZ(2,"div",2)(3,"a",3)(4,"div")(5,"p"),l._uU(6,"Klickt hier f\xfcr die Kartenansicht auf Google Maps"),l.qZA(),l._UZ(7,"img",4),l.qZA()()()),2&t&&(l.Q6J("mobilePortrait",r.mobilePortrait)("hero",r.hero),l.xp6(1),l.Q6J("mobilePortrait",r.mobilePortrait)("framesAvailable",!1)("introductionArticles",r.introductionArticles))},dependencies:[bs,Zs],styles:[".map-link[_ngcontent-%COMP%]{display:inline-block}@media (orientation: portrait){.map-link[_ngcontent-%COMP%]{margin-top:2.5rem;margin-bottom:1rem}}"]}),n})();function H$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",6)(1,"article",7)(2,"table",8)(3,"thead")(4,"tr")(5,"th"),l._uU(6,"W\xf6chentlicher Beritt"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"Preis pro Monat"),l.qZA()()(),l.TgZ(9,"tbody")(10,"tr")(11,"td"),l._uU(12,"1X"),l.qZA(),l.TgZ(13,"td"),l._uU(14,"110\u20ac"),l.qZA()(),l.TgZ(15,"tr")(16,"td"),l._uU(17,"2X"),l.qZA(),l.TgZ(18,"td"),l._uU(19,"220\u20ac"),l.qZA()(),l.TgZ(20,"tr")(21,"td"),l._uU(22,"3X"),l.qZA(),l.TgZ(23,"td"),l._uU(24,"320\u20ac"),l.qZA()(),l.TgZ(25,"tr")(26,"td"),l._uU(27,"4X"),l.qZA(),l.TgZ(28,"td"),l._uU(29,"420\u20ac"),l.qZA()()()()(),l.TgZ(30,"figure",9),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.pricesOpen=!1)}),l.qZA()()}}const G$=[{path:"DasBinIch",component:gM},{path:"Hundegruppentraining",component:Lf},{path:"Reitunterricht",component:mM},{path:"Hundeeinzeltraining",component:KC},{path:"Reitstall",component:U$},{path:"Pension",component:(()=>{class n{constructor(){this.pricesOpen=!1,this.mobilePortrait=!1,this.introductionArticles=[{id:"pension-intro1",pictureUrl:"../../../assets/gallery/Pension/Box.JPG",sizeing:"cover",title:"Die Boxen",subtitle:"",text:"Unsere drei Stallungen sind gro\xdf, hell und freundlich und mit hohen Decken\n        ausgestattet. Die Stallgeb\xe4ude bieten zu jeder Jahreszeit ein angenehmes Klima. Die\n        Pferdeboxen sind \xfcberwiegend mit einem Au\xdfenfenster. Jeder Einsteller hat einen Spind\n        und einen Platz in der Sattelkammer. ",expendable:!1,expand:[{id:"",title:"",text:""}]},{id:"pension-intro2",pictureUrl:"../../../assets/gallery/placeholder-icon.png",sizeing:"cover",title:"F\xfctterung und Stallpflege",subtitle:"",text:"Die Pensionsboxen werden werktags gemistet. Unsere Pferde stehen auf Stroh. F\xfcr\n        Allergiepferde bieten wir Strohpellets an. Es wird morgens und abends bedarfsgerecht\n        Kraftfutter gef\xfcttert, sowie drei Mal t\xe4glich ausreichend Heu. Wir legen gro\xdfen Wert auf\n        eine bedarfsgerechte F\xfctterung und bieten hochwertiges Heu und abgestimmtes\n        Kraftfutter an. Unser geschultes Personal sorgt t\xe4glich f\xfcr die Pflege und Kontrolle der\n        Pferde, um sicherzustellen, dass jedes Tier die bestm\xf6gliche Betreuung erh\xe4lt.",expendable:!1,expand:[{id:"",title:"",text:""}]},{id:"pension-intro3",pictureUrl:"../../../assets/gallery/Pension/Weide.JPG",sizeing:"cover",title:"Auslauf und Weide",subtitle:"",text:"Die Pferde genie\xdfen t\xe4glichen Weidegang auch am Wochenende und and Feiertagen inklusive\n      Wasserversorgung von mindestens 5 Stunden auf Koppeln, die regelm\xe4\xdfig gepflegt werden. \n      Die Pferde stehen in Kleingruppen oder bei Bedarf auch in\n      Einzelhaltung. Sie werden gef\xfchrt raus- und reingebracht. Auch im Winter gibt es die\n      M\xf6glichkeit auf Freigang: Hierf\xfcr werden demn\xe4chst moderne Winterpaddocks ohne\n      Matsch errichtet. Um die Sicherheit der Pferde zu gew\xe4hrleisten, gehen wir immer\n      nachts noch eine Runde durch den Stall.",expendable:!1,expand:[{id:"",title:"",text:""}]},{id:"pension-intro4",pictureUrl:"../../../assets/gallery/placeholder-icon.png",sizeing:"cover",title:"Gemeinschaft",subtitle:"",text:"Gemeinschaft ist uns sehr wichtig, wir freuen uns daher darauf, sch\xf6ne\n        Nachmittage mit gemeinsamem Cappuccino und entspannte Abende mit euch allen zu genie\xdfen; zum Beispiel mit\n        leckerer Bratwurst, regelm\xe4\xdfigen Veranstaltungen und gemeinsamen Treffen.",expendable:!1,expand:[{id:"",title:"",text:""}]},{id:"pension-intro5",pictureUrl:"../../../assets/gallery/placeholder-icon.png",sizeing:"cover",title:"Preiswert",subtitle:"",text:"Die Kostenpauschale f\xfcr eine Box betr\xe4gt 500 Euro im Monat - Inbegriffen Kraftfutter und\n        Einstreu. Service ist ebenso die Tierarztbestellung f\xfcr gemeinschaftliche Impfungen\n        und Wurmkuren, und bei Bedarf selbstverst\xe4ndlich eine individuelle Medikamentengabe.\n        Au\xdferdem organisieren wir nach Wunsch die Bestellung unseres Hufschmiedes.",expendable:!1,expand:[{id:"",title:"",text:""}]}]}ngOnInit(){document.body.scrollTop=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-pension"]],inputs:{mobilePortrait:"mobilePortrait",hero:"hero"},decls:9,vars:7,consts:[[3,"mobilePortrait","hero"],[3,"mobilePortrait","framesAvailable","introductionArticles"],[1,"no-padding-y"],[1,"h1-p"],["buttonType","submit","buttonTitle","Berittpreise",3,"buttonDesign","click"],["class","picture-frame-description-content article-fade",4,"ngIf"],[1,"picture-frame-description-content","article-fade"],[1,"picture-frame-article"],[1,"pricing-table"],[1,"nav-close",3,"click"]],template:function(t,r){1&t&&(l._UZ(0,"app-hero-section",0)(1,"app-trainings",1),l.TgZ(2,"section",2)(3,"h4",3),l._uU(4,"Die Pferdepension ist der ideale Ort f\xfcr dein Pferd, um in einer sicheren und liebevollen Umgebung zu leben. Wir freuen uns darauf, dich und dein Pferd bei uns willkommen zu hei\xdfen."),l.qZA(),l.TgZ(5,"p",3),l._uU(6,"Solltest du einmal verhindert sein, k\xfcmmern wir uns nach Absprache selbstverst\xe4ndlich auch um die Bewegung deines Pferdes. Sprich uns einfach an!"),l.qZA(),l.TgZ(7,"app-button",4),l.NdJ("click",function(){return r.pricesOpen=!0}),l.qZA(),l.YNc(8,H$,31,0,"div",5),l.qZA()),2&t&&(l.Q6J("mobilePortrait",r.mobilePortrait)("hero",r.hero),l.xp6(1),l.Q6J("mobilePortrait",r.mobilePortrait)("framesAvailable",!1)("introductionArticles",r.introductionArticles),l.xp6(6),l.Q6J("buttonDesign","secondary"),l.xp6(1),l.Q6J("ngIf",r.pricesOpen))},dependencies:[dr,bs,Ws,Zs],styles:[".pricing-table[_ngcontent-%COMP%]{width:100%;max-width:700px;border-collapse:collaps;border-spacing:0 0;margin-bottom:20px;table-layout:fixed}.pricing-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .pricing-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:50%}.pricing-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, .pricing-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-right:1px solid #444}th[_ngcontent-%COMP%]{vertical-align:top;border-bottom:1px solid #444}@media (max-width: 600px){th[_ngcontent-%COMP%]{font-size:.9rem}.picture-frame-description-content[_ngcontent-%COMP%]{padding:1rem}}"]}),n})()},{path:"Impressum",component:wM},{path:"Galerie",component:tt},{path:"Kontakt",component:V$},{path:"Qualifikationen",component:B$}];let z$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ks,QM,up,jT,Pf.forRoot(G$,{scrollPositionRestoration:"enabled",anchorScrolling:"enabled"}),Pf]}),n})();(0,Ze.registerVersion)("firebase","9.23.0","app");const W$=(n,e)=>e.some(t=>n instanceof t);let W6,q6;const Z6=new WeakMap,RN=new WeakMap,K6=new WeakMap,FN=new WeakMap,LN=new WeakMap;let VN={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return RN.get(n);if("objectStoreNames"===e)return n.objectStoreNames||K6.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xc(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function X$(n){return"function"==typeof n?function J$(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Z$(){return q6||(q6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(BN(this),e),Xc(Z6.get(this))}:function(...e){return Xc(n.apply(BN(this),e))}:function(e,...t){const r=n.call(BN(this),e,...t);return K6.set(r,e.sort?e.sort():[e]),Xc(r)}}(n):(n instanceof IDBTransaction&&function Q$(n){if(RN.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});RN.set(n,e)}(n),W$(n,function q$(){return W6||(W6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,VN):n)}function Xc(n){if(n instanceof IDBRequest)return function K$(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Xc(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Z6.set(t,n)}).catch(()=>{}),LN.set(e,n),e}(n);if(FN.has(n))return FN.get(n);const e=X$(n);return e!==n&&(FN.set(n,e),LN.set(e,n)),e}const BN=n=>LN.get(n),tW=["get","getKey","getAll","getAllKeys","count"],nW=["put","add","delete","clear"],UN=new Map;function Q6(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(UN.get(e))return UN.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=nW.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!tW.includes(t))return;const o=function(){var u=(0,I.Z)(function*(f,...g){const _=this.transaction(f,i?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(g.shift())),(yield Promise.all([v[t](...g),i&&_.done]))[0]});return function(g){return u.apply(this,arguments)}}();return UN.set(e,o),o}!function Y$(n){VN=n(VN)}(n=>({...n,get:(e,t,r)=>Q6(e,t)||n.get(e,t,r),has:(e,t)=>!!Q6(e,t)||n.has(e,t)}));const Y6="@firebase/installations",HN="0.6.4",J6=1e4,X6=`w:${HN}`,eG="FIS_v2",rW="https://firebaseinstallations.googleapis.com/v1",iW=36e5,al=new D.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tG(n){return n instanceof D.ZR&&n.code.includes("request-failed")}function GN({projectId:n}){return`${rW}/projects/${n}/installations`}function nG(n){return{token:n.token,requestStatus:2,expiresIn:lW(n.expiresIn),creationTime:Date.now()}}function zN(n,e){return jN.apply(this,arguments)}function jN(){return jN=(0,I.Z)(function*(n,e){const r=(yield e.json()).error;return al.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}),jN.apply(this,arguments)}function rG({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function $N(n){return WN.apply(this,arguments)}function WN(){return WN=(0,I.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e}),WN.apply(this,arguments)}function lW(n){return Number(n.replace("s","000"))}function qN(){return qN=(0,I.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=GN(n),i=rG(n),o=e.getImmediate({optional:!0});if(o){const _=yield o.getHeartbeatsHeader();_&&i.append("x-firebase-client",_)}const f={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:eG,appId:n.appId,sdkVersion:X6})},g=yield $N(()=>fetch(r,f));if(g.ok){const _=yield g.json();return{fid:_.fid||t,registrationStatus:2,refreshToken:_.refreshToken,authToken:nG(_.authToken)}}throw yield zN("Create Installation",g)}),qN.apply(this,arguments)}function sG(n){return new Promise(e=>{setTimeout(e,n)})}const hW=/^[cdef][\w-]{21}$/,ZN="";function fW(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function pW(n){return function dW(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return hW.test(t)?t:ZN}catch{return ZN}}function Cg(n){return`${n.appName}!${n.appId}`}const Tg=new Map;function oG(n,e){const t=Cg(n);aG(t,e),function _W(n,e){const t=function lG(){return!oh&&"BroadcastChannel"in self&&(oh=new BroadcastChannel("[Firebase] FID Change"),oh.onmessage=n=>{aG(n.data.key,n.data.fid)}),oh}();t&&t.postMessage({key:n,fid:e}),function cG(){0===Tg.size&&oh&&(oh.close(),oh=null)}()}(t,e)}function aG(n,e){const t=Tg.get(n);if(t)for(const r of t)r(e)}let oh=null;const yW="firebase-installations-database",vW=1,ah="firebase-installations-store";let KN=null;function QN(){return KN||(KN=function eW(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),f=Xc(u);return r&&u.addEventListener("upgradeneeded",g=>{r(Xc(u.result),g.oldVersion,g.newVersion,Xc(u.transaction))}),t&&u.addEventListener("blocked",()=>t()),f.then(g=>{o&&g.addEventListener("close",()=>o()),i&&g.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}(yW,vW,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ah)}})),KN}function aS(n,e){return YN.apply(this,arguments)}function YN(){return YN=(0,I.Z)(function*(n,e){const t=Cg(n),i=(yield QN()).transaction(ah,"readwrite"),o=i.objectStore(ah),u=yield o.get(t);return yield o.put(e,t),yield i.done,(!u||u.fid!==e.fid)&&oG(n,e.fid),e}),YN.apply(this,arguments)}function JN(n){return XN.apply(this,arguments)}function XN(){return XN=(0,I.Z)(function*(n){const e=Cg(n),r=(yield QN()).transaction(ah,"readwrite");yield r.objectStore(ah).delete(e),yield r.done}),XN.apply(this,arguments)}function m0(n,e){return ek.apply(this,arguments)}function ek(){return ek=(0,I.Z)(function*(n,e){const t=Cg(n),i=(yield QN()).transaction(ah,"readwrite"),o=i.objectStore(ah),u=yield o.get(t),f=e(u);return void 0===f?yield o.delete(t):yield o.put(f,t),yield i.done,f&&(!u||u.fid!==f.fid)&&oG(n,f.fid),f}),ek.apply(this,arguments)}function tk(n){return nk.apply(this,arguments)}function nk(){return nk=(0,I.Z)(function*(n){let e;const t=yield m0(n.appConfig,r=>{const i=function bW(n){return dG(n||{fid:fW(),registrationStatus:0})}(r),o=function wW(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(al.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function CW(n,e){return rk.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:TW(n)}:{installationEntry:e}}(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===ZN?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),nk.apply(this,arguments)}function rk(){return rk=(0,I.Z)(function*(n,e){try{const t=yield function uW(n,e){return qN.apply(this,arguments)}(n,e);return aS(n.appConfig,t)}catch(t){throw tG(t)&&409===t.customData.serverCode?yield JN(n.appConfig):yield aS(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),rk.apply(this,arguments)}function TW(n){return ik.apply(this,arguments)}function ik(){return ik=(0,I.Z)(function*(n){let e=yield uG(n.appConfig);for(;1===e.registrationStatus;)yield sG(100),e=yield uG(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield tk(n);return r||t}return e}),ik.apply(this,arguments)}function uG(n){return m0(n,e=>{if(!e)throw al.create("installation-not-found");return dG(e)})}function dG(n){return function EW(n){return 1===n.registrationStatus&&n.registrationTime+J6<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function sk(){return sk=(0,I.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function SW(n,{fid:e}){return`${GN(n)}/${e}/authTokens:generate`}(n,t),i=function iG(n,{refreshToken:e}){const t=rG(n);return t.append("Authorization",function cW(n){return`${eG} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const _=yield o.getHeartbeatsHeader();_&&i.append("x-firebase-client",_)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:X6,appId:n.appId}})},g=yield $N(()=>fetch(r,f));if(g.ok)return nG(yield g.json());throw yield zN("Generate Auth Token",g)}),sk.apply(this,arguments)}function ok(n){return ak.apply(this,arguments)}function ak(){return ak=(0,I.Z)(function*(n,e=!1){let t;const r=yield m0(n.appConfig,o=>{if(!fG(o))throw al.create("not-registered");const u=o.authToken;if(!e&&function MW(n){return 2===n.requestStatus&&!function PW(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+iW}(n)}(u))return o;if(1===u.requestStatus)return t=function AW(n,e){return lk.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw al.create("app-offline");const f=function xW(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function DW(n,e){return ck.apply(this,arguments)}(n,f),f}});return t?yield t:r.authToken}),ak.apply(this,arguments)}function lk(){return lk=(0,I.Z)(function*(n,e){let t=yield hG(n.appConfig);for(;1===t.authToken.requestStatus;)yield sG(100),t=yield hG(n.appConfig);const r=t.authToken;return 0===r.requestStatus?ok(n,e):r}),lk.apply(this,arguments)}function hG(n){return m0(n,e=>{if(!fG(e))throw al.create("not-registered");return function OW(n){return 1===n.requestStatus&&n.requestTime+J6<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function ck(){return ck=(0,I.Z)(function*(n,e){try{const t=yield function IW(n,e){return sk.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield aS(n.appConfig,r),t}catch(t){if(!tG(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield aS(n.appConfig,r)}else yield JN(n.appConfig);throw t}}),ck.apply(this,arguments)}function fG(n){return void 0!==n&&2===n.registrationStatus}function uk(){return uk=(0,I.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield tk(e);return r?r.catch(console.error):ok(e).catch(console.error),t.fid}),uk.apply(this,arguments)}function dk(){return dk=(0,I.Z)(function*(n,e=!1){const t=n;return yield function RW(n){return hk.apply(this,arguments)}(t),(yield ok(t,e)).token}),dk.apply(this,arguments)}function hk(){return hk=(0,I.Z)(function*(n){const{registrationPromise:e}=yield tk(n);e&&(yield e)}),hk.apply(this,arguments)}function gk(n){return al.create("missing-app-config-values",{valueName:n})}const pG="installations",UW=n=>{const e=n.getProvider("app").getImmediate(),t=function VW(n){if(!n||!n.options)throw gk("App Configuration");if(!n.name)throw gk("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw gk(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Ze._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},HW=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Ze._getProvider)(e,pG).getImmediate();return{getId:()=>function NW(n){return uk.apply(this,arguments)}(t),getToken:i=>function kW(n){return dk.apply(this,arguments)}(t,i)}};(function GW(){(0,Ze._registerComponent)(new _r.wA(pG,UW,"PUBLIC")),(0,Ze._registerComponent)(new _r.wA("installations-internal",HW,"PRIVATE"))})(),(0,Ze.registerVersion)(Y6,HN),(0,Ze.registerVersion)(Y6,HN,"esm2017");const mk="@firebase/remote-config",Vi=new D.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class XW{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,I.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),u=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&u.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(u),o})()}}function eq(n=navigator){return n.languages&&n.languages[0]||n.language}class tq{constructor(e,t,r,i,o,u){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=u}fetch(e){var t=this;return(0,I.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),u=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},g={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:eq()},_={method:"POST",headers:f,body:JSON.stringify(g)},v=fetch(u,_),w=new Promise((Te,He)=>{e.signal.addEventListener(()=>{const Ne=new Error("The operation was aborted.");Ne.name="AbortError",He(Ne)})});let E;try{yield Promise.race([v,w]),E=yield v}catch(Te){let He="fetch-client-network";throw"AbortError"===Te?.name&&(He="fetch-timeout"),Vi.create(He,{originalErrorMessage:Te?.message})}let A=E.status;const k=E.headers.get("ETag")||void 0;let z,Z;if(200===E.status){let Te;try{Te=yield E.json()}catch(He){throw Vi.create("fetch-client-parse",{originalErrorMessage:He?.message})}z=Te.entries,Z=Te.state}if("INSTANCE_STATE_UNSPECIFIED"===Z?A=500:"NO_CHANGE"===Z?A=304:("NO_TEMPLATE"===Z||"EMPTY_CONFIG"===Z)&&(z={}),304!==A&&200!==A)throw Vi.create("fetch-status",{httpStatus:A});return{status:A,eTag:k,config:z}})()}}class iq{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,I.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,I.Z)(function*(){yield function nq(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Vi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const o=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function rq(n){if(!(n instanceof D.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(o))throw o;const u={throttleEndTimeMillis:Date.now()+(0,D.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(u),i.attemptFetch(e,u)}})()}}class aq{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function cS(n,e){const t=n.target.error||void 0;return Vi.create(e,{originalErrorMessage:t&&t?.message})}const lh="app_namespace_store";class dq{constructor(e,t,r,i=function uq(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(cS(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(lh,{keyPath:"compositeKey"})}}catch(t){e(Vi.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,I.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const f=r.transaction([lh],"readonly").objectStore(lh),g=t.createCompositeKey(e);try{const _=f.get(g);_.onerror=v=>{o(cS(v,"storage-get"))},_.onsuccess=v=>{const w=v.target.result;i(w?w.value:void 0)}}catch(_){o(Vi.create("storage-get",{originalErrorMessage:_?.message}))}})})()}set(e,t){var r=this;return(0,I.Z)(function*(){const i=yield r.openDbPromise;return new Promise((o,u)=>{const g=i.transaction([lh],"readwrite").objectStore(lh),_=r.createCompositeKey(e);try{const v=g.put({compositeKey:_,value:t});v.onerror=w=>{u(cS(w,"storage-set"))},v.onsuccess=()=>{o()}}catch(v){u(Vi.create("storage-set",{originalErrorMessage:v?.message}))}})})()}delete(e){var t=this;return(0,I.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const f=r.transaction([lh],"readwrite").objectStore(lh),g=t.createCompositeKey(e);try{const _=f.delete(g);_.onerror=v=>{o(cS(v,"storage-delete"))},_.onsuccess=()=>{i()}}catch(_){o(Vi.create("storage-delete",{originalErrorMessage:_?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class hq{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,I.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const u=yield r;u&&(e.lastSuccessfulFetchTimestampMillis=u);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function pq(){return wk.apply(this,arguments)}function wk(){return(wk=(0,I.Z)(function*(){if(!(0,D.hl)())return!1;try{return yield(0,D.eu)()}catch{return!1}})).apply(this,arguments)}!function fq(){(0,Ze._registerComponent)(new _r.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Vi.create("registration-window");if(!(0,D.hl)())throw Vi.create("indexed-db-unavailable");const{projectId:o,apiKey:u,appId:f}=r.options;if(!o)throw Vi.create("registration-project-id");if(!u)throw Vi.create("registration-api-key");if(!f)throw Vi.create("registration-app-id");const g=new dq(f,r.name,t=t||"firebase"),_=new hq(g),v=new Kn.Yd(mk);v.logLevel=Kn.in.ERROR;const w=new tq(i,Ze.SDK_VERSION,t,o,u,f),E=new iq(w,g),A=new XW(E,g,_,v),k=new aq(r,A,_,g,v);return function QW(n){const e=(0,D.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(k),k},"PUBLIC").setMultipleInstances(!0)),(0,Ze.registerVersion)(mk,"0.4.4"),(0,Ze.registerVersion)(mk,"0.4.4","esm2017")}();const gq=(n,e)=>e.some(t=>n instanceof t);let yG,vG;const bG=new WeakMap,Ck=new WeakMap,wG=new WeakMap,Tk=new WeakMap,Ek=new WeakMap;let Ik={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Ck.get(n);if("objectStoreNames"===e)return n.objectStoreNames||wG.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ll(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Cq(n){return"function"==typeof n?function wq(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _q(){return vG||(vG=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Sk(this),e),ll(bG.get(this))}:function(...e){return ll(n.apply(Sk(this),e))}:function(e,...t){const r=n.call(Sk(this),e,...t);return wG.set(r,e.sort?e.sort():[e]),ll(r)}}(n):(n instanceof IDBTransaction&&function vq(n){if(Ck.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Ck.set(n,e)}(n),gq(n,function mq(){return yG||(yG=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ik):n)}function ll(n){if(n instanceof IDBRequest)return function yq(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(ll(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&bG.set(t,n)}).catch(()=>{}),Ek.set(e,n),e}(n);if(Tk.has(n))return Tk.get(n);const e=Cq(n);return e!==n&&(Tk.set(n,e),Ek.set(e,n)),e}const Sk=n=>Ek.get(n);function CG(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),f=ll(u);return r&&u.addEventListener("upgradeneeded",g=>{r(ll(u.result),g.oldVersion,g.newVersion,ll(u.transaction))}),t&&u.addEventListener("blocked",()=>t()),f.then(g=>{o&&g.addEventListener("close",()=>o()),i&&g.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function Ak(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),ll(t).then(()=>{})}const Tq=["get","getKey","getAll","getAllKeys","count"],Eq=["put","add","delete","clear"],Dk=new Map;function TG(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Dk.get(e))return Dk.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Eq.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Tq.includes(t))return;const o=function(){var u=(0,I.Z)(function*(f,...g){const _=this.transaction(f,i?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(g.shift())),(yield Promise.all([v[t](...g),i&&_.done]))[0]});return function(g){return u.apply(this,arguments)}}();return Dk.set(e,o),o}!function bq(n){Ik=n(Ik)}(n=>({...n,get:(e,t,r)=>TG(e,t)||n.get(e,t,r),has:(e,t)=>!!TG(e,t)||n.has(e,t)}));const Iq="/firebase-messaging-sw.js",Sq="/firebase-cloud-messaging-push-scope",EG="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Aq="https://fcmregistrations.googleapis.com/v1",IG="google.c.a.c_id",Dq="google.c.a.c_l",Mq="google.c.a.ts";var eu=(()=>((eu=eu||{}).PUSH_RECEIVED="push-received",eu.NOTIFICATION_CLICKED="notification-clicked",eu))();function cl(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xq(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const Mk="fcm_token_details_db",Oq=5,SG="fcm_token_object_Store";function Pk(){return Pk=(0,I.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(Mk))return null;let e=null;return(yield CG(Mk,Oq,{upgrade:(r=(0,I.Z)(function*(i,o,u,f){var g;if(o<2||!i.objectStoreNames.contains(SG))return;const _=f.objectStore(SG),v=yield _.index("fcmSenderId").get(n);if(yield _.clear(),v)if(2===o){const w=v;if(!w.auth||!w.p256dh||!w.endpoint)return;e={token:w.fcmToken,createTime:null!==(g=w.createTime)&&void 0!==g?g:Date.now(),subscriptionOptions:{auth:w.auth,p256dh:w.p256dh,endpoint:w.endpoint,swScope:w.swScope,vapidKey:"string"==typeof w.vapidKey?w.vapidKey:cl(w.vapidKey)}}}else if(3===o){const w=v;e={token:w.fcmToken,createTime:w.createTime,subscriptionOptions:{auth:cl(w.auth),p256dh:cl(w.p256dh),endpoint:w.endpoint,swScope:w.swScope,vapidKey:cl(w.vapidKey)}}}else if(4===o){const w=v;e={token:w.fcmToken,createTime:w.createTime,subscriptionOptions:{auth:cl(w.auth),p256dh:cl(w.p256dh),endpoint:w.endpoint,swScope:w.swScope,vapidKey:cl(w.vapidKey)}}}}),function(o,u,f,g){return r.apply(this,arguments)})})).close(),yield Ak(Mk),yield Ak("fcm_vapid_details_db"),yield Ak("undefined"),function kq(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Pk.apply(this,arguments)}const Rq="firebase-messaging-database",Fq=1,ch="firebase-messaging-store";let xk=null;function Ok(){return xk||(xk=CG(Rq,Fq,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ch)}})),xk}function AG(n){return Nk.apply(this,arguments)}function Nk(){return Nk=(0,I.Z)(function*(n){const e=Lk(n),r=yield(yield Ok()).transaction(ch).objectStore(ch).get(e);if(r)return r;{const i=yield function Nq(n){return Pk.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield kk(n,i),i}}),Nk.apply(this,arguments)}function kk(n,e){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,I.Z)(function*(n,e){const t=Lk(n),i=(yield Ok()).transaction(ch,"readwrite");return yield i.objectStore(ch).put(e,t),yield i.done,e}),Rk.apply(this,arguments)}function Fk(){return Fk=(0,I.Z)(function*(n){const e=Lk(n),r=(yield Ok()).transaction(ch,"readwrite");yield r.objectStore(ch).delete(e),yield r.done}),Fk.apply(this,arguments)}function Lk({appConfig:n}){return n.appId}const Hr=new D.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bq(n,e){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,I.Z)(function*(n,e){const t=yield Gk(n),r=MG(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(Hk(n.appConfig),i)).json()}catch(u){throw Hr.create("token-subscribe-failed",{errorInfo:u?.toString()})}if(o.error)throw Hr.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Hr.create("token-subscribe-no-token");return o.token}),Vk.apply(this,arguments)}function Bk(){return Bk=(0,I.Z)(function*(n,e){const t=yield Gk(n),r=MG(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${Hk(n.appConfig)}/${e.token}`,i)).json()}catch(u){throw Hr.create("token-update-failed",{errorInfo:u?.toString()})}if(o.error)throw Hr.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Hr.create("token-update-no-token");return o.token}),Bk.apply(this,arguments)}function DG(n,e){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,I.Z)(function*(n,e){const r={method:"DELETE",headers:yield Gk(n)};try{const o=yield(yield fetch(`${Hk(n.appConfig)}/${e}`,r)).json();if(o.error)throw Hr.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Hr.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}}),Uk.apply(this,arguments)}function Hk({projectId:n}){return`${Aq}/projects/${n}/registrations`}function Gk(n){return zk.apply(this,arguments)}function zk(){return zk=(0,I.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}),zk.apply(this,arguments)}function MG({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==EG&&(i.web.applicationPubKey=r),i}const Hq=6048e5;function jk(){return jk=(0,I.Z)(function*(n){const e=yield function jq(n,e){return Zk.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:cl(e.getKey("auth")),p256dh:cl(e.getKey("p256dh"))},r=yield AG(n.firebaseDependencies);if(r){if(function $q(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Hq?function zq(n,e){return Wk.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield DG(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return xG(n.firebaseDependencies,t)}return xG(n.firebaseDependencies,t)}),jk.apply(this,arguments)}function $k(){return $k=(0,I.Z)(function*(n){const e=yield AG(n.firebaseDependencies);e&&(yield DG(n.firebaseDependencies,e.token),yield function Lq(n){return Fk.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),$k.apply(this,arguments)}function Wk(){return Wk=(0,I.Z)(function*(n,e){try{const t=yield function Uq(n,e){return Bk.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield kk(n.firebaseDependencies,r),t}catch(t){throw yield function PG(n){return $k.apply(this,arguments)}(n),t}}),Wk.apply(this,arguments)}function xG(n,e){return qk.apply(this,arguments)}function qk(){return qk=(0,I.Z)(function*(n,e){const r={token:yield Bq(n,e),createTime:Date.now(),subscriptionOptions:e};return yield kk(n,r),r.token}),qk.apply(this,arguments)}function Zk(){return Zk=(0,I.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xq(e)})}),Zk.apply(this,arguments)}function OG(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Wq(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function qq(n,e){e.data&&(n.data=e.data)}(e,n),function Zq(n,e){var t,r,i,o,u;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;f&&(n.fcmOptions.link=f);const g=null===(u=e.fcmOptions)||void 0===u?void 0:u.analytics_label;g&&(n.fcmOptions.analyticsLabel=g)}(e,n),e}function NG(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function Kk(n){return Hr.create("missing-app-config-values",{valueName:n})}NG("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),NG("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yq{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Qq(n){if(!n||!n.options)throw Kk("App Configuration Object");if(!n.name)throw Kk("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Kk(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Qk(){return Qk=(0,I.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Iq,{scope:Sq}),n.swRegistration.update().catch(()=>{})}catch(e){throw Hr.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}),Qk.apply(this,arguments)}function Yk(){return Yk=(0,I.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield function kG(n){return Qk.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Hr.create("invalid-sw-registration");n.swRegistration=e}}),Yk.apply(this,arguments)}function Jk(){return Jk=(0,I.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=EG)}),Jk.apply(this,arguments)}function Xk(){return Xk=(0,I.Z)(function*(n,e){if(!navigator)throw Hr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hr.create("permission-blocked");return yield function Xq(n,e){return Jk.apply(this,arguments)}(n,e?.vapidKey),yield function Jq(n,e){return Yk.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function Gq(n){return jk.apply(this,arguments)}(n)}),Xk.apply(this,arguments)}function eR(){return eR=(0,I.Z)(function*(n,e,t){const r=function tZ(n){switch(n){case eu.NOTIFICATION_CLICKED:return"notification_open";case eu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[IG],message_name:t[Dq],message_time:t[Mq],message_device_time:Math.floor(Date.now()/1e3)})}),eR.apply(this,arguments)}function tR(){return tR=(0,I.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===eu.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(OG(t)):n.onMessageHandler.next(OG(t)));const r=t.data;(function Kq(n){return"object"==typeof n&&!!n&&IG in n})(r)&&"1"===r["google.c.a.e"]&&(yield function eZ(n,e,t){return eR.apply(this,arguments)}(n,t.messageType,r))}),tR.apply(this,arguments)}const FG="@firebase/messaging",rZ=n=>{const e=new Yq(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function nZ(n,e){return tR.apply(this,arguments)}(e,t)),e},iZ=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function RG(n,e){return Xk.apply(this,arguments)}(e,r)}};function VG(){return nR.apply(this,arguments)}function nR(){return(nR=(0,I.Z)(function*(){try{yield(0,D.eu)()}catch{return!1}return typeof window<"u"&&(0,D.hl)()&&(0,D.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function sZ(){(0,Ze._registerComponent)(new _r.wA("messaging",rZ,"PUBLIC")),(0,Ze._registerComponent)(new _r.wA("messaging-internal",iZ,"PRIVATE")),(0,Ze.registerVersion)(FG,"0.12.4"),(0,Ze.registerVersion)(FG,"0.12.4","esm2017")}();const uS="analytics",lZ="firebase_id",cZ="origin",uZ=6e4,dZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sR="https://www.googletagmanager.com/gtag/js",Tr=new Kn.Yd("@firebase/analytics"),vi=new D.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function fZ(n){if(!n.startsWith(sR)){const e=vi.create("invalid-gtag-resource",{gtagURL:n});return Tr.warn(e.message),""}return n}function BG(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function oR(){return oR=(0,I.Z)(function*(n,e,t,r,i,o){const u=r[i];try{if(u)yield e[u];else{const g=(yield BG(t)).find(_=>_.measurementId===i);g&&(yield e[g.appId])}}catch(f){Tr.error(f)}n("config",i,o)}),oR.apply(this,arguments)}function aR(){return aR=(0,I.Z)(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let u=i.send_to;Array.isArray(u)||(u=[u]);const f=yield BG(t);for(const g of u){const _=f.find(w=>w.measurementId===g),v=_&&e[_.appId];if(!v){o=[];break}o.push(v)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){Tr.error(o)}}),aR.apply(this,arguments)}const CZ=30,UG=new class EZ{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function IZ(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function lR(){return lR=(0,I.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:IZ(r)},o=dZ.replace("{app-id}",t),u=yield fetch(o,i);if(200!==u.status&&304!==u.status){let f="";try{const g=yield u.json();null!==(e=g.error)&&void 0!==e&&e.message&&(f=g.error.message)}catch{}throw vi.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}),lR.apply(this,arguments)}function cR(){return cR=(0,I.Z)(function*(n,e=UG,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw vi.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw vi.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new PZ;return setTimeout((0,I.Z)(function*(){f.abort()}),void 0!==t?t:uZ),HG({appId:r,apiKey:i,measurementId:o},u,f,e)}),cR.apply(this,arguments)}function HG(n,e,t){return uR.apply(this,arguments)}function uR(){return uR=(0,I.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=UG){var o;const{appId:u,measurementId:f}=n;try{yield function DZ(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(vi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(g){if(f)return Tr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:u,measurementId:f};throw g}try{const g=yield function SZ(n){return lR.apply(this,arguments)}(n);return i.deleteThrottleMetadata(u),g}catch(g){const _=g;if(!function MZ(n){if(!(n instanceof D.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(_)){if(i.deleteThrottleMetadata(u),f)return Tr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:u,measurementId:f};throw g}const v=503===Number(null===(o=_?.customData)||void 0===o?void 0:o.httpStatus)?(0,D.$s)(t,i.intervalMillis,CZ):(0,D.$s)(t,i.intervalMillis),w={throttleEndTimeMillis:Date.now()+v,backoffCount:t+1};return i.setThrottleMetadata(u,w),Tr.debug(`Calling attemptFetch again in ${v} millis`),HG(n,w,r,i)}}),uR.apply(this,arguments)}class PZ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let dR,yR;function hR(){return hR=(0,I.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}}),hR.apply(this,arguments)}function vR(){return vR=(0,I.Z)(function*(){if(!(0,D.hl)())return Tr.warn(vi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,D.eu)()}catch(n){return Tr.warn(vi.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0}),vR.apply(this,arguments)}function bR(){return bR=(0,I.Z)(function*(n,e,t,r,i,o,u){var f;const g=function AZ(n){return cR.apply(this,arguments)}(n);g.then(A=>{t[A.measurementId]=A.appId,n.options.measurementId&&A.measurementId!==n.options.measurementId&&Tr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>Tr.error(A)),e.push(g);const _=function LZ(){return vR.apply(this,arguments)}().then(A=>{if(A)return r.getId()}),[v,w]=yield Promise.all([g,_]);(function wZ(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(sR)&&t.src.includes(n))return t;return null})(o)||function gZ(n,e){const t=function pZ(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:fZ}),r=document.createElement("script"),i=`${sR}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,v.measurementId),yR&&(i("consent","default",yR),function GG(n){yR=n}(void 0)),i("js",new Date);const E=null!==(f=u?.config)&&void 0!==f?f:{};return E[cZ]="firebase",E.update=!0,null!=w&&(E[lZ]=w),i("config",v.measurementId,E),dR&&(i("set",dR),function zG(n){dR=n}(void 0)),v.measurementId}),bR.apply(this,arguments)}class BZ{constructor(e){this.app=e}_delete(){return delete Uo[this.app.options.appId],Promise.resolve()}}let Uo={},jG=[];const $G={};let qG,Ho,dS="dataLayer",wR=!1;function HZ(n,e,t){!function UZ(){const n=[];if((0,D.ru)()&&n.push("This is a browser extension environment."),(0,D.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=vi.create("invalid-analytics-context",{errorInfo:e});Tr.warn(t.message)}}();const r=n.options.appId;if(!r)throw vi.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw vi.create("no-api-key");Tr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Uo[r])throw vi.create("already-exists",{id:r});if(!wR){!function mZ(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(dS);const{wrappedGtag:o,gtagCore:u}=function bZ(n,e,t,r,i){let o=function(...u){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function vZ(n,e,t,r){function o(){return o=(0,I.Z)(function*(u,...f){try{if("event"===u){const[g,_]=f;yield function yZ(n,e,t,r,i){return aR.apply(this,arguments)}(n,e,t,g,_)}else if("config"===u){const[g,_]=f;yield function _Z(n,e,t,r,i,o){return oR.apply(this,arguments)}(n,e,t,r,g,_)}else if("consent"===u){const[g]=f;n("consent","update",g)}else if("get"===u){const[g,_,v]=f;n("get",g,_,v)}else if("set"===u){const[g]=f;n("set",g)}else n(u,...f)}catch(g){Tr.error(g)}}),o.apply(this,arguments)}return function i(u){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(Uo,jG,$G,dS,"gtag");Ho=o,qG=u,wR=!0}return Uo[r]=function VZ(n,e,t,r,i,o,u){return bR.apply(this,arguments)}(n,jG,$G,e,qG,dS,t),new BZ(n)}function zZ(){return CR.apply(this,arguments)}function CR(){return(CR=(0,I.Z)(function*(){if((0,D.ru)()||!(0,D.zI)()||!(0,D.hl)())return!1;try{return yield(0,D.eu)()}catch{return!1}})).apply(this,arguments)}const ZG="@firebase/analytics";!function $Z(){(0,Ze._registerComponent)(new _r.wA(uS,(e,{options:t})=>HZ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Ze._registerComponent)(new _r.wA("analytics-internal",function n(e){try{const t=e.getProvider(uS).getImmediate();return{logEvent:(r,i,o)=>function jZ(n,e,t,r){n=(0,D.m9)(n),function xZ(n,e,t,r,i){return hR.apply(this,arguments)}(Ho,Uo[n.app.options.appId],e,t,r).catch(i=>Tr.error(i))}(t,r,i,o)}}catch(t){throw vi.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Ze.registerVersion)(ZG,"0.10.0"),(0,Ze.registerVersion)(ZG,"0.10.0","esm2017")}();const ZZ=new class qZ extends wm{}(class WZ extends Gh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}});var QG=M(5137),YG=M(3093);const _0=new l.GfV("7.6.1"),ER="__angularfire_symbol__analyticsIsSupportedValue",IR="__angularfire_symbol__analyticsIsSupported",SR="__angularfire_symbol__remoteConfigIsSupportedValue",AR="__angularfire_symbol__remoteConfigIsSupported",DR="__angularfire_symbol__messagingIsSupportedValue",MR="__angularfire_symbol__messagingIsSupported";function hS(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(u=>u.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[IR]||(globalThis[IR]=zZ().then(n=>globalThis[ER]=n).catch(()=>globalThis[ER]=!1)),globalThis[MR]||(globalThis[MR]=VG().then(n=>globalThis[DR]=n).catch(()=>globalThis[DR]=!1)),globalThis[AR]||(globalThis[AR]=pq().then(n=>globalThis[SR]=n).catch(()=>globalThis[SR]=!1));const fS=(n,e)=>{const t=e?[e]:(0,Ze.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(u=>{r.includes(u)||r.push(u)})}),r};function Eg(){}class JG{constructor(e,t=ZZ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(u){i.runGuarded(()=>{e.apply(this,[u])})},t,r)}}class KZ{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eg,{},Eg,Eg)),t.pipe(gr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pS=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new JG(Zone.current)),this.insideAngular=t.run(()=>new JG(Zone.current,Cm)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uh(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function dh(n){return uh().ngZone.run(()=>n())}function YZ(n){return uh(),function JZ(n){return function(t){return(t=t.lift(new KZ(n.ngZone))).pipe((0,QG.R)(n.outsideAngular),(0,YG.Q)(n.insideAngular))}}(uh())(n)}const XZ=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),dh(()=>n.apply(void 0,r))},gS=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=dh(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eg,{},Eg,Eg)))),r[o]=XZ(r[o],t));const i=function QZ(n){return uh().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Kr.y){const o=uh();return i.pipe((0,QG.R)(o.outsideAngular),(0,YG.Q)(o.insideAngular))}return dh(()=>i)}return i instanceof Kr.y?i.pipe(YZ):i instanceof Promise?dh(()=>new Promise((o,u)=>i.then(f=>dh(()=>o(f)),f=>dh(()=>u(f))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:dh(()=>i)};class hh{constructor(e){return e}}class mS{constructor(){return(0,Ze.getApps)()}}const xR=new l.OlP("angularfire2._apps"),tK={provide:hh,useFactory:function eK(n){return n&&1===n.length?n[0]:new hh((0,Ze.getApp)())},deps:[[new l.FiY,xR]]},nK={provide:mS,deps:[[new l.FiY,xR]]};function rK(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new hh(r)}}let iK=(()=>{class n{constructor(t){(0,Ze.registerVersion)("angularfire",_0.full,"core"),(0,Ze.registerVersion)("angularfire",_0.full,"app"),(0,Ze.registerVersion)("angular",l.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[tK,nK]}),n})();function sK(n,...e){return{ngModule:iK,providers:[{provide:xR,useFactory:rK(n),multi:!0,deps:[l.R0b,l.zs3,pS,...e]}]}}const oK=gS(Ze.initializeApp,!0),OR=new Map,XG={activated:!1,tokenObservers:[]},aK={initialized:!1,enabled:!1};function Rn(n){return OR.get(n)||Object.assign({},XG)}function _S(){return aK}const NR="https://content-firebaseappcheck.googleapis.com/v1",dK="exchangeDebugToken",e5={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class fK{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,I.Z)(function*(){t.stop();try{t.pending=new D.BH,yield function pK(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new D.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Gr=new D.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kR(n){if(!Rn(n).activated)throw Gr.create("use-before-activation",{appName:n.name})}function bS(n,e){return FR.apply(this,arguments)}function FR(){return FR=(0,I.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const w=yield i.getHeartbeatsHeader();w&&(r["X-Firebase-Client"]=w)}const o={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,o)}catch(w){throw Gr.create("fetch-network-error",{originalErrorMessage:w?.message})}if(200!==u.status)throw Gr.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(w){throw Gr.create("fetch-parse-error",{originalErrorMessage:w?.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const _=1e3*Number(g[1]),v=Date.now();return{token:f.token,expireTimeMillis:v+_,issuedAtTimeMillis:v}}),FR.apply(this,arguments)}function t5(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${NR}/projects/${t}/apps/${r}:${dK}?key=${i}`,body:{debug_token:e}}}const yK="firebase-app-check-database",vK=1,y0="firebase-app-check-store";let wS=null;function LR(){return LR=(0,I.Z)(function*(n,e){const r=(yield function r5(){return wS||(wS=new Promise((n,e)=>{try{const t=indexedDB.open(yK,vK);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Gr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(y0,{keyPath:"compositeKey"})}}catch(t){e(Gr.create("storage-open",{originalErrorMessage:t?.message}))}}),wS)}()).transaction(y0,"readwrite"),o=r.objectStore(y0).put({compositeKey:n,value:e});return new Promise((u,f)=>{o.onsuccess=g=>{u()},r.onerror=g=>{var _;f(Gr.create("storage-set",{originalErrorMessage:null===(_=g.target.error)||void 0===_?void 0:_.message}))}})}),LR.apply(this,arguments)}const v0=new Kn.Yd("@firebase/app-check");function UR(n,e){return(0,D.hl)()?function wK(n,e){return function i5(n,e){return LR.apply(this,arguments)}(function o5(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{v0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function GR(){return _S().enabled}function zR(){return jR.apply(this,arguments)}function jR(){return jR=(0,I.Z)(function*(){const n=_S();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),jR.apply(this,arguments)}const AK={error:"UNKNOWN_ERROR"};function DK(n){return D.US.encodeString(JSON.stringify(n),!1)}function CS(n){return $R.apply(this,arguments)}function $R(){return $R=(0,I.Z)(function*(n,e=!1){const t=n.app;kR(t);const r=Rn(t);let o,i=r.token;if(i&&!Ig(i)&&(r.token=void 0,i=void 0),!i){const g=yield r.cachedTokenPromise;g&&(Ig(g)?i=g:yield UR(t,void 0))}if(!e&&i&&Ig(i))return{token:i.token};let f,u=!1;if(GR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=bS(t5(t,yield zR()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const g=yield r.exchangeTokenPromise;return yield UR(t,g),r.token=g,{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield Rn(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?v0.warn(g.message):v0.error(g),o=g}return i?o?f=Ig(i)?{token:i.token,internalError:o}:u5(o):(f={token:i.token},r.token=i,yield UR(t,i)):f=u5(o),u&&function c5(n,e){const t=Rn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f}),$R.apply(this,arguments)}function WR(){return WR=(0,I.Z)(function*(n){const e=n.app;kR(e);const{provider:t}=Rn(e);if(GR()){const r=yield zR(),{token:i}=yield bS(t5(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),WR.apply(this,arguments)}function ZR(n,e){const t=Rn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function l5(n){const{app:e}=n,t=Rn(e);let r=t.tokenRefresher;r||(r=function MK(n){const{app:e}=n;return new fK((0,I.Z)(function*(){let r;if(r=Rn(e).token?yield CS(n,!0):yield CS(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Rn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},e5.RETRIAL_MIN_WAIT,e5.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ig(n){return n.expireTimeMillis-Date.now()>0}function u5(n){return{token:DK(AK),error:n}}class PK{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Rn(this.app);for(const t of e)ZR(this.app,t.next);return Promise.resolve()}}const y5="app-check-internal";!function jK(){(0,Ze._registerComponent)(new _r.wA("app-check",n=>function xK(n,e){return new PK(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(y5).initialize()})),(0,Ze._registerComponent)(new _r.wA(y5,n=>function OK(n){return{getToken:e=>CS(n,e),getLimitedUseToken:()=>function a5(n){return WR.apply(this,arguments)}(n),addTokenListener:e=>function qR(n,e,t,r){const{app:i}=n,o=Rn(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&Ig(o.token)){const f=o.token;Promise.resolve().then(()=>{t({token:f.token}),l5(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>l5(n))}(n,"INTERNAL",e),removeTokenListener:e=>ZR(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ze.registerVersion)("@firebase/app-check","0.8.0")}();class ES{constructor(){return fS("app-check")}}typeof window<"u"&&window;var b5=M(7582);const KK=function w5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},C5=new D.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),IS=new Kn.Yd("@firebase/auth");function SS(n,...e){IS.logLevel<=Kn.in.ERROR&&IS.error(`Auth (${Ze.SDK_VERSION}): ${n}`,...e)}function Bi(n,...e){throw XR(n,...e)}function Go(n,...e){return XR(n,...e)}function XR(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return C5.create(n,...e)}function Me(n,e,...t){if(!n)throw XR(e,...t)}function zo(n){const e="INTERNAL ASSERTION FAILED: "+n;throw SS(e),new Error(e)}function tu(n,e){n||zo(e)}function b0(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function E5(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class w0{constructor(e,t){this.shortDelay=e,this.longDelay=t,tu(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,D.uI)()||(0,D.b$)()}get(){return function YK(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function e2(){return"http:"===E5()||"https:"===E5()}()||(0,D.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function t2(n,e){tu(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class I5{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void zo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void zo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void zo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},eQ=new w0(3e4,6e4);function An(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Fn(n,e,t,r){return n2.apply(this,arguments)}function n2(){return n2=(0,I.Z)(function*(n,e,t,r,i={}){return S5(n,i,(0,I.Z)(function*(){let o={},u={};r&&("GET"===e?u=r:o={body:JSON.stringify(r)});const f=(0,D.xO)(Object.assign({key:n.config.apiKey},u)).slice(1),g=yield n._getAdditionalHeaders();return g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode),I5.fetch()(A5(n,n.config.apiHost,t,f),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},o))}))}),n2.apply(this,arguments)}function S5(n,e,t){return r2.apply(this,arguments)}function r2(){return r2=(0,I.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},XK),e);try{const i=new tQ(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=yield o.json();if("needConfirmation"in u)throw C0(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[g,_]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===g)throw C0(n,"credential-already-in-use",u);if("EMAIL_EXISTS"===g)throw C0(n,"email-already-in-use",u);if("USER_DISABLED"===g)throw C0(n,"user-disabled",u);const v=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw function T5(n,e,t){const r=Object.assign(Object.assign({},KK()),{[e]:t});return new D.LL("auth","Firebase",r).create(e,{appName:n.name})}(n,v,_);Bi(n,v)}}catch(i){if(i instanceof D.ZR)throw i;Bi(n,"network-request-failed",{message:String(i)})}}),r2.apply(this,arguments)}function i2(){return i2=(0,I.Z)(function*(n,e,t,r,i={}){const o=yield Fn(n,e,t,r,i);return"mfaPendingCredential"in o&&Bi(n,"multi-factor-auth-required",{_serverResponse:o}),o}),i2.apply(this,arguments)}function A5(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?t2(n.config,i):`${n.config.apiScheme}://${i}`}class tQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Go(this.auth,"network-request-failed")),eQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function C0(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Go(n,e,r);return i.customData._tokenResponse=t,i}function s2(){return s2=(0,I.Z)(function*(n,e){return Fn(n,"POST","/v1/accounts:delete",e)}),s2.apply(this,arguments)}function a2(){return a2=(0,I.Z)(function*(n,e){return Fn(n,"POST","/v1/accounts:lookup",e)}),a2.apply(this,arguments)}function T0(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function l2(){return l2=(0,I.Z)(function*(n,e=!1){const t=(0,D.m9)(n),r=yield t.getIdToken(e),i=AS(r);Me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,u=o?.sign_in_provider;return{claims:i,token:r,authTime:T0(c2(i.auth_time)),issuedAtTime:T0(c2(i.iat)),expirationTime:T0(c2(i.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}),l2.apply(this,arguments)}function c2(n){return 1e3*Number(n)}function AS(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return SS("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,D.tV)(t);return i?JSON.parse(i):(SS("Failed to decode base64 JWT payload"),null)}catch(i){return SS("Caught error parsing JWT payload as JSON",i?.toString()),null}}function dl(n,e){return u2.apply(this,arguments)}function u2(){return u2=(0,I.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof D.ZR&&function aQ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}}),u2.apply(this,arguments)}class lQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,I.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,I.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class D5{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=T0(this.lastLoginAt),this.creationTime=T0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function E0(n){return d2.apply(this,arguments)}function d2(){return d2=(0,I.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield dl(n,function iQ(n,e){return a2.apply(this,arguments)}(t,{idToken:r}));Me(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function dQ(n){return n.map(e=>{var{providerId:t}=e,r=(0,b5._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],f=function uQ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,u),v=!!n.isAnonymous&&!(n.email&&o.passwordHash||f?.length),w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new D5(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,w)}),d2.apply(this,arguments)}function h2(){return h2=(0,I.Z)(function*(n){const e=(0,D.m9)(n);yield E0(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}),h2.apply(this,arguments)}function f2(){return f2=(0,I.Z)(function*(n,e){const t=yield S5(n,{},(0,I.Z)(function*(){const r=(0,D.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=A5(n,i,"/v1/token",`key=${o}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",I5.fetch()(u,{method:"POST",headers:f,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}),f2.apply(this,arguments)}class I0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function oQ(n){const e=AS(n);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,I.Z)(function*(){return Me(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,I.Z)(function*(){const{accessToken:i,refreshToken:o,expiresIn:u}=yield function hQ(n,e){return f2.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(u))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new I0;return r&&(Me("string"==typeof r,"internal-error",{appName:e}),u.refreshToken=r),i&&(Me("string"==typeof i,"internal-error",{appName:e}),u.accessToken=i),o&&(Me("number"==typeof o,"internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new I0,this.toJSON())}_performRefresh(){return zo("not implemented")}}function nu(n,e){Me("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class fh{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=(0,b5._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new D5(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,I.Z)(function*(){const r=yield dl(t,t.stsTokenManager.getToken(t.auth,e));return Me(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function sQ(n){return l2.apply(this,arguments)}(this,e)}reload(){return function cQ(n){return h2.apply(this,arguments)}(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fh(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,I.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield E0(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,I.Z)(function*(){const t=yield e.getIdToken();return yield dl(e,function nQ(n,e){return s2.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,f,g,_,v;const w=null!==(r=t.displayName)&&void 0!==r?r:void 0,E=null!==(i=t.email)&&void 0!==i?i:void 0,A=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,k=null!==(u=t.photoURL)&&void 0!==u?u:void 0,z=null!==(f=t.tenantId)&&void 0!==f?f:void 0,Z=null!==(g=t._redirectEventId)&&void 0!==g?g:void 0,Te=null!==(_=t.createdAt)&&void 0!==_?_:void 0,He=null!==(v=t.lastLoginAt)&&void 0!==v?v:void 0,{uid:Ne,emailVerified:Et,isAnonymous:Ot,providerData:Ht,stsTokenManager:zr}=t;Me(Ne&&zr,e,"internal-error");const ml=I0.fromJSON(this.name,zr);Me("string"==typeof Ne,e,"internal-error"),nu(w,e.name),nu(E,e.name),Me("boolean"==typeof Et,e,"internal-error"),Me("boolean"==typeof Ot,e,"internal-error"),nu(A,e.name),nu(k,e.name),nu(z,e.name),nu(Z,e.name),nu(Te,e.name),nu(He,e.name);const Gg=new fh({uid:Ne,auth:e,email:E,emailVerified:Et,displayName:w,isAnonymous:Ot,photoURL:k,phoneNumber:A,tenantId:z,stsTokenManager:ml,createdAt:Te,lastLoginAt:He});return Ht&&Array.isArray(Ht)&&(Gg.providerData=Ht.map(Ene=>Object.assign({},Ene))),Z&&(Gg._redirectEventId=Z),Gg}static _fromIdTokenResponse(e,t,r=!1){return(0,I.Z)(function*(){const i=new I0;i.updateFromServerResponse(t);const o=new fh({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield E0(o),o})()}}const M5=new Map;function hl(n){tu(n instanceof Function,"Expected a class definition");let e=M5.get(n);return e?(tu(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,M5.set(n,e),e)}const P5=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,I.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,I.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,I.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function DS(n,e,t){return`firebase:${n}:${e}:${t}`}class Ag{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=DS(this.userKey,i.apiKey,o),this.fullPersistenceKey=DS("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,I.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?fh._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,I.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,I.Z)(function*(){if(!t.length)return new Ag(hl(P5),e,r);const i=(yield Promise.all(t.map(function(){var _=(0,I.Z)(function*(v){if(yield v._isAvailable())return v});return function(v){return _.apply(this,arguments)}}()))).filter(_=>_);let o=i[0]||hl(P5);const u=DS(r,e.config.apiKey,e.name);let f=null;for(const _ of t)try{const v=yield _._get(u);if(v){const w=fh._fromJSON(e,v);_!==o&&(f=w),o=_;break}}catch{}const g=i.filter(_=>_._shouldAllowMigration);return o._shouldAllowMigration&&g.length?(o=g[0],f&&(yield o._set(u,f.toJSON())),yield Promise.all(t.map(function(){var _=(0,I.Z)(function*(v){if(v!==o)try{yield v._remove(u)}catch{}});return function(v){return _.apply(this,arguments)}}())),new Ag(o,e,r)):new Ag(o,e,r)})()}}function x5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F5(e))return"Blackberry";if(L5(e))return"Webos";if(p2(e))return"Safari";if((e.includes("chrome/")||N5(e))&&!e.includes("edge/"))return"Chrome";if(R5(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function O5(n=(0,D.z$)()){return/firefox\//i.test(n)}function p2(n=(0,D.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N5(n=(0,D.z$)()){return/crios\//i.test(n)}function k5(n=(0,D.z$)()){return/iemobile/i.test(n)}function R5(n=(0,D.z$)()){return/android/i.test(n)}function F5(n=(0,D.z$)()){return/blackberry/i.test(n)}function L5(n=(0,D.z$)()){return/webos/i.test(n)}function MS(n=(0,D.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function V5(n=(0,D.z$)()){return MS(n)||R5(n)||L5(n)||F5(n)||/windows phone/i.test(n)||k5(n)}function B5(n,e=[]){let t;switch(n){case"Browser":t=x5((0,D.z$)());break;case"Worker":t=`${x5((0,D.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ze.SDK_VERSION}/${r}`}function U5(n,e){return m2.apply(this,arguments)}function m2(){return m2=(0,I.Z)(function*(n,e){return Fn(n,"GET","/v2/recaptchaConfig",An(n,e))}),m2.apply(this,arguments)}function G5(n){return void 0!==n&&void 0!==n.enterprise}class z5{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}function _2(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Go("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function _Q(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function j5(n){return`__${n}${Math.floor(1e6*Math.random())}`}class $5{constructor(e){this.type="recaptcha-enterprise",this.auth=Er(e)}verify(e="verify",t=!1){var r=this;return(0,I.Z)(function*(){function o(){return o=(0,I.Z)(function*(f){if(!t){if(null==f.tenantId&&null!=f._agentRecaptchaConfig)return f._agentRecaptchaConfig.siteKey;if(null!=f.tenantId&&void 0!==f._tenantRecaptchaConfigs[f.tenantId])return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(function(){var g=(0,I.Z)(function*(_,v){U5(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(w=>{if(void 0!==w.recaptchaKey){const E=new z5(w);return null==f.tenantId?f._agentRecaptchaConfig=E:f._tenantRecaptchaConfigs[f.tenantId]=E,_(E.siteKey)}v(new Error("recaptcha Enterprise site key undefined"))}).catch(w=>{v(w)})});return function(_,v){return g.apply(this,arguments)}}())}),o.apply(this,arguments)}function u(f,g,_){const v=window.grecaptcha;G5(v)?v.enterprise.ready(()=>{v.enterprise.execute(f,{action:e}).then(w=>{g(w)}).catch(()=>{g("NO_RECAPTCHA")})}):_(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((f,g)=>{(function i(f){return o.apply(this,arguments)})(r.auth).then(_=>{if(!t&&G5(window.grecaptcha))u(_,f,g);else{if(typeof window>"u")return void g(new Error("RecaptchaVerifier is only supported in browser"));_2("https://www.google.com/recaptcha/enterprise.js?render="+_).then(()=>{u(_,f,g)}).catch(v=>{g(v)})}}).catch(_=>{g(_)})})})()}}class wQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,f)=>{try{u(e(o))}catch(g){f(g)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,I.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class CQ{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W5(this),this.idTokenSubscription=new W5(this),this.beforeStateQueue=new wQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=hl(t)),this._initializationPromise=this.queue((0,I.Z)(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Ag.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,I.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,I.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let o=i,u=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const f=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,g=o?._redirectEventId,_=yield t.tryRedirectSignIn(e);(!f||f===g)&&_?.user&&(o=_.user,u=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{yield t.beforeStateQueue.runMiddleware(o)}catch(f){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(f))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return Me(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return(0,I.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,I.Z)(function*(){try{yield E0(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function JK(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,I.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,I.Z)(function*(){const r=e?(0,D.m9)(e):null;return r&&Me(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,I.Z)(function*(){if(!r._deleted)return e&&Me(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,I.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,I.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,I.Z)(function*(){yield t.assertedPersistence.setPersistence(hl(e))}))}initializeRecaptchaConfig(){var e=this;return(0,I.Z)(function*(){const t=yield U5(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new z5(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new $5(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new D.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,I.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,I.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&hl(e)||t._popupRedirectResolver;Me(r,t,"argument-error"),t.redirectPersistenceManager=yield Ag.create(t,[hl(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,I.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,I.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,I.Z)(function*(){if(e===t.currentUser)return t.queue((0,I.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t),u=this._isInitialized?Promise.resolve():this._initializationPromise;return Me(u,this,"internal-error"),u.then(()=>o(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,I.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,I.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return(0,I.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function QK(n,...e){IS.logLevel<=Kn.in.WARN&&IS.warn(`Auth (${Ze.SDK_VERSION}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Er(n){return(0,D.m9)(n)}class W5{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,D.ne)(t=>this.observer=t)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function q5(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Z5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class DQ{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zo("not implemented")}_getIdTokenResponse(e){return zo("not implemented")}_linkToIdToken(e,t){return zo("not implemented")}_getReauthenticationResolver(e){return zo("not implemented")}}function fl(n,e){return k2.apply(this,arguments)}function k2(){return k2=(0,I.Z)(function*(n,e){return function ul(n,e,t,r){return i2.apply(this,arguments)}(n,"POST","/v1/accounts:signInWithIdp",An(n,e))}),k2.apply(this,arguments)}class iu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class GQ extends iu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ds{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,I.Z)(function*(){const o=yield fh._fromIdTokenResponse(e,r,i),u=J5(r);return new Ds({user:o,providerId:u,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,I.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=J5(r);return new Ds({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function J5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class kS extends D.ZR{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kS.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new kS(e,t,r,i)}}function X5(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?kS._fromErrorAndOperation(n,o,e,r):o})}function j2(){return j2=(0,I.Z)(function*(n,e,t=!1){const r=yield dl(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ds._forOperation(n,"link",r)}),j2.apply(this,arguments)}function W2(){return W2=(0,I.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const o=yield dl(n,X5(r,i,e,n),t);Me(o.idToken,r,"internal-error");const u=AS(o.idToken);Me(u,r,"internal-error");const{sub:f}=u;return Me(n.uid===f,r,"user-mismatch"),Ds._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Bi(r,"user-mismatch"),o}}),W2.apply(this,arguments)}function q2(){return q2=(0,I.Z)(function*(n,e,t=!1){const r="signIn",i=yield X5(n,r,e),o=yield Ds._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o}),q2.apply(this,arguments)}const FS="__sak";class i4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(FS,"1"),this.storage.removeItem(FS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dY=(()=>{class n extends i4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lY(){const n=(0,D.z$)();return p2(n)||MS(n)}()&&function gQ(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=V5(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((f,g,_)=>{this.notifyListeners(f,_)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(i);if(t.newValue!==f)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const o=()=>{const f=this.storage.getItem(i);!r&&this.localCache[i]===f||this.notifyListeners(i,f)},u=this.storage.getItem(i);!function pQ(){return(0,D.w1)()&&10===document.documentMode}()||u===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return(0,I.Z)(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,I.Z)(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return(0,I.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),s4=(()=>{class n extends i4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let fY=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,I.Z)(function*(){const i=t,{eventId:o,eventType:u,data:f}=i.data,g=r.handlersMap[u];if(!g?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:u});const _=Array.from(g).map(function(){var w=(0,I.Z)(function*(E){return E(i.origin,f)});return function(E){return w.apply(this,arguments)}}()),v=yield function hY(n){return Promise.all(n.map(function(){var e=(0,I.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(_);i.ports[0].postMessage({status:"done",eventId:o,eventType:u,response:v})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function TF(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class pY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,I.Z)(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,_)=>{const v=TF("",20);o.port1.start();const w=setTimeout(()=>{_(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===v)switch(A.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(A.data.response);break;default:clearTimeout(w),clearTimeout(u),_(new Error("invalid_response"))}}},i.handlers.add(f),o.port1.addEventListener("message",f.onMessage),i.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{f&&i.removeMessageHandler(f)})})()}}function nr(){return window}function EF(){return typeof nr().WorkerGlobalScope<"u"&&"function"==typeof nr().importScripts}function IF(){return(IF=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const o4="firebaseLocalStorageDb",LS="firebaseLocalStorage",a4="fbase_key";class M0{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function VS(n,e){return n.transaction([LS],e?"readwrite":"readonly").objectStore(LS)}function SF(){const n=indexedDB.open(o4,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(LS,{keyPath:a4})}catch(i){t(i)}}),n.addEventListener("success",(0,I.Z)(function*(){const r=n.result;r.objectStoreNames.contains(LS)?e(r):(r.close(),yield function bY(){const n=indexedDB.deleteDatabase(o4);return new M0(n).toPromise()}(),e(yield SF()))}))})}function l4(n,e,t){return AF.apply(this,arguments)}function AF(){return AF=(0,I.Z)(function*(n,e,t){const r=VS(n,!0).put({[a4]:e,value:t});return new M0(r).toPromise()}),AF.apply(this,arguments)}function DF(){return DF=(0,I.Z)(function*(n,e){const t=VS(n,!1).get(e),r=yield new M0(t).toPromise();return void 0===r?null:r.value}),DF.apply(this,arguments)}function c4(n,e){const t=VS(n,!0).delete(e);return new M0(t).toPromise()}const EY=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,I.Z)(function*(){return t.db||(t.db=yield SF()),t.db})()}_withRetries(t){var r=this;return(0,I.Z)(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,I.Z)(function*(){return EF()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,I.Z)(function*(){t.receiver=fY._getInstance(function yY(){return EF()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,I.Z)(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,I.Z)(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,I.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function mY(){return IF.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new pY(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,I.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function _Y(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const t=yield SF();return yield l4(t,FS,"1"),yield c4(t,FS),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,I.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,I.Z)(function*(){return i._withPendingWrite((0,I.Z)(function*(){return yield i._withRetries(o=>l4(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,I.Z)(function*(){const i=yield r._withRetries(o=>function wY(n,e){return DF.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,I.Z)(function*(){return r._withPendingWrite((0,I.Z)(function*(){return yield r._withRetries(i=>c4(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,I.Z)(function*(){const r=yield t._withRetries(u=>{const f=VS(u,!1).getAll();return new M0(f).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:u,value:f}of r)o.add(u),JSON.stringify(t.localCache[u])!==JSON.stringify(f)&&(t.notifyListeners(u,f),i.push(u));for(const u of Object.keys(t.localCache))t.localCache[u]&&!o.has(u)&&(t.notifyListeners(u,null),i.push(u));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();j5("rcb"),new w0(3e4,6e4);class LF extends DQ{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function UY(n){return function n4(n,e){return q2.apply(this,arguments)}(n.auth,new LF(n),n.bypassAuthState)}function HY(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),function t4(n,e){return W2.apply(this,arguments)}(t,new LF(n),n.bypassAuthState)}function GY(n){return VF.apply(this,arguments)}function VF(){return VF=(0,I.Z)(function*(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),function z2(n,e){return j2.apply(this,arguments)}(t,new LF(n),n.bypassAuthState)}),VF.apply(this,arguments)}class zY{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,I.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,I.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:u,error:f,type:g}=e;if(f)return void t.reject(f);const _={auth:t.auth,requestUri:r,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(g)(_))}catch(v){t.reject(v)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UY;case"linkViaPopup":case"linkViaRedirect":return GY;case"reauthViaPopup":case"reauthViaRedirect":return HY;default:Bi(this.auth,"internal-error")}}resolve(e){tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new w0(2e3,1e4);const jY="pendingRedirect",P0=new Map;class $Y extends zY{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,I.Z)(function*(){let r=P0.get(t.auth._key());if(!r){try{const o=(yield function WY(n,e){return zF.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}P0.set(t.auth._key(),r)}return t.bypassAuthState||P0.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,I.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function zF(){return zF=(0,I.Z)(function*(n,e){const t=function h4(n){return DS(jY,n.config.apiKey,n.name)}(e),r=function d4(n){return hl(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i}),zF.apply(this,arguments)}function qY(n,e){P0.set(n._key(),e)}function f4(n,e){return QF.apply(this,arguments)}function QF(){return QF=(0,I.Z)(function*(n,e,t=!1){const r=Er(n),i=function gh(n,e){return e?hl(e):(Me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),u=yield new $Y(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,yield r._persistUserIfCurrent(u.user),yield r._setRedirectUser(null,e)),u}),QF.apply(this,arguments)}class JY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function XY(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m4(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!m4(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Go(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(g4(e))}saveEventToCache(e){this.cachedEventUids.add(g4(e)),this.lastProcessedEventTime=Date.now()}}function g4(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function m4({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function JF(){return JF=(0,I.Z)(function*(n,e={}){return Fn(n,"GET","/v1/projects",e)}),JF.apply(this,arguments)}const tJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nJ=/^https?/;function XF(){return XF=(0,I.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function eJ(n){return JF.apply(this,arguments)}(n);for(const t of e)try{if(iJ(t))return}catch{}Bi(n,"unauthorized-domain")}),XF.apply(this,arguments)}function iJ(n){const e=b0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return""===u.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&u.hostname===r}if(!nJ.test(t))return!1;if(tJ.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const sJ=new w0(3e4,6e4);function _4(){const n=nr().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let US=null;const lJ=new w0(5e3,15e3),cJ="__/auth/iframe",uJ="emulator/auth/iframe",dJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fJ(n){const e=n.config;Me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?t2(e,uJ):`https://${n.config.authDomain}/${cJ}`,r={apiKey:e.apiKey,appName:n.name,v:Ze.SDK_VERSION},i=hJ.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${(0,D.xO)(r).slice(1)}`}function eL(){return eL=(0,I.Z)(function*(n){const e=yield function aJ(n){return US=US||function oJ(n){return new Promise((e,t)=>{var r,i,o;function u(){_4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_4(),t(Go(n,"network-request-failed"))},timeout:sJ.get()})}if(null!==(i=null===(r=nr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=nr().gapi)||void 0===o||!o.load){const f=j5("iframefcb");return nr()[f]=()=>{gapi.load?u():t(Go(n,"network-request-failed"))},_2(`https://apis.google.com/js/api.js?onload=${f}`).catch(g=>t(g))}u()}}).catch(e=>{throw US=null,e})}(n),US}(n),t=nr().gapi;return Me(t,n,"internal-error"),e.open({where:document.body,url:fJ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dJ,dontclear:!0},r=>new Promise(function(){var i=(0,I.Z)(function*(o,u){yield r.restyle({setHideOnLeave:!1});const f=Go(n,"network-request-failed"),g=nr().setTimeout(()=>{u(f)},lJ.get());function _(){nr().clearTimeout(g),o(r)}r.ping(_).then(_,()=>{u(f)})});return function(o,u){return i.apply(this,arguments)}}()))}),eL.apply(this,arguments)}const gJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class y4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const CJ="__/auth/handler",TJ="emulator/auth/handler",EJ=encodeURIComponent("fac");function v4(n,e,t,r,i,o){return tL.apply(this,arguments)}function tL(){return tL=(0,I.Z)(function*(n,e,t,r,i,o){Me(n.config.authDomain,n,"auth-domain-config-required"),Me(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ze.SDK_VERSION,eventId:i};if(e instanceof iu){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",(0,D.xb)(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,w]of Object.entries(o||{}))u[v]=w}if(e instanceof GQ){const v=e.getScopes().filter(w=>""!==w);v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const v of Object.keys(f))void 0===f[v]&&delete f[v];const g=yield n._getAppCheckToken(),_=g?`#${EJ}=${encodeURIComponent(g)}`:"";return`${function IJ({config:n}){return n.emulator?t2(n,TJ):`https://${n.authDomain}/${CJ}`}(n)}?${(0,D.xO)(f).slice(1)}${_}`}),tL.apply(this,arguments)}const nL="webStorageSupport",AJ=class SJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=s4,this._completeRedirectFn=f4,this._overrideRedirectResult=qY}_openPopup(e,t,r,i){var o=this;return(0,I.Z)(function*(){var u;tu(null===(u=o.eventManagers[e._key()])||void 0===u?void 0:u.manager,"_initialize() not called before _openPopup()");const f=yield v4(e,t,r,b0(),i);return function bJ(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const g=Object.assign(Object.assign({},gJ),{width:r.toString(),height:i.toString(),top:o,left:u}),_=(0,D.z$)().toLowerCase();t&&(f=N5(_)?"_blank":t),O5(_)&&(e=e||"http://localhost",g.scrollbars="yes");const v=Object.entries(g).reduce((E,[A,k])=>`${E}${A}=${k},`,"");if(function fQ(n=(0,D.z$)()){var e;return MS(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(_)&&"_self"!==f)return function wJ(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",f),new y4(null);const w=window.open(e||"",f,v);Me(w,n,"popup-blocked");try{w.focus()}catch{}return new y4(w)}(e,f,TF())})()}_openRedirect(e,t,r,i){var o=this;return(0,I.Z)(function*(){return yield o._originValidation(e),function gY(n){nr().location.href=n}(yield v4(e,t,r,b0(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(tu(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,I.Z)(function*(){const r=yield function pJ(n){return eL.apply(this,arguments)}(e),i=new JY(e);return r.register("authEvent",o=>(Me(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(nL,{type:nL},i=>{var o;const u=null===(o=i?.[0])||void 0===o?void 0:o[nL];void 0!==u&&t(!!u),Bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function rJ(n){return XF.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return V5()||p2()||MS()}};var C4="@firebase/auth";class DJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,I.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const OJ=(0,D.Pz)("authIdTokenMaxAge")||300;let E4=null;const NJ=n=>function(){var e=(0,I.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>OJ)return;const o=r?.token;E4!==o&&(E4=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function kJ(n=(0,Ze.getApp)()){const e=(0,Ze._getProvider)(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function TQ(n,e){const t=(0,Ze._getProvider)(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if((0,D.vZ)(o,e??{}))return i;Bi(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:AJ,persistence:[EY,dY,s4]}),r=(0,D.Pz)("authTokenSyncURL");if(r){const o=NJ(r);(function rY(n,e,t){(0,D.m9)(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function nY(n,e,t,r){(0,D.m9)(n).onIdTokenChanged(e,t,r)}(t,u=>o(u))}const i=(0,D.q4)("auth");return i&&function IQ(n,e,t){const r=Er(n);Me(r._canInitEmulator,r,"emulator-config-failed"),Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=q5(e),{host:u,port:f}=function SQ(n){const e=q5(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Z5(r.substr(o.length+1))}}{const[o,u]=r.split(":");return{host:o,port:Z5(u)}}}(e);r.config.emulator={url:`${o}//${u}${null===f?"":`:${f}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function AQ(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}!function PJ(n){(0,Ze._registerComponent)(new _r.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;Me(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B5(n)},_=new CQ(r,i,o,g);return function EQ(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(hl);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(_,t),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,Ze._registerComponent)(new _r.wA("auth-internal",e=>{const t=Er(e.getProvider("auth").getImmediate());return new DJ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ze.registerVersion)(C4,"0.23.2",function MJ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Ze.registerVersion)(C4,"0.23.2","esm2017")}("Browser");class iL{constructor(e){return e}}class sL{constructor(){return fS("auth")}}const oL=new l.OlP("angularfire2.auth-instances");function FJ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new iL(r)}}const LJ={provide:sL,deps:[[new l.FiY,oL]]},VJ={provide:iL,useFactory:function RJ(n,e){const t=hS("auth",n,e);return t&&new iL(t)},deps:[[new l.FiY,oL],hh]};let BJ=(()=>{class n{constructor(){(0,Ze.registerVersion)("angularfire",_0.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[VJ,LJ]}),n})();function UJ(n,...e){return{ngModule:BJ,providers:[{provide:oL,useFactory:FJ(n),multi:!0,deps:[l.R0b,l.zs3,pS,mS,[new l.FiY,ES],...e]}]}}const HJ=gS(kJ,!0);class aL{constructor(e){return e}}const S4="firestore",lL=new l.OlP("angularfire2.firestore-instances");function jJ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new aL(r)}}const $J={provide:class GJ{constructor(){return fS(S4)}},deps:[[new l.FiY,lL]]},WJ={provide:aL,useFactory:function zJ(n,e){const t=hS(S4,n,e);return t&&new aL(t)},deps:[[new l.FiY,lL],hh]};let A4=(()=>{class n{constructor(){(0,Ze.registerVersion)("angularfire",_0.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[WJ,$J]}),n})();function qJ(n,...e){return{ngModule:A4,providers:[{provide:lL,useFactory:jJ(n),multi:!0,deps:[l.R0b,l.zs3,pS,mS,[new l.FiY,sL],[new l.FiY,ES],...e]}]}}const ZJ=gS(E8,!0),D4="@firebase/database";let cL="";class QJ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,D.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,D.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class YJ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,D.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const P4=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new QJ(e)}}catch{}return new YJ},mh=P4("localStorage"),uL=P4("sessionStorage"),Mg=new Kn.Yd("@firebase/database"),x4=function(){let n=1;return function(){return n++}}(),O4=function(n){const e=(0,D.dS)(n),t=new D.gQ;t.update(e);const r=t.digest();return D.US.encodeByteArray(r)},x0=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=x0.apply(null,r):e+="object"==typeof r?(0,D.Wl)(r):r,e+=" "}return e};let _h=null,N4=!0;const Ir=function(...n){if(!0===N4&&(N4=!1,null===_h&&!0===uL.get("logging_enabled")&&function(n,e){(0,D.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Mg.logLevel=Kn.in.VERBOSE,_h=Mg.log.bind(Mg),e&&uL.set("logging_enabled",!0)):"function"==typeof n?_h=n:(_h=null,uL.remove("logging_enabled"))}(!0)),_h){const e=x0.apply(null,n);_h(e)}},O0=function(n){return function(...e){Ir(n,...e)}},dL=function(...n){const e="FIREBASE INTERNAL ERROR: "+x0(...n);Mg.error(e)},jo=function(...n){const e=`FIREBASE FATAL ERROR: ${x0(...n)}`;throw Mg.error(e),new Error(e)},ti=function(...n){const e="FIREBASE WARNING: "+x0(...n);Mg.warn(e)},GS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},su="[MIN_NAME]",pl="[MAX_NAME]",yh=function(n,e){if(n===e)return 0;if(n===su||e===pl)return-1;if(e===su||n===pl)return 1;{const t=L4(n),r=L4(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},eX=function(n,e){return n===e?0:n<e?-1:1},N0=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,D.Wl)(e))},hL=function(n){if("object"!=typeof n||null===n)return(0,D.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,D.Wl)(e[r]),t+=":",t+=hL(n[e[r]]);return t+="}",t},R4=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Sr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const F4=function(n){(0,D.hu)(!GS(n),"Invalid JSON number");const r=1023;let i,o,u,f,g;0===n?(o=0,u=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=f+r,u=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(o=0,u=Math.round(n/Math.pow(2,-1074))));const _=[];for(g=52;g;g-=1)_.push(u%2?1:0),u=Math.floor(u/2);for(g=11;g;g-=1)_.push(o%2?1:0),o=Math.floor(o/2);_.push(i?1:0),_.reverse();const v=_.join("");let w="";for(g=0;g<64;g+=8){let E=parseInt(v.substr(g,8),2).toString(16);1===E.length&&(E="0"+E),w+=E}return w.toLowerCase()},iX=new RegExp("^-?(0*)\\d{1,10}$"),L4=function(n){if(iX.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Pg=function(n){try{n()}catch(e){setTimeout(()=>{throw ti("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},k0=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class lX{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ti(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class cX{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Ir("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ti(e)}}let R0=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const G4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$4="websocket",W4="long_polling";class pL{constructor(e,t,r,i,o=!1,u="",f=!1,g=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=g,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=mh.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&mh.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function q4(n,e,t){let r;if((0,D.hu)("string"==typeof e,"typeof type must == string"),(0,D.hu)("object"==typeof t,"typeof params must == object"),e===$4)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==W4)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function uX(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Sr(t,(o,u)=>{i.push(o+"="+u)}),r+i.join("&")}class dX{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,D.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,D.p$)(this.counters_)}}const gL={},mL={};function _L(n){const e=n.toString();return gL[e]||(gL[e]=new dX),gL[e]}class fX{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Pg(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ou{constructor(e,t,r,i,o,u,f){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=u,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=O0(e),this.stats_=_L(t),this.urlFn=g=>(this.appCheckToken&&(g.ac=this.appCheckToken),q4(t,W4,g))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new fX(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,D.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yL((...o)=>{const[u,f,g,_,v]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=f,this.password=g;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[u,f]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(u,f)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&G4.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ou.forceAllow_=!0}static forceDisallow(){ou.forceDisallow_=!0}static isAvailable(){return!((0,D.Yr)()||!ou.forceAllow_&&(ou.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,D.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,D.h$)(t),i=R4(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,D.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,D.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class yL{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,D.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=x4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=yL.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(f){Ir("frame writing exception"),f.stack&&Ir(f.stack),Ir(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ir("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const u=this.pendingSegs.shift();r=r+"&seg"+i+"="+u.seg+"&ts"+i+"="+u.ts+"&d"+i+"="+u.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,D.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Ir("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let jS=null;typeof MozWebSocket<"u"?jS=MozWebSocket:typeof WebSocket<"u"&&(jS=WebSocket);let xg=(()=>{class n{constructor(t,r,i,o,u,f,g){this.connId=t,this.applicationId=i,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=O0(this.connId),this.stats_=_L(r),this.connURL=n.connectionURL_(r,f,g,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,o,u){const f={v:"5"};return!(0,D.Yr)()&&typeof location<"u"&&location.hostname&&G4.test(location.hostname)&&(f.r="f"),r&&(f.s=r),i&&(f.ls=i),o&&(f.ac=o),u&&(f.p=u),q4(t,$4,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,mh.set("previous_websocket_failure",!0);try{let i;if((0,D.Yr)()){i={headers:{"User-Agent":`Firebase/5/${cL}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const u=process.env,f=0===this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;f&&(i.proxy={origin:f})}this.mySock=new jS(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==jS&&!n.forceDisallow_}static previouslyFailed(){return mh.isInMemoryStorage||!0===mh.get("previous_websocket_failure")}markConnectionHealthy(){mh.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,D.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,D.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,D.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=R4(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),e7=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ou,xg]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=xg&&xg.isAvailable();let i=r&&!xg.previouslyFailed();if(t.webSocketOnly&&(r||ti("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[xg];else{const o=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class a7{constructor(e,t,r,i,o,u,f,g,_,v){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=u,this.onReady_=f,this.onDisconnect_=g,this.onKill_=_,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=O0("c:"+this.id+":"),this.transportManager_=new e7(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=k0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=N0("t",e),r=N0("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=N0("t",e),r=N0("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=N0("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?dL("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dL("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&ti("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),k0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):k0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(mh.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class l7{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class c7{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,D.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){(0,D.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class $S extends c7{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,D.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new $S}getInitialEvent(e){return(0,D.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class jt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ut(){return new jt("")}function vt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function au(n){return n.pieces_.length-n.pieceNum_}function Xt(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new jt(n.pieces_,e)}function bL(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function F0(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function h7(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new jt(e,0)}function yn(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof jt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new jt(t,0)}function bt(n){return n.pieceNum_>=n.pieces_.length}function bi(n,e){const t=vt(n),r=vt(e);if(null===t)return e;if(t===r)return bi(Xt(n),Xt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function wL(n,e){if(au(n)!==au(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Ms(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(au(n)>au(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class FX{constructor(e,t){this.errorPrefix_=t,this.parts_=F0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,D.ug)(this.parts_[r]);f7(this)}}function f7(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+vh(n))}function vh(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class CL extends c7{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new CL}getInitialEvent(e){return(0,D.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const L0=1e3;let qS,bh=(()=>{class n extends l7{constructor(t,r,i,o,u,f,g,_){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=g,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=O0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=L0,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,D.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");CL.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&$S.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const o=++this.requestNumber_,u={r:o,a:t,b:r};this.log_((0,D.Wl)(u)),(0,D.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),i&&(this.requestCBHash_[o]=i)}get(t){this.initConnection_();const r=new D.BH,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const g=f.d;"ok"===f.s?r.resolve(g):r.reject(g)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,o){this.initConnection_();const u=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),(0,D.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,D.hu)(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const g={onComplete:o,hashFn:r,query:t,tag:i};this.listens.get(f).set(u,g),this.connected_&&this.sendListen_(g)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const u={p:i};t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,g=>{const _=g.d,v=g.s;n.warnOnListenWarnings_(_,r),(this.listens.get(i)&&this.listens.get(i).get(o))===t&&(this.log_("listen response",g),"ok"!==v&&this.removeListen_(i,o),t.onComplete&&t.onComplete(v,_))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,D.r3)(t,"w")){const i=(0,D.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();ti(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,D.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,D.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const u=o.s,f=o.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,D.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,r)}sendUnlisten_(t,r,i,o){this.log_("Unlisten on "+t+" for "+r);const u={p:t};o&&(u.q=i,u.t=o),this.sendRequest("n",u)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,o){const u={p:r,d:i};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(t,r,i,o){this.putInternal("p",t,r,i,o)}merge(t,r,i,o){this.putInternal("m",t,r,i,o)}putInternal(t,r,i,o,u){this.initConnection_();const f={p:r,d:i};void 0!==u&&(f.h=u),this.outstandingPuts_.push({action:t,request:f,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,D.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):dL("Unrecognized action received from server: "+(0,D.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,D.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=L0,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=L0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=L0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,I.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,f=t.lastSessionId;let g=!1,_=null;const v=function(){_?_.close():(g=!0,o())};t.realtime_={close:v,sendRequest:function(A){(0,D.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(A)}};const E=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[A,k]=yield Promise.all([t.authTokenProvider_.getToken(E),t.appCheckTokenProvider_.getToken(E)]);g?Ir("getToken() completed but was canceled"):(Ir("getToken() completed. Creating connection."),t.authToken_=A&&A.accessToken,t.appCheckToken_=k&&k.token,_=new a7(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,o,z=>{ti(z+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},f))}catch(A){t.log_("Failed to get token: "+A),g||(t.repoInfo_.nodeAdmin&&ti(A),v())}}})()}interrupt(t){Ir("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ir("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,D.xb)(this.interruptReasons_)&&(this.reconnectDelay_=L0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(u=>hL(u)).join("$"):"default";const o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,r){const i=new jt(t).toString();let o;if(this.listens.has(i)){const u=this.listens.get(i);o=u.get(r),u.delete(r),0===u.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(t,r){Ir("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ir("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,D.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+cL.replace(/\./g,"-")]=1,(0,D.uI)()?t["framework.cordova"]=1:(0,D.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=$S.getInstance().currentlyOnline();return(0,D.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class wt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new wt(e,t)}}class WS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new wt(su,e),i=new wt(su,t);return 0!==this.compare(r,i)}minPost(){return wt.MIN}}class m7 extends WS{static get __EMPTY_NODE(){return qS}static set __EMPTY_NODE(e){qS=e}compare(e,t){return yh(e.name,t.name)}isDefinedOn(e){throw(0,D.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return wt.MIN}maxPost(){return new wt(pl,qS)}makePost(e,t){return(0,D.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new wt(e,qS)}toString(){return".key"}}const $o=new m7;class ZS{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,i&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let EL,ro=(()=>{class n{constructor(t,r,i,o,u){this.key=t,this.value=r,this.color=i??n.RED,this.left=o??Ui.EMPTY_NODE,this.right=u??Ui.EMPTY_NODE}copy(t,r,i,o,u){return new n(t??this.key,r??this.value,i??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let o=this;const u=i(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,r,i),null):0===u?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(t,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ui.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,o;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Ui.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ui{constructor(e,t=Ui.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ui(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ro.BLACK,null,null))}remove(e){return new Ui(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ro.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ZS(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ZS(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ZS(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ZS(this.root_,null,this.comparator_,!0,e)}}function jX(n,e){return yh(n.name,e.name)}function TL(n,e){return yh(n,e)}Ui.EMPTY_NODE=new class zX{copy(e,t,r,i,o){return this}insert(e,t,r){return new ro(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const _7=function(n){return"number"==typeof n?"number:"+F4(n):"string:"+n},y7=function(n){if(n.isLeafNode()){const e=n.val();(0,D.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,D.r3)(e,".sv"),"Priority must be a string or number.")}else(0,D.hu)(n===EL||n.isEmpty(),"priority of unexpected type.");(0,D.hu)(n===EL||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let v7,b7,w7,Og=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,D.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),y7(this.priorityNode_)}static set __childrenNodeConstructor(t){v7=t}static get __childrenNodeConstructor(){return v7}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return bt(t)?this:".priority"===vt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=vt(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,D.hu)(".priority"!==i||1===au(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Xt(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+_7(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?F4(this.value_):this.value_,this.lazyHash_=O4(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,D.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(r),u=n.VALUE_TYPE_ORDER.indexOf(i);return(0,D.hu)(o>=0,"Unknown leaf type: "+r),(0,D.hu)(u>=0,"Unknown leaf type: "+i),o===u?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const rn=new class ZX extends WS{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return 0===o?yh(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return wt.MIN}maxPost(){return new wt(pl,new Og("[PRIORITY-POST]",w7))}makePost(e,t){const r=b7(e);return new wt(t,new Og("[PRIORITY-POST]",r))}toString(){return".priority"}},KX=Math.log(2);class QX{constructor(e){this.count=parseInt(Math.log(e+1)/KX,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const KS=function(n,e,t,r){n.sort(e);const i=function(g,_){const v=_-g;let w,E;if(0===v)return null;if(1===v)return w=n[g],E=t?t(w):w,new ro(E,w.node,ro.BLACK,null,null);{const A=parseInt(v/2,10)+g,k=i(g,A),z=i(A+1,_);return w=n[A],E=t?t(w):w,new ro(E,w.node,ro.BLACK,k,z)}},f=function(g){let _=null,v=null,w=n.length;const E=function(k,z){const Z=w-k,Te=w;w-=k;const He=i(Z+1,Te),Ne=n[Z],Et=t?t(Ne):Ne;A(new ro(Et,Ne.node,z,null,He))},A=function(k){_?(_.left=k,_=k):(v=k,_=k)};for(let k=0;k<g.count;++k){const z=g.nextBitIsOne(),Z=Math.pow(2,g.count-(k+1));z?E(Z,ro.BLACK):(E(Z,ro.BLACK),E(Z,ro.RED))}return v}(new QX(n.length));return new Ui(r||e,f)};let IL;const Ng={};class gl{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,D.hu)(Ng&&rn,"ChildrenNode.ts has not been loaded"),IL=IL||new gl({".priority":Ng},{".priority":rn}),IL}get(e){const t=(0,D.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ui?t:null}hasIndex(e){return(0,D.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,D.hu)(e!==$o,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=t.getIterator(wt.Wrap);let f,u=o.getNext();for(;u;)i=i||e.isDefinedOn(u.node),r.push(u),u=o.getNext();f=i?KS(r,e.getCompare()):Ng;const g=e.toString(),_=Object.assign({},this.indexSet_);_[g]=e;const v=Object.assign({},this.indexes_);return v[g]=f,new gl(v,_)}addToIndexes(e,t){const r=(0,D.UI)(this.indexes_,(i,o)=>{const u=(0,D.DV)(this.indexSet_,o);if((0,D.hu)(u,"Missing index implementation for "+o),i===Ng){if(u.isDefinedOn(e.node)){const f=[],g=t.getIterator(wt.Wrap);let _=g.getNext();for(;_;)_.name!==e.name&&f.push(_),_=g.getNext();return f.push(e),KS(f,u.getCompare())}return Ng}{const f=t.get(e.name);let g=i;return f&&(g=g.remove(new wt(e.name,f))),g.insert(e,e.node)}});return new gl(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,D.UI)(this.indexes_,i=>{if(i===Ng)return i;{const o=t.get(e.name);return o?i.remove(new wt(e.name,o)):i}});return new gl(r,this.indexSet_)}}let V0,pt=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&y7(this.priorityNode_),this.children_.isEmpty()&&(0,D.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return V0||(V0=new n(new Ui(TL),null,gl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||V0}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?V0:r}}getChild(t){const r=vt(t);return null===r?this:this.getImmediateChild(r).getChild(Xt(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,D.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new wt(t,r);let o,u;r.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(i,this.children_));const f=o.isEmpty()?V0:this.priorityNode_;return new n(o,f,u)}}updateChild(t,r){const i=vt(t);if(null===i)return r;{(0,D.hu)(".priority"!==vt(t)||1===au(t),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Xt(t),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,o=0,u=!0;if(this.forEachChild(rn,(f,g)=>{r[f]=g.val(t),i++,u&&n.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!t&&u&&o<2*i){const f=[];for(const g in r)f[g]=r[g];return f}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+_7(this.getPriority().val())+":"),this.forEachChild(rn,(r,i)=>{const o=i.hash();""!==o&&(t+=":"+r+":"+o)}),this.lazyHash_=""===t?"":O4(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const o=this.resolveIndex_(i);if(o){const u=o.getPredecessorKey(new wt(t,r));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new wt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new wt(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,wt.Wrap);let u=o.peek();for(;null!=u&&r.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,wt.Wrap);let u=o.peek();for(;null!=u&&r.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===B0?-1:0}withIndex(t){if(t===$o||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===$o||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(rn),o=r.getIterator(rn);let u=i.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=i.getNext(),f=o.getNext()}return null===u&&null===f}return!1}return!1}}resolveIndex_(t){return t===$o?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const B0=new class YX extends pt{constructor(){super(new Ui(TL),pt.EMPTY_NODE,gl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(wt,{MIN:{value:new wt(su,pt.EMPTY_NODE)},MAX:{value:new wt(pl,B0)}}),m7.__EMPTY_NODE=pt.EMPTY_NODE,Og.__childrenNodeConstructor=pt,function $X(n){EL=n}(B0),function qX(n){w7=n}(B0);const JX=!0;function Dn(n,e=null){if(null===n)return pt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,D.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Og(n,Dn(e));if(n instanceof Array||!JX){let t=pt.EMPTY_NODE;return Sr(n,(r,i)=>{if((0,D.r3)(n,r)&&"."!==r.substring(0,1)){const o=Dn(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(Dn(e))}{const t=[];let r=!1;if(Sr(n,(u,f)=>{if("."!==u.substring(0,1)){const g=Dn(f);g.isEmpty()||(r=r||!g.getPriority().isEmpty(),t.push(new wt(u,g)))}}),0===t.length)return pt.EMPTY_NODE;const o=KS(t,jX,u=>u.name,TL);if(r){const u=KS(t,rn.getCompare());return new pt(o,Dn(e),new gl({".priority":u},{".priority":rn}))}return new pt(o,Dn(e),gl.Default)}}!function WX(n){b7=n}(Dn);class SL extends WS{constructor(e){super(),this.indexPath_=e,(0,D.hu)(!bt(e)&&".priority"!==vt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),o=r.compareTo(i);return 0===o?yh(e.name,t.name):o}makePost(e,t){const r=Dn(e),i=pt.EMPTY_NODE.updateChild(this.indexPath_,r);return new wt(t,i)}maxPost(){const e=pt.EMPTY_NODE.updateChild(this.indexPath_,B0);return new wt(pl,e)}toString(){return F0(this.indexPath_,0).join("/")}}const AL=new class XX extends WS{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?yh(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return wt.MIN}maxPost(){return wt.MAX}makePost(e,t){const r=Dn(e);return new wt(t,r)}toString(){return".value"}};function H0(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class ML{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,D.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:su}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,D.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:pl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,D.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rn}copy(){const e=new ML;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function T7(n){const e={};if(n.isDefault())return e;let t;if(n.index_===rn?t="$priority":n.index_===AL?t="$value":n.index_===$o?t="$key":((0,D.hu)(n.index_ instanceof SL,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,D.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,D.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,D.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,D.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,D.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function E7(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==rn&&(e.i=n.index_.toString()),e}class YS extends l7{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=O0("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,D.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const u=YS.getListenId_(e,r),f={};this.listens_[u]=f;const g=T7(e._queryParams);this.restRequest_(o+".json",g,(_,v)=>{let w=v;if(404===_&&(w=null,_=null),null===_&&this.onDataUpdate_(o,w,!1,r),(0,D.DV)(this.listens_,u)===f){let E;E=_?401===_?"permission_denied":"rest_error:"+_:"ok",i(E,null)}})}unlisten(e,t){const r=YS.getListenId_(e,t);delete this.listens_[r]}get(e){const t=T7(e._queryParams),r=e._path.toString(),i=new D.BH;return this.restRequest_(r+".json",t,(o,u)=>{let f=u;404===o&&(f=null,o=null),null===o?(this.onDataUpdate_(r,f,!1,null),i.resolve(f)):i.reject(new Error(f))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,D.xO)(t);this.log_("Sending REST request for "+u);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&4===f.readyState){this.log_("REST Response for "+u+" received. status:",f.status,"response:",f.responseText);let g=null;if(f.status>=200&&f.status<300){try{g=(0,D.cI)(f.responseText)}catch{ti("Failed to parse JSON response for "+u+": "+f.responseText)}r(null,g)}else 401!==f.status&&404!==f.status&&ti("Got unsuccessful REST response for "+u+" Status: "+f.status),r(f.status);r=null}},f.open("GET",u,!0),f.send()})}}class aee{constructor(){this.rootNode_=pt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function JS(){return{value:null,children:new Map}}function Rg(n,e,t){if(bt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=vt(e);n.children.has(r)||n.children.set(r,JS()),Rg(n.children.get(r),e=Xt(e),t)}}function NL(n,e,t){null!==n.value?t(e,n.value):function lee(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{NL(i,new jt(e.toString()+"/"+r),t)})}class cee{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Sr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class hee{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new cee(e);const r=1e4+2e4*Math.random();k0(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Sr(e,(i,o)=>{o>0&&(0,D.r3)(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),k0(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var rr=(()=>((rr=rr||{})[rr.OVERWRITE=0]="OVERWRITE",rr[rr.MERGE=1]="MERGE",rr[rr.ACK_USER_WRITE=2]="ACK_USER_WRITE",rr[rr.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",rr))();function FL(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class XS{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=rr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(bt(this.path)){if(null!=this.affectedTree.value)return(0,D.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new jt(e));return new XS(Ut(),t,this.revert)}}return(0,D.hu)(vt(this.path)===e,"operationForChild called for unrelated child."),new XS(Xt(this.path),this.affectedTree,this.revert)}}class wh{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=rr.OVERWRITE}operationForChild(e){return bt(this.path)?new wh(this.source,Ut(),this.snap.getImmediateChild(e)):new wh(this.source,Xt(this.path),this.snap)}}class Fg{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=rr.MERGE}operationForChild(e){if(bt(this.path)){const t=this.children.subtree(new jt(e));return t.isEmpty()?null:t.value?new wh(this.source,Ut(),t.value):new Fg(this.source,Ut(),t)}return(0,D.hu)(vt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fg(this.source,Xt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class lu{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(bt(e))return this.isFullyInitialized()&&!this.filtered_;const t=vt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function j0(n,e,t,r,i,o){const u=r.filter(f=>f.type===t);u.sort((f,g)=>function mee(n,e,t){if(null==e.childName||null==t.childName)throw(0,D.g5)("Should only compare child_ events.");const r=new wt(e.childName,e.snapshotNode),i=new wt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,f,g)),u.forEach(f=>{const g=function gee(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,f,o);i.forEach(_=>{_.respondsTo(f.type)&&e.push(_.createEvent(g,n.query_))})})}function eA(n,e){return{eventCache:n,serverCache:e}}function $0(n,e,t,r){return eA(new lu(e,t,r),n.serverCache)}function S7(n,e,t,r){return eA(n.eventCache,new lu(e,t,r))}function tA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ch(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let LL;class sn{constructor(e,t=(()=>(LL||(LL=new Ui(eX)),LL))()){this.value=e,this.children=t}static fromObject(e){let t=new sn(null);return Sr(e,(r,i)=>{t=t.set(new jt(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ut(),value:this.value};if(bt(e))return null;{const r=vt(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Xt(e),t);return null!=o?{path:yn(new jt(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(bt(e))return this;{const t=vt(e),r=this.children.get(t);return null!==r?r.subtree(Xt(e)):new sn(null)}}set(e,t){if(bt(e))return new sn(t,this.children);{const r=vt(e),o=(this.children.get(r)||new sn(null)).set(Xt(e),t),u=this.children.insert(r,o);return new sn(this.value,u)}}remove(e){if(bt(e))return this.children.isEmpty()?new sn(null):new sn(null,this.children);{const t=vt(e),r=this.children.get(t);if(r){const i=r.remove(Xt(e));let o;return o=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&o.isEmpty()?new sn(null):new sn(this.value,o)}return this}}get(e){if(bt(e))return this.value;{const t=vt(e),r=this.children.get(t);return r?r.get(Xt(e)):null}}setTree(e,t){if(bt(e))return t;{const r=vt(e),o=(this.children.get(r)||new sn(null)).setTree(Xt(e),t);let u;return u=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new sn(this.value,u)}}fold(e){return this.fold_(Ut(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(yn(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Ut(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(bt(e))return null;{const o=vt(e),u=this.children.get(o);return u?u.findOnPath_(Xt(e),yn(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ut(),t)}foreachOnPath_(e,t,r){if(bt(e))return this;{this.value&&r(t,this.value);const i=vt(e),o=this.children.get(i);return o?o.foreachOnPath_(Xt(e),yn(t,i),r):new sn(null)}}foreach(e){this.foreach_(Ut(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(yn(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class io{constructor(e){this.writeTree_=e}static empty(){return new io(new sn(null))}}function W0(n,e,t){if(bt(e))return new io(new sn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const u=bi(i,e);return o=o.updateChild(u,t),new io(n.writeTree_.set(i,o))}{const i=new sn(t),o=n.writeTree_.setTree(e,i);return new io(o)}}}function VL(n,e,t){let r=n;return Sr(t,(i,o)=>{r=W0(r,yn(e,i),o)}),r}function A7(n,e){if(bt(e))return io.empty();{const t=n.writeTree_.setTree(e,new sn(null));return new io(t)}}function BL(n,e){return null!=Th(n,e)}function Th(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(bi(t.path,e)):null}function D7(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(rn,(r,i)=>{e.push(new wt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new wt(r,i.value))}),e}function cu(n,e){if(bt(e))return n;{const t=Th(n,e);return new io(null!=t?new sn(t):n.writeTree_.subtree(e))}}function UL(n){return n.writeTree_.isEmpty()}function Lg(n,e){return M7(Ut(),n.writeTree_,e)}function M7(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?((0,D.hu)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):t=M7(yn(n,i),o,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(yn(n,".priority"),r)),t}}function nA(n,e){return k7(e,n)}function Cee(n,e){if(n.snap)return Ms(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Ms(yn(n.path,t),e))return!0;return!1}function Eee(n){return n.visible}function P7(n,e,t){let r=io.empty();for(let i=0;i<n.length;++i){const o=n[i];if(e(o)){const u=o.path;let f;if(o.snap)Ms(t,u)?(f=bi(t,u),r=W0(r,f,o.snap)):Ms(u,t)&&(f=bi(u,t),r=W0(r,Ut(),o.snap.getChild(f)));else{if(!o.children)throw(0,D.g5)("WriteRecord should have .snap or .children");if(Ms(t,u))f=bi(t,u),r=VL(r,f,o.children);else if(Ms(u,t))if(f=bi(u,t),bt(f))r=VL(r,Ut(),o.children);else{const g=(0,D.DV)(o.children,vt(f));if(g){const _=g.getChild(Xt(f));r=W0(r,Ut(),_)}}}}}return r}function x7(n,e,t,r,i){if(r||i){const o=cu(n.visibleWrites,e);return!i&&UL(o)?t:i||null!=t||BL(o,Ut())?Lg(P7(n.allWrites,function(_){return(_.visible||i)&&(!r||!~r.indexOf(_.writeId))&&(Ms(_.path,e)||Ms(e,_.path))},e),t||pt.EMPTY_NODE):null}{const o=Th(n.visibleWrites,e);if(null!=o)return o;{const u=cu(n.visibleWrites,e);return UL(u)?t:null!=t||BL(u,Ut())?Lg(u,t||pt.EMPTY_NODE):null}}}function rA(n,e,t,r){return x7(n.writeTree,n.treePath,e,t,r)}function HL(n,e){return function Iee(n,e,t){let r=pt.EMPTY_NODE;const i=Th(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(rn,(o,u)=>{r=r.updateImmediateChild(o,u)}),r;if(t){const o=cu(n.visibleWrites,e);return t.forEachChild(rn,(u,f)=>{const g=Lg(cu(o,new jt(u)),f);r=r.updateImmediateChild(u,g)}),D7(o).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}return D7(cu(n.visibleWrites,e)).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}(n.writeTree,n.treePath,e)}function O7(n,e,t,r){return function See(n,e,t,r,i){(0,D.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=yn(e,t);if(BL(n.visibleWrites,o))return null;{const u=cu(n.visibleWrites,o);return UL(u)?i.getChild(t):Lg(u,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function iA(n,e){return function Dee(n,e){return Th(n.visibleWrites,e)}(n.writeTree,yn(n.treePath,e))}function GL(n,e,t){return function Aee(n,e,t,r){const i=yn(e,t),o=Th(n.visibleWrites,i);return null!=o?o:r.isCompleteForChild(t)?Lg(cu(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function N7(n,e){return k7(yn(n.treePath,e),n.writeTree)}function k7(n,e){return{treePath:n,writeTree:e}}class Oee{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,D.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,D.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(r,H0(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(r,function U0(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(r,function kg(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw(0,D.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,H0(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const R7=new class Nee{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class zL{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new lu(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return GL(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ch(this.viewCache_),o=function xee(n,e,t,r,i,o){return function Mee(n,e,t,r,i,o,u){let f;const g=cu(n.visibleWrites,e),_=Th(g,Ut());if(null!=_)f=_;else{if(null==t)return[];f=Lg(g,t)}if(f=f.withIndex(u),f.isEmpty()||f.isLeafNode())return[];{const v=[],w=u.getCompare(),E=o?f.getReverseIteratorFrom(r,u):f.getIteratorFrom(r,u);let A=E.getNext();for(;A&&v.length<i;)0!==w(A,r)&&v.push(A),A=E.getNext();return v}}(n.writeTree,n.treePath,e,t,r,i,o)}(this.writes_,i,t,1,r,e);return 0===o.length?null:o[0]}}function F7(n,e,t,r,i,o){const u=e.eventCache;if(null!=iA(r,t))return e;{let f,g;if(bt(t))if((0,D.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const _=Ch(e),w=HL(r,_ instanceof pt?_:pt.EMPTY_NODE);f=n.filter.updateFullNode(e.eventCache.getNode(),w,o)}else{const _=rA(r,Ch(e));f=n.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const _=vt(t);if(".priority"===_){(0,D.hu)(1===au(t),"Can't have a priority with additional path components");const v=u.getNode();g=e.serverCache.getNode();const w=O7(r,t,v,g);f=null!=w?n.filter.updatePriority(v,w):u.getNode()}else{const v=Xt(t);let w;if(u.isCompleteForChild(_)){g=e.serverCache.getNode();const E=O7(r,t,u.getNode(),g);w=null!=E?u.getNode().getImmediateChild(_).updateChild(v,E):u.getNode().getImmediateChild(_)}else w=GL(r,_,e.serverCache);f=null!=w?n.filter.updateChild(u.getNode(),_,w,v,i,o):u.getNode()}}return $0(e,f,u.isFullyInitialized()||bt(t),n.filter.filtersNodes())}}function sA(n,e,t,r,i,o,u,f){const g=e.serverCache;let _;const v=u?n.filter:n.filter.getIndexedFilter();if(bt(t))_=v.updateFullNode(g.getNode(),r,null);else if(v.filtersNodes()&&!g.isFiltered()){const A=g.getNode().updateChild(t,r);_=v.updateFullNode(g.getNode(),A,null)}else{const A=vt(t);if(!g.isCompleteForPath(t)&&au(t)>1)return e;const k=Xt(t),Z=g.getNode().getImmediateChild(A).updateChild(k,r);_=".priority"===A?v.updatePriority(g.getNode(),Z):v.updateChild(g.getNode(),A,Z,k,R7,null)}const w=S7(e,_,g.isFullyInitialized()||bt(t),v.filtersNodes());return F7(n,w,t,i,new zL(i,w,o),f)}function jL(n,e,t,r,i,o,u){const f=e.eventCache;let g,_;const v=new zL(i,e,o);if(bt(t))_=n.filter.updateFullNode(e.eventCache.getNode(),r,u),g=$0(e,_,!0,n.filter.filtersNodes());else{const w=vt(t);if(".priority"===w)_=n.filter.updatePriority(e.eventCache.getNode(),r),g=$0(e,_,f.isFullyInitialized(),f.isFiltered());else{const E=Xt(t),A=f.getNode().getImmediateChild(w);let k;if(bt(E))k=r;else{const z=v.getCompleteChild(w);k=null!=z?".priority"===bL(E)&&z.getChild(h7(E)).isEmpty()?z:z.updateChild(E,r):pt.EMPTY_NODE}g=A.equals(k)?e:$0(e,n.filter.updateChild(f.getNode(),w,k,E,v,u),f.isFullyInitialized(),n.filter.filtersNodes())}}return g}function L7(n,e){return n.eventCache.isCompleteForChild(e)}function V7(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function $L(n,e,t,r,i,o,u,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let _,g=e;_=bt(t)?r:new sn(null).setTree(t,r);const v=e.serverCache.getNode();return _.children.inorderTraversal((w,E)=>{if(v.hasChild(w)){const k=V7(0,e.serverCache.getNode().getImmediateChild(w),E);g=sA(n,g,new jt(w),k,i,o,u,f)}}),_.children.inorderTraversal((w,E)=>{const A=!e.serverCache.isCompleteForChild(w)&&null===E.value;if(!v.hasChild(w)&&!A){const z=V7(0,e.serverCache.getNode().getImmediateChild(w),E);g=sA(n,g,new jt(w),z,i,o,u,f)}}),g}function $ee(n,e){const t=Ch(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!bt(e)&&!t.getImmediateChild(vt(e)).isEmpty())?t.getChild(e):null}function H7(n,e,t,r){e.type===rr.MERGE&&null!==e.source.queryId&&((0,D.hu)(Ch(n.viewCache_),"We should always have a full cache before handling merges"),(0,D.hu)(tA(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,o=function Fee(n,e,t,r,i){const o=new Oee;let u,f;if(t.type===rr.OVERWRITE){const _=t;_.source.fromUser?u=jL(n,e,_.path,_.snap,r,i,o):((0,D.hu)(_.source.fromServer,"Unknown source."),f=_.source.tagged||e.serverCache.isFiltered()&&!bt(_.path),u=sA(n,e,_.path,_.snap,r,i,f,o))}else if(t.type===rr.MERGE){const _=t;_.source.fromUser?u=function Vee(n,e,t,r,i,o,u){let f=e;return r.foreach((g,_)=>{const v=yn(t,g);L7(e,vt(v))&&(f=jL(n,f,v,_,i,o,u))}),r.foreach((g,_)=>{const v=yn(t,g);L7(e,vt(v))||(f=jL(n,f,v,_,i,o,u))}),f}(n,e,_.path,_.children,r,i,o):((0,D.hu)(_.source.fromServer,"Unknown source."),f=_.source.tagged||e.serverCache.isFiltered(),u=$L(n,e,_.path,_.children,r,i,f,o))}else if(t.type===rr.ACK_USER_WRITE){const _=t;u=_.revert?function Hee(n,e,t,r,i,o){let u;if(null!=iA(r,t))return e;{const f=new zL(r,e,i),g=e.eventCache.getNode();let _;if(bt(t)||".priority"===vt(t)){let v;if(e.serverCache.isFullyInitialized())v=rA(r,Ch(e));else{const w=e.serverCache.getNode();(0,D.hu)(w instanceof pt,"serverChildren would be complete if leaf node"),v=HL(r,w)}_=n.filter.updateFullNode(g,v,o)}else{const v=vt(t);let w=GL(r,v,e.serverCache);null==w&&e.serverCache.isCompleteForChild(v)&&(w=g.getImmediateChild(v)),_=null!=w?n.filter.updateChild(g,v,w,Xt(t),f,o):e.eventCache.getNode().hasChild(v)?n.filter.updateChild(g,v,pt.EMPTY_NODE,Xt(t),f,o):g,_.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=rA(r,Ch(e)),u.isLeafNode()&&(_=n.filter.updateFullNode(_,u,o)))}return u=e.serverCache.isFullyInitialized()||null!=iA(r,Ut()),$0(e,_,u,n.filter.filtersNodes())}}(n,e,_.path,r,i,o):function Bee(n,e,t,r,i,o,u){if(null!=iA(i,t))return e;const f=e.serverCache.isFiltered(),g=e.serverCache;if(null!=r.value){if(bt(t)&&g.isFullyInitialized()||g.isCompleteForPath(t))return sA(n,e,t,g.getNode().getChild(t),i,o,f,u);if(bt(t)){let _=new sn(null);return g.getNode().forEachChild($o,(v,w)=>{_=_.set(new jt(v),w)}),$L(n,e,t,_,i,o,f,u)}return e}{let _=new sn(null);return r.foreach((v,w)=>{const E=yn(t,v);g.isCompleteForPath(E)&&(_=_.set(v,g.getNode().getChild(E)))}),$L(n,e,t,_,i,o,f,u)}}(n,e,_.path,_.affectedTree,r,i,o)}else{if(t.type!==rr.LISTEN_COMPLETE)throw(0,D.g5)("Unknown operation type: "+t.type);u=function Uee(n,e,t,r,i){const o=e.serverCache;return F7(n,S7(e,o.getNode(),o.isFullyInitialized()||bt(t),o.isFiltered()),t,r,R7,i)}(n,e,t.path,r,o)}const g=o.getChanges();return function Lee(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=tA(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(function C7(n){return{type:"value",snapshotNode:n}}(tA(e)))}}(e,u,g),{viewCache:u,changes:g}}(n.processor_,i,e,t,r);return function Ree(n,e){(0,D.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,D.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,D.hu)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,function G7(n,e,t,r){return function pee(n,e,t,r){const i=[],o=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&o.push(function eee(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),j0(n,i,"child_removed",e,r,t),j0(n,i,"child_added",e,r,t),j0(n,i,"child_moved",o,r,t),j0(n,i,"child_changed",e,r,t),j0(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,o.changes,o.viewCache.eventCache.getNode(),null)}let oA,lA;function WL(n,e,t,r){const i=e.source.queryId;if(null!==i){const o=n.views.get(i);return(0,D.hu)(null!=o,"SyncTree gave us an op for an invalid query."),H7(o,e,t,r)}{let o=[];for(const u of n.views.values())o=o.concat(H7(u,e,t,r));return o}}function uu(n,e){let t=null;for(const r of n.views.values())t=t||$ee(r,e);return t}class Z7{constructor(e){this.listenProvider_=e,this.syncPointTree_=new sn(null),this.pendingWriteTree_=function Pee(){return{visibleWrites:io.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qL(n,e,t,r,i){return function yee(n,e,t,r,i){(0,D.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=W0(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Vg(n,new wh({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function hu(n,e,t=!1){const r=function bee(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function wee(n,e){const t=n.allWrites.findIndex(f=>f.writeId===e);(0,D.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,o=!1,u=n.allWrites.length-1;for(;i&&u>=0;){const f=n.allWrites[u];f.visible&&(u>=t&&Cee(f,r.path)?i=!1:Ms(r.path,f.path)&&(o=!0)),u--}return!!i&&(o?(function Tee(n){n.visibleWrites=P7(n.allWrites,Eee,Ut()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=A7(n.visibleWrites,r.path):Sr(r.children,g=>{n.visibleWrites=A7(n.visibleWrites,yn(r.path,g))}),!0))}(n.pendingWriteTree_,e)){let o=new sn(null);return null!=r.snap?o=o.set(Ut(),!0):Sr(r.children,u=>{o=o.set(new jt(u),!0)}),Vg(n,new XS(r.path,o,t))}return[]}function q0(n,e,t){return Vg(n,new wh({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function uA(n,e,t){const i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(u,f)=>{const _=uu(f,bi(u,e));if(_)return _});return x7(i,e,o,t,!0)}function Vg(n,e){return Q7(e,n.syncPointTree_,null,nA(n.pendingWriteTree_,Ut()))}function Q7(n,e,t,r){if(bt(n.path))return Y7(n,e,t,r);{const i=e.get(Ut());null==t&&null!=i&&(t=uu(i,Ut()));let o=[];const u=vt(n.path),f=n.operationForChild(u),g=e.children.get(u);if(g&&f){const _=t?t.getImmediateChild(u):null,v=N7(r,u);o=o.concat(Q7(f,g,_,v))}return i&&(o=o.concat(WL(i,n,r,t))),o}}function Y7(n,e,t,r){const i=e.get(Ut());null==t&&null!=i&&(t=uu(i,Ut()));let o=[];return e.children.inorderTraversal((u,f)=>{const g=t?t.getImmediateChild(u):null,_=N7(r,u),v=n.operationForChild(u);v&&(o=o.concat(Y7(v,f,g,_)))}),i&&(o=o.concat(WL(i,n,r,t))),o}function KL(n,e){return n.tagToQueryMap.get(e)}function QL(n){const e=n.indexOf("$");return(0,D.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new jt(n.substr(0,e))}}function YL(n,e,t){const r=n.syncPointTree_.get(e);return(0,D.hu)(r,"Missing sync point for query tag that we're tracking"),WL(r,t,nA(n.pendingWriteTree_,e),null)}class JL{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new JL(t)}node(){return this.node_}}class XL{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=yn(this.path_,e);return new XL(this.syncTree_,t)}node(){return uA(this.syncTree_,this.path_)}}const hte=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},X7=function(n,e,t){return n&&"object"==typeof n?((0,D.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?fte(n[".sv"],e,t):"object"==typeof n[".sv"]?pte(n[".sv"],e):void(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},fte=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,D.hu)(!1,"Unexpected server value: "+n)},pte=function(n,e,t){n.hasOwnProperty("increment")||(0,D.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,D.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,D.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const u=i.getValue();return"number"!=typeof u?r:u+r},ez=function(n,e,t,r){return t3(e,new XL(t,n),r)},e3=function(n,e,t){return t3(n,new JL(e),t)};function t3(n,e,t){const r=n.getPriority().val(),i=X7(r,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const u=n,f=X7(u.getValue(),e,t);return f!==u.getValue()||i!==u.getPriority().val()?new Og(f,Dn(i)):n}{const u=n;return o=u,i!==u.getPriority().val()&&(o=o.updatePriority(new Og(i))),u.forEachChild(rn,(f,g)=>{const _=t3(g,e.getImmediateChild(f),t);_!==g&&(o=o.updateImmediateChild(f,_))}),o}}class n3{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function hA(n,e){let t=e instanceof jt?e:new jt(e),r=n,i=vt(t);for(;null!==i;){const o=(0,D.DV)(r.node.children,i)||{children:{},childCount:0};r=new n3(i,r,o),t=Xt(t),i=vt(t)}return r}function Eh(n){return n.node.value}function r3(n,e){n.node.value=e,i3(n)}function tz(n){return n.node.childCount>0}function fA(n,e){Sr(n.node.children,(t,r)=>{e(new n3(t,n,r))})}function nz(n,e,t,r){t&&!r&&e(n),fA(n,i=>{nz(i,e,!0,r)}),t&&r&&e(n)}function Q0(n){return new jt(null===n.parent?n.name:Q0(n.parent)+"/"+n.name)}function i3(n){null!==n.parent&&function _te(n,e,t){const r=function gte(n){return void 0===Eh(n)&&!tz(n)}(t),i=(0,D.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,i3(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,i3(n))}(n.parent,n.name,n)}const yte=/[\[\].#$\/\u0000-\u001F\u007F]/,vte=/[\[\].#$\u0000-\u001F\u007F]/,s3=10485760,pA=function(n){return"string"==typeof n&&0!==n.length&&!yte.test(n)},J0=function(n,e,t){const r=t instanceof jt?new FX(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+vh(r));if("function"==typeof e)throw new Error(n+"contains a function "+vh(r)+" with contents = "+e.toString());if(GS(e))throw new Error(n+"contains "+e.toString()+" "+vh(r));if("string"==typeof e&&e.length>s3/3&&(0,D.ug)(e)>s3)throw new Error(n+"contains a string greater than "+s3+" utf8 bytes "+vh(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(Sr(e,(u,f)=>{if(".value"===u)i=!0;else if(".priority"!==u&&".sv"!==u&&(o=!0,!pA(u)))throw new Error(n+" contains an invalid key ("+u+") "+vh(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function LX(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,D.ug)(e),f7(n)})(r,u),J0(n,f,r),function VX(n){const e=n.parts_.pop();n.byteLength_-=(0,D.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&o)throw new Error(n+' contains ".value" child '+vh(r)+" in addition to actual children.")}},sz=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!pA(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!vte.test(n)}(n)}(t))throw new Error((0,D.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Tte{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function is(n,e,t){(function gA(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==t&&!wL(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function az(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(Ete(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>Ms(r,e)||Ms(e,r))}function Ete(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();_h&&Ir("event: "+t.toString()),Pg(r)}}}const Ite=25;class Ste{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Tte,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=JS(),this.transactionQueueTree_=new n3,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cz(n){const t=n.infoData_.getNode(new jt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function eb(n){return hte({timestamp:cz(n)})}function uz(n,e,t,r,i){n.dataUpdateCount++;const o=new jt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(i)if(r){const g=(0,D.UI)(t,_=>Dn(_));u=function ote(n,e,t,r){const i=KL(n,r);if(i){const o=QL(i),u=o.path,f=o.queryId,g=bi(u,e),_=sn.fromObject(t);return YL(n,u,new Fg(FL(f),g,_))}return[]}(n.serverSyncTree_,o,g,i)}else{const g=Dn(t);u=function K7(n,e,t,r){const i=KL(n,r);if(null!=i){const o=QL(i),u=o.path,f=o.queryId,g=bi(u,e);return YL(n,u,new wh(FL(f),g,t))}return[]}(n.serverSyncTree_,o,g,i)}else if(r){const g=(0,D.UI)(t,_=>Dn(_));u=function rte(n,e,t){const r=sn.fromObject(t);return Vg(n,new Fg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,o,g)}else{const g=Dn(t);u=q0(n.serverSyncTree_,o,g)}let f=o;u.length>0&&(f=Ug(n,o)),is(n.eventQueue_,f,u)}function dz(n,e){l3(n,"connected",e),!1===e&&function xte(n){Bg(n,"onDisconnectEvents");const e=eb(n),t=JS();NL(n.onDisconnect_,Ut(),(i,o)=>{const u=ez(i,o,n.serverSyncTree_,e);Rg(t,i,u)});let r=[];NL(t,Ut(),(i,o)=>{r=r.concat(q0(n.serverSyncTree_,i,o));const u=function h3(n,e){const t=Q0(pz(n,e)),r=hA(n.transactionQueueTree_,e);return function mte(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{f3(n,i)}),f3(n,r),nz(r,i=>{f3(n,i)}),t}(n,i);Ug(n,u)}),n.onDisconnect_=JS(),is(n.eventQueue_,Ut(),r)}(n)}function l3(n,e,t){const r=new jt("/.info/"+e),i=Dn(t);n.infoData_.updateSnapshot(r,i);const o=q0(n.infoSyncTree_,r,i);is(n.eventQueue_,r,o)}function mA(n){return n.nextWriteId_++}function Bg(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Ir(t,...e)}function d3(n,e,t){return uA(n.serverSyncTree_,e,t)||pt.EMPTY_NODE}function _A(n,e=n.transactionQueueTree_){if(e||yA(n,e),Eh(e)){const t=gz(n,e);(0,D.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function Vte(n,e,t){const r=t.map(_=>_.currentWriteId),i=d3(n,e,r);let o=i;const u=i.hash();for(let _=0;_<t.length;_++){const v=t[_];(0,D.hu)(0===v.status,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const w=bi(e,v.path);o=o.updateChild(w,v.currentOutputSnapshotRaw)}const f=o.val(!0),g=e;n.server_.put(g.toString(),f,_=>{Bg(n,"transaction put response",{path:g.toString(),status:_});let v=[];if("ok"===_){const w=[];for(let E=0;E<t.length;E++)t[E].status=2,v=v.concat(hu(n.serverSyncTree_,t[E].currentWriteId)),t[E].onComplete&&w.push(()=>t[E].onComplete(null,!0,t[E].currentOutputSnapshotResolved)),t[E].unwatcher();yA(n,hA(n.transactionQueueTree_,e)),_A(n,n.transactionQueueTree_),is(n.eventQueue_,e,v);for(let E=0;E<w.length;E++)Pg(w[E])}else{if("datastale"===_)for(let w=0;w<t.length;w++)t[w].status=3===t[w].status?4:0;else{ti("transaction at "+g.toString()+" failed: "+_);for(let w=0;w<t.length;w++)t[w].status=4,t[w].abortReason=_}Ug(n,e)}},u)}(n,Q0(e),t)}else tz(e)&&fA(e,t=>{_A(n,t)})}function Ug(n,e){const t=pz(n,e),r=Q0(t);return function Bte(n,e,t){if(0===e.length)return;const r=[];let i=[];const u=e.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const g=e[f],_=bi(t,g.path);let w,v=!1;if((0,D.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===g.status)v=!0,w=g.abortReason,i=i.concat(hu(n.serverSyncTree_,g.currentWriteId,!0));else if(0===g.status)if(g.retryCount>=Ite)v=!0,w="maxretry",i=i.concat(hu(n.serverSyncTree_,g.currentWriteId,!0));else{const E=d3(n,g.path,u);g.currentInputSnapshot=E;const A=e[f].update(E.val());if(void 0!==A){J0("transaction failed: Data returned ",A,g.path);let k=Dn(A);"object"==typeof A&&null!=A&&(0,D.r3)(A,".priority")||(k=k.updatePriority(E.getPriority()));const Z=g.currentWriteId,Te=eb(n),He=e3(k,E,Te);g.currentOutputSnapshotRaw=k,g.currentOutputSnapshotResolved=He,g.currentWriteId=mA(n),u.splice(u.indexOf(Z),1),i=i.concat(qL(n.serverSyncTree_,g.path,He,g.currentWriteId,g.applyLocally)),i=i.concat(hu(n.serverSyncTree_,Z,!0))}else v=!0,w="nodata",i=i.concat(hu(n.serverSyncTree_,g.currentWriteId,!0))}is(n.eventQueue_,t,i),i=[],v&&(e[f].status=2,setTimeout(e[f].unwatcher,Math.floor(0)),e[f].onComplete&&r.push("nodata"===w?()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot):()=>e[f].onComplete(new Error(w),!1,null)))}yA(n,n.transactionQueueTree_);for(let f=0;f<r.length;f++)Pg(r[f]);_A(n,n.transactionQueueTree_)}(n,gz(n,t),r),r}function pz(n,e){let t,r=n.transactionQueueTree_;for(t=vt(e);null!==t&&void 0===Eh(r);)r=hA(r,t),t=vt(e=Xt(e));return r}function gz(n,e){const t=[];return mz(n,e,t),t.sort((r,i)=>r.order-i.order),t}function mz(n,e,t){const r=Eh(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);fA(e,i=>{mz(n,i,t)})}function yA(n,e){const t=Eh(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,r3(e,t.length>0?t:void 0)}fA(e,r=>{yA(n,r)})}function f3(n,e){const t=Eh(e);if(t){const r=[];let i=[],o=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,D.hu)(o===u-1,"All SENT items should be at beginning of queue."),o=u,t[u].status=3,t[u].abortReason="set"):((0,D.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),i=i.concat(hu(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&r.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===o?r3(e,void 0):t.length=o+1,is(n.eventQueue_,Q0(e),i);for(let u=0;u<r.length;u++)Pg(r[u])}}const p3=function(n,e){const t=Gte(n),r=t.namespace;return"firebase.com"===t.domain&&jo(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&jo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ti("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new pL(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new jt(t.pathString)}},Gte=function(n){let e="",t="",r="",i="",o="",u=!0,f="https",g=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(f=n.substring(0,_-1),n=n.substring(_+2));let v=n.indexOf("/");-1===v&&(v=n.length);let w=n.indexOf("?");-1===w&&(w=n.length),e=n.substring(0,Math.min(v,w)),v<w&&(i=function Ute(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(v,w)));const E=function Hte(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ti(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,w)));_=e.indexOf(":"),_>=0?(u="https"===f||"wss"===f,g=parseInt(e.substring(_+1),10)):_=e.length;const A=e.slice(0,_);if("localhost"===A.toLowerCase())t="localhost";else if(A.split(".").length<=2)t=A;else{const k=e.indexOf(".");r=e.substring(0,k).toLowerCase(),t=e.substring(k+1),o=r}"ns"in E&&(o=E.ns)}return{host:e,port:g,domain:t,subdomain:r,secure:u,scheme:f,pathString:i,namespace:o}};class ss{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return bt(this._path)?null:bL(this._path)}get ref(){return new so(this._repo,this._path)}get _queryIdentifier(){const e=E7(this._queryParams),t=hL(e);return"{}"===t?"default":t}get _queryObject(){return E7(this._queryParams)}isEqual(e){if(!((e=(0,D.m9)(e))instanceof ss))return!1;const t=this._repo===e._repo,r=wL(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function kX(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class so extends ss{constructor(e,t){super(e,t,new ML,!1)}get parent(){const e=h7(this._path);return null===e?null:new so(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Zee(n){(0,D.hu)(!oA,"__referenceConstructor has already been defined"),oA=n})(so),function Xee(n){(0,D.hu)(!lA,"__referenceConstructor has already been defined"),lA=n}(so);const m3={};class lne{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ate(n,e,t){if(n.stats_=_L(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new YS(n.repoInfo_,(r,i,o,u)=>{uz(n,r,i,o,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>dz(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,D.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new bh(n.repoInfo_,e,(r,i,o,u)=>{uz(n,r,i,o,u)},r=>{dz(n,r)},r=>{!function Dte(n,e){Sr(e,(t,r)=>{l3(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function hX(n,e){const t=n.toString();return mL[t]||(mL[t]=e()),mL[t]}(n.repoInfo_,()=>new hee(n.stats_,n.server_)),n.infoData_=new aee,n.infoSyncTree_=new Z7({startListening:(r,i,o,u)=>{let f=[];const g=n.infoData_.getNode(r._path);return g.isEmpty()||(f=q0(n.infoSyncTree_,r._path,g),setTimeout(()=>{u("ok")},0)),f},stopListening:()=>{}}),l3(n,"connected",!1),n.serverSyncTree_=new Z7({startListening:(r,i,o,u)=>(n.server_.listen(r,o,i,(f,g)=>{const _=u(f,g);is(n.eventQueue_,r._path,_)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new so(this._repo,Ut())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function sne(n,e){const t=m3[e];(!t||t[n.key]!==n)&&jo(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function fz(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&jo("Cannot call "+e+" on a deleted database.")}}function cne(n=(0,Ze.getApp)(),e){const t=(0,Ze._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=(0,D.P0)("database");r&&function une(n,e,t,r={}){(n=(0,D.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&jo("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&jo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new R0(R0.OWNER);else if(r.mockUserToken){const u="string"==typeof r.mockUserToken?r.mockUserToken:(0,D.Sg)(r.mockUserToken,n.app.options.projectId);o=new R0(u)}!function rne(n,e,t,r){n.repoInfo_=new pL(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,o)}(t,...r)}return t}bh.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},bh.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function dne(n){(function KJ(n){cL=n})(Ze.SDK_VERSION),(0,Ze._registerComponent)(new _r.wA("database",(e,{instanceIdentifier:t})=>function ine(n,e,t,r,i){let o=r||n.options.databaseURL;void 0===o&&(n.options.projectId||jo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ir("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let g,_,u=p3(o,i),f=u.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(g=!0,o=`http://${_}?ns=${f.namespace}`,u=p3(o,i),f=u.repoInfo):g=!u.repoInfo.secure;const v=i&&g?new R0(R0.OWNER):new cX(n.name,n.options,e);sz("Invalid Firebase Database URL",u),bt(u.path)||jo("Database URL must point to the root of a Firebase Database (not including a child path).");const w=function one(n,e,t,r){let i=m3[e.name];i||(i={},m3[e.name]=i);let o=i[n.toURLString()];return o&&jo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Ste(n,!1,t,r),i[n.toURLString()]=o,o}(f,n,v,new lX(n.name,t));return new lne(w,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Ze.registerVersion)(D4,"0.14.4",n),(0,Ze.registerVersion)(D4,"0.14.4","esm2017")}();class _3{constructor(e){return e}}const Iz="database",y3=new l.OlP("angularfire2.database-instances");function mne(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new _3(r)}}const _ne={provide:class pne{constructor(){return fS(Iz)}},deps:[[new l.FiY,y3]]},yne={provide:_3,useFactory:function gne(n,e){const t=hS(Iz,n,e);return t&&new _3(t)},deps:[[new l.FiY,y3],hh]};let vne=(()=>{class n{constructor(){(0,Ze.registerVersion)("angularfire",_0.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[yne,_ne]}),n})();function bne(n,...e){return{ngModule:vne,providers:[{provide:y3,useFactory:mne(n),multi:!0,deps:[l.R0b,l.zs3,pS,mS,[new l.FiY,sL],[new l.FiY,ES],...e]}]}}const wne=gS(cne,!0);var Cne=M(6304);let Tne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[MC]}),n.\u0275inj=l.cJS({providers:[{provide:Cne.Dh,useValue:NN.firebase}],imports:[cm,z$,YM,up,X3,PP,A4,sK(()=>oK(NN.firebase)),UJ(()=>HJ()),bne(()=>wne()),qJ(()=>ZJ())]}),n})();sr().bootstrapModule(Tne).catch(n=>console.error(n))},5619:(Xe,he,M)=>{M.d(he,{X:()=>U});var l=M(8645);class U extends l.x{constructor(Y){super(),this._value=Y}get value(){return this.getValue()}_subscribe(Y){const se=super._subscribe(Y);return!se.closed&&Y.next(this._value),se}getValue(){const{hasError:Y,thrownError:se,_value:fe}=this;if(Y)throw se;return this._throwIfClosed(),fe}next(Y){super.next(this._value=Y)}}},5592:(Xe,he,M)=>{M.d(he,{y:()=>Be});var l=M(305),U=M(7394),X=M(4850),Y=M(8407),se=M(2653),fe=M(4674),Pe=M(1441);let Be=(()=>{class ${constructor(ve){ve&&(this._subscribe=ve)}lift(ve){const We=new $;return We.source=this,We.operator=ve,We}subscribe(ve,We,et){const me=function N($){return $&&$ instanceof l.Lv||function F($){return $&&(0,fe.m)($.next)&&(0,fe.m)($.error)&&(0,fe.m)($.complete)}($)&&(0,U.Nn)($)}(ve)?ve:new l.Hp(ve,We,et);return(0,Pe.x)(()=>{const{operator:Ee,source:nt}=this;me.add(Ee?Ee.call(me,nt):nt?this._subscribe(me):this._trySubscribe(me))}),me}_trySubscribe(ve){try{return this._subscribe(ve)}catch(We){ve.error(We)}}forEach(ve,We){return new(We=ye(We))((et,me)=>{const Ee=new l.Hp({next:nt=>{try{ve(nt)}catch(ct){me(ct),Ee.unsubscribe()}},error:me,complete:et});this.subscribe(Ee)})}_subscribe(ve){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(ve)}[X.L](){return this}pipe(...ve){return(0,Y.U)(ve)(this)}toPromise(ve){return new(ve=ye(ve))((We,et)=>{let me;this.subscribe(Ee=>me=Ee,Ee=>et(Ee),()=>We(me))})}}return $.create=Ae=>new $(Ae),$})();function ye($){var Ae;return null!==(Ae=$??se.config.Promise)&&void 0!==Ae?Ae:Promise}},8645:(Xe,he,M)=>{M.d(he,{x:()=>Pe});var l=M(5592),U=M(7394);const Y=(0,M(2306).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=M(9039),fe=M(1441);let Pe=(()=>{class ye extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(N){const $=new Be(this,this);return $.operator=N,$}_throwIfClosed(){if(this.closed)throw new Y}next(N){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const $ of this.currentObservers)$.next(N)}})}error(N){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=N;const{observers:$}=this;for(;$.length;)$.shift().error(N)}})}complete(){(0,fe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:N}=this;for(;N.length;)N.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var N;return(null===(N=this.observers)||void 0===N?void 0:N.length)>0}_trySubscribe(N){return this._throwIfClosed(),super._trySubscribe(N)}_subscribe(N){return this._throwIfClosed(),this._checkFinalizedStatuses(N),this._innerSubscribe(N)}_innerSubscribe(N){const{hasError:$,isStopped:Ae,observers:ve}=this;return $||Ae?U.Lc:(this.currentObservers=null,ve.push(N),new U.w0(()=>{this.currentObservers=null,(0,se.P)(ve,N)}))}_checkFinalizedStatuses(N){const{hasError:$,thrownError:Ae,isStopped:ve}=this;$?N.error(Ae):ve&&N.complete()}asObservable(){const N=new l.y;return N.source=this,N}}return ye.create=(F,N)=>new Be(F,N),ye})();class Be extends Pe{constructor(F,N){super(),this.destination=F,this.source=N}next(F){var N,$;null===($=null===(N=this.destination)||void 0===N?void 0:N.next)||void 0===$||$.call(N,F)}error(F){var N,$;null===($=null===(N=this.destination)||void 0===N?void 0:N.error)||void 0===$||$.call(N,F)}complete(){var F,N;null===(N=null===(F=this.destination)||void 0===F?void 0:F.complete)||void 0===N||N.call(F)}_subscribe(F){var N,$;return null!==($=null===(N=this.source)||void 0===N?void 0:N.subscribe(F))&&void 0!==$?$:U.Lc}}},305:(Xe,he,M)=>{M.d(he,{Hp:()=>et,Lv:()=>$});var l=M(4674),U=M(7394),X=M(2653),Y=M(3894),se=M(2420);const fe=ye("C",void 0,void 0);function ye(ne,ue,Q){return{kind:ne,value:ue,error:Q}}var F=M(7599),N=M(1441);class $ extends U.w0{constructor(ue){super(),this.isStopped=!1,ue?(this.destination=ue,(0,U.Nn)(ue)&&ue.add(this)):this.destination=ct}static create(ue,Q,ge){return new et(ue,Q,ge)}next(ue){this.isStopped?nt(function Be(ne){return ye("N",ne,void 0)}(ue),this):this._next(ue)}error(ue){this.isStopped?nt(function Pe(ne){return ye("E",void 0,ne)}(ue),this):(this.isStopped=!0,this._error(ue))}complete(){this.isStopped?nt(fe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ue){this.destination.next(ue)}_error(ue){try{this.destination.error(ue)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function ve(ne,ue){return Ae.call(ne,ue)}class We{constructor(ue){this.partialObserver=ue}next(ue){const{partialObserver:Q}=this;if(Q.next)try{Q.next(ue)}catch(ge){me(ge)}}error(ue){const{partialObserver:Q}=this;if(Q.error)try{Q.error(ue)}catch(ge){me(ge)}else me(ue)}complete(){const{partialObserver:ue}=this;if(ue.complete)try{ue.complete()}catch(Q){me(Q)}}}class et extends ${constructor(ue,Q,ge){let be;if(super(),(0,l.m)(ue)||!ue)be={next:ue??void 0,error:Q??void 0,complete:ge??void 0};else{let pe;this&&X.config.useDeprecatedNextContext?(pe=Object.create(ue),pe.unsubscribe=()=>this.unsubscribe(),be={next:ue.next&&ve(ue.next,pe),error:ue.error&&ve(ue.error,pe),complete:ue.complete&&ve(ue.complete,pe)}):be=ue}this.destination=new We(be)}}function me(ne){X.config.useDeprecatedSynchronousErrorHandling?(0,N.O)(ne):(0,Y.h)(ne)}function nt(ne,ue){const{onStoppedNotification:Q}=X.config;Q&&F.z.setTimeout(()=>Q(ne,ue))}const ct={closed:!0,next:se.Z,error:function Ee(ne){throw ne},complete:se.Z}},7394:(Xe,he,M)=>{M.d(he,{Lc:()=>fe,w0:()=>se,Nn:()=>Pe});var l=M(4674);const X=(0,M(2306).d)(ye=>function(N){ye(this),this.message=N?`${N.length} errors occurred during unsubscription:\n${N.map(($,Ae)=>`${Ae+1}) ${$.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=N});var Y=M(9039);class se{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:N}=this;if(N)if(this._parentage=null,Array.isArray(N))for(const ve of N)ve.remove(this);else N.remove(this);const{initialTeardown:$}=this;if((0,l.m)($))try{$()}catch(ve){F=ve instanceof X?ve.errors:[ve]}const{_finalizers:Ae}=this;if(Ae){this._finalizers=null;for(const ve of Ae)try{Be(ve)}catch(We){F=F??[],We instanceof X?F=[...F,...We.errors]:F.push(We)}}if(F)throw new X(F)}}add(F){var N;if(F&&F!==this)if(this.closed)Be(F);else{if(F instanceof se){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._finalizers=null!==(N=this._finalizers)&&void 0!==N?N:[]).push(F)}}_hasParent(F){const{_parentage:N}=this;return N===F||Array.isArray(N)&&N.includes(F)}_addParent(F){const{_parentage:N}=this;this._parentage=Array.isArray(N)?(N.push(F),N):N?[N,F]:F}_removeParent(F){const{_parentage:N}=this;N===F?this._parentage=null:Array.isArray(N)&&(0,Y.P)(N,F)}remove(F){const{_finalizers:N}=this;N&&(0,Y.P)(N,F),F instanceof se&&F._removeParent(this)}}se.EMPTY=(()=>{const ye=new se;return ye.closed=!0,ye})();const fe=se.EMPTY;function Pe(ye){return ye instanceof se||ye&&"closed"in ye&&(0,l.m)(ye.remove)&&(0,l.m)(ye.add)&&(0,l.m)(ye.unsubscribe)}function Be(ye){(0,l.m)(ye)?ye():ye.unsubscribe()}},2653:(Xe,he,M)=>{M.d(he,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(Xe,he,M)=>{M.d(he,{E:()=>U});const U=new(M(5592).y)(se=>se.complete())},2459:(Xe,he,M)=>{M.d(he,{D:()=>ue});var l=M(4829),U=M(3093),X=M(5137),fe=M(5592),Be=M(4971),ye=M(4674),F=M(7103);function $(Q,ge){if(!Q)throw new Error("Iterable cannot be null");return new fe.y(be=>{(0,F.f)(be,ge,()=>{const pe=Q[Symbol.asyncIterator]();(0,F.f)(be,ge,()=>{pe.next().then(ce=>{ce.done?be.complete():be.next(ce.value)})},0,!0)})})}var Ae=M(8382),ve=M(4026),We=M(4266),et=M(3664),me=M(5726),Ee=M(9853),nt=M(541);function ue(Q,ge){return ge?function ne(Q,ge){if(null!=Q){if((0,Ae.c)(Q))return function Y(Q,ge){return(0,l.Xf)(Q).pipe((0,X.R)(ge),(0,U.Q)(ge))}(Q,ge);if((0,We.z)(Q))return function Pe(Q,ge){return new fe.y(be=>{let pe=0;return ge.schedule(function(){pe===Q.length?be.complete():(be.next(Q[pe++]),be.closed||this.schedule())})})}(Q,ge);if((0,ve.t)(Q))return function se(Q,ge){return(0,l.Xf)(Q).pipe((0,X.R)(ge),(0,U.Q)(ge))}(Q,ge);if((0,me.D)(Q))return $(Q,ge);if((0,et.T)(Q))return function N(Q,ge){return new fe.y(be=>{let pe;return(0,F.f)(be,ge,()=>{pe=Q[Be.h](),(0,F.f)(be,ge,()=>{let ce,Oe;try{({value:ce,done:Oe}=pe.next())}catch(Ln){return void be.error(Ln)}Oe?be.complete():be.next(ce)},0,!0)}),()=>(0,ye.m)(pe?.return)&&pe.return()})}(Q,ge);if((0,nt.L)(Q))return function ct(Q,ge){return $((0,nt.Q)(Q),ge)}(Q,ge)}throw(0,Ee.z)(Q)}(Q,ge):(0,l.Xf)(Q)}},4829:(Xe,he,M)=>{M.d(he,{Xf:()=>Ae});var l=M(7582),U=M(4266),X=M(4026),Y=M(5592),se=M(8382),fe=M(5726),Pe=M(9853),Be=M(3664),ye=M(541),F=M(4674),N=M(3894),$=M(4850);function Ae(ne){if(ne instanceof Y.y)return ne;if(null!=ne){if((0,se.c)(ne))return function ve(ne){return new Y.y(ue=>{const Q=ne[$.L]();if((0,F.m)(Q.subscribe))return Q.subscribe(ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ne);if((0,U.z)(ne))return function We(ne){return new Y.y(ue=>{for(let Q=0;Q<ne.length&&!ue.closed;Q++)ue.next(ne[Q]);ue.complete()})}(ne);if((0,X.t)(ne))return function et(ne){return new Y.y(ue=>{ne.then(Q=>{ue.closed||(ue.next(Q),ue.complete())},Q=>ue.error(Q)).then(null,N.h)})}(ne);if((0,fe.D)(ne))return Ee(ne);if((0,Be.T)(ne))return function me(ne){return new Y.y(ue=>{for(const Q of ne)if(ue.next(Q),ue.closed)return;ue.complete()})}(ne);if((0,ye.L)(ne))return function nt(ne){return Ee((0,ye.Q)(ne))}(ne)}throw(0,Pe.z)(ne)}function Ee(ne){return new Y.y(ue=>{(function ct(ne,ue){var Q,ge,be,pe;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Q=(0,l.KL)(ne);!(ge=yield Q.next()).done;)if(ue.next(ge.value),ue.closed)return}catch(ce){be={error:ce}}finally{try{ge&&!ge.done&&(pe=Q.return)&&(yield pe.call(Q))}finally{if(be)throw be.error}}ue.complete()})})(ne,ue).catch(Q=>ue.error(Q))})}},2096:(Xe,he,M)=>{M.d(he,{of:()=>X});var l=M(4564),U=M(2459);function X(...Y){const se=(0,l.yG)(Y);return(0,U.D)(Y,se)}},8251:(Xe,he,M)=>{M.d(he,{x:()=>U});var l=M(305);function U(Y,se,fe,Pe,Be){return new X(Y,se,fe,Pe,Be)}class X extends l.Lv{constructor(se,fe,Pe,Be,ye,F){super(se),this.onFinalize=ye,this.shouldUnsubscribe=F,this._next=fe?function(N){try{fe(N)}catch($){se.error($)}}:super._next,this._error=Be?function(N){try{Be(N)}catch($){se.error($)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(N){se.error(N)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:fe}=this;super.unsubscribe(),!fe&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},7398:(Xe,he,M)=>{M.d(he,{U:()=>X});var l=M(9360),U=M(8251);function X(Y,se){return(0,l.e)((fe,Pe)=>{let Be=0;fe.subscribe((0,U.x)(Pe,ye=>{Pe.next(Y.call(se,ye,Be++))}))})}},7537:(Xe,he,M)=>{M.d(he,{J:()=>X});var l=M(1631),U=M(2737);function X(Y=1/0){return(0,l.z)(U.y,Y)}},1631:(Xe,he,M)=>{M.d(he,{z:()=>Be});var l=M(7398),U=M(4829),X=M(9360),Y=M(7103),se=M(8251),Pe=M(4674);function Be(ye,F,N=1/0){return(0,Pe.m)(F)?Be(($,Ae)=>(0,l.U)((ve,We)=>F($,ve,Ae,We))((0,U.Xf)(ye($,Ae))),N):("number"==typeof F&&(N=F),(0,X.e)(($,Ae)=>function fe(ye,F,N,$,Ae,ve,We,et){const me=[];let Ee=0,nt=0,ct=!1;const ne=()=>{ct&&!me.length&&!Ee&&F.complete()},ue=ge=>Ee<$?Q(ge):me.push(ge),Q=ge=>{ve&&F.next(ge),Ee++;let be=!1;(0,U.Xf)(N(ge,nt++)).subscribe((0,se.x)(F,pe=>{Ae?.(pe),ve?ue(pe):F.next(pe)},()=>{be=!0},void 0,()=>{if(be)try{for(Ee--;me.length&&Ee<$;){const pe=me.shift();We?(0,Y.f)(F,We,()=>Q(pe)):Q(pe)}ne()}catch(pe){F.error(pe)}}))};return ye.subscribe((0,se.x)(F,ue,()=>{ct=!0,ne()})),()=>{et?.()}}($,Ae,ye,N)))}},3093:(Xe,he,M)=>{M.d(he,{Q:()=>Y});var l=M(7103),U=M(9360),X=M(8251);function Y(se,fe=0){return(0,U.e)((Pe,Be)=>{Pe.subscribe((0,X.x)(Be,ye=>(0,l.f)(Be,se,()=>Be.next(ye),fe),()=>(0,l.f)(Be,se,()=>Be.complete(),fe),ye=>(0,l.f)(Be,se,()=>Be.error(ye),fe)))})}},5137:(Xe,he,M)=>{M.d(he,{R:()=>U});var l=M(9360);function U(X,Y=0){return(0,l.e)((se,fe)=>{fe.add(X.schedule(()=>se.subscribe(fe),Y))})}},4664:(Xe,he,M)=>{M.d(he,{w:()=>Y});var l=M(4829),U=M(9360),X=M(8251);function Y(se,fe){return(0,U.e)((Pe,Be)=>{let ye=null,F=0,N=!1;const $=()=>N&&!ye&&Be.complete();Pe.subscribe((0,X.x)(Be,Ae=>{ye?.unsubscribe();let ve=0;const We=F++;(0,l.Xf)(se(Ae,We)).subscribe(ye=(0,X.x)(Be,et=>Be.next(fe?fe(Ae,et,We,ve++):et),()=>{ye=null,$()}))},()=>{N=!0,$()}))})}},7599:(Xe,he,M)=>{M.d(he,{z:()=>l});const l={setTimeout(U,X,...Y){const{delegate:se}=l;return se?.setTimeout?se.setTimeout(U,X,...Y):setTimeout(U,X,...Y)},clearTimeout(U){const{delegate:X}=l;return(X?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4971:(Xe,he,M)=>{M.d(he,{h:()=>U});const U=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(Xe,he,M)=>{M.d(he,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(Xe,he,M)=>{M.d(he,{_6:()=>fe,jO:()=>Y,yG:()=>se});var l=M(4674);function X(Pe){return Pe[Pe.length-1]}function Y(Pe){return(0,l.m)(X(Pe))?Pe.pop():void 0}function se(Pe){return function U(Pe){return Pe&&(0,l.m)(Pe.schedule)}(X(Pe))?Pe.pop():void 0}function fe(Pe,Be){return"number"==typeof X(Pe)?Pe.pop():Be}},9039:(Xe,he,M)=>{function l(U,X){if(U){const Y=U.indexOf(X);0<=Y&&U.splice(Y,1)}}M.d(he,{P:()=>l})},2306:(Xe,he,M)=>{function l(U){const Y=U(se=>{Error.call(se),se.stack=(new Error).stack});return Y.prototype=Object.create(Error.prototype),Y.prototype.constructor=Y,Y}M.d(he,{d:()=>l})},1441:(Xe,he,M)=>{M.d(he,{O:()=>Y,x:()=>X});var l=M(2653);let U=null;function X(se){if(l.config.useDeprecatedSynchronousErrorHandling){const fe=!U;if(fe&&(U={errorThrown:!1,error:null}),se(),fe){const{errorThrown:Pe,error:Be}=U;if(U=null,Pe)throw Be}}else se()}function Y(se){l.config.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=se)}},7103:(Xe,he,M)=>{function l(U,X,Y,se=0,fe=!1){const Pe=X.schedule(function(){Y(),fe?U.add(this.schedule(null,se)):this.unsubscribe()},se);if(U.add(Pe),!fe)return Pe}M.d(he,{f:()=>l})},2737:(Xe,he,M)=>{function l(U){return U}M.d(he,{y:()=>l})},4266:(Xe,he,M)=>{M.d(he,{z:()=>l});const l=U=>U&&"number"==typeof U.length&&"function"!=typeof U},5726:(Xe,he,M)=>{M.d(he,{D:()=>U});var l=M(4674);function U(X){return Symbol.asyncIterator&&(0,l.m)(X?.[Symbol.asyncIterator])}},4674:(Xe,he,M)=>{function l(U){return"function"==typeof U}M.d(he,{m:()=>l})},8382:(Xe,he,M)=>{M.d(he,{c:()=>X});var l=M(4850),U=M(4674);function X(Y){return(0,U.m)(Y[l.L])}},3664:(Xe,he,M)=>{M.d(he,{T:()=>X});var l=M(4971),U=M(4674);function X(Y){return(0,U.m)(Y?.[l.h])}},4026:(Xe,he,M)=>{M.d(he,{t:()=>U});var l=M(4674);function U(X){return(0,l.m)(X?.then)}},541:(Xe,he,M)=>{M.d(he,{L:()=>Y,Q:()=>X});var l=M(7582),U=M(4674);function X(se){return(0,l.FC)(this,arguments,function*(){const Pe=se.getReader();try{for(;;){const{value:Be,done:ye}=yield(0,l.qq)(Pe.read());if(ye)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Be)}}finally{Pe.releaseLock()}})}function Y(se){return(0,U.m)(se?.getReader)}},9360:(Xe,he,M)=>{M.d(he,{A:()=>U,e:()=>X});var l=M(4674);function U(Y){return(0,l.m)(Y?.lift)}function X(Y){return se=>{if(U(se))return se.lift(function(fe){try{return Y(fe,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(Xe,he,M)=>{function l(){}M.d(he,{Z:()=>l})},8407:(Xe,he,M)=>{M.d(he,{U:()=>X,z:()=>U});var l=M(2737);function U(...Y){return X(Y)}function X(Y){return 0===Y.length?l.y:1===Y.length?Y[0]:function(fe){return Y.reduce((Pe,Be)=>Be(Pe),fe)}}},3894:(Xe,he,M)=>{M.d(he,{h:()=>X});var l=M(2653),U=M(7599);function X(Y){U.z.setTimeout(()=>{const{onUnhandledError:se}=l.config;if(!se)throw Y;se(Y)})}},9853:(Xe,he,M)=>{function l(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(he,{z:()=>l})},4946:(Xe,he,M)=>{M.d(he,{tb:()=>Bp,AFp:()=>iD,ip1:()=>zE,hGG:()=>De,z2F:()=>Ka,Ojb:()=>zs,sBO:()=>cx,Sil:()=>sx,EJc:()=>jE,Xts:()=>Zu,SBq:()=>sc,lqb:()=>_a,qLn:()=>oc,vpe:()=>es,XFs:()=>we,OlP:()=>Rt,zs3:()=>$s,ZZ4:()=>ot,aQg:()=>qt,soG:()=>Oc,YKP:()=>hE,h0i:()=>Ts,PXZ:()=>fi,R0b:()=>wr,FiY:()=>Wh,Lbi:()=>Ef,g9A:()=>Tf,Qsj:()=>l_,FYo:()=>sC,JOm:()=>ms,tp0:()=>ut,Rgc:()=>Td,dDg:()=>hv,eoX:()=>Vp,q4F:()=>qi,GfV:()=>u_,s_b:()=>Do,ifc:()=>Ue,VuI:()=>Ja,MMx:()=>jn,Lck:()=>gy,eFA:()=>Ni,Gpc:()=>pe,f3M:()=>mt,X6Q:()=>Fc,$WT:()=>Cl,MR2:()=>vf,_c5:()=>mn,qFp:()=>Ss,rg0:()=>x3,c2e:()=>xc,zSh:()=>nc,HDt:()=>cn,wAp:()=>tt,vHH:()=>Le,lri:()=>uv,rWj:()=>dv,cg1:()=>iy,kL8:()=>ZT,dqk:()=>Qt,Z0I:()=>Os,eJc:()=>xp,QGY:()=>U_,F4k:()=>H_,RDi:()=>cV,AaK:()=>Q,qOj:()=>Zs,Xq5:()=>JC,TTD:()=>Cb,_Bn:()=>md,jDz:()=>fE,xp6:()=>yC,uIk:()=>Bf,ekj:()=>sp,Suo:()=>jy,Xpm:()=>lb,lG2:()=>ub,Yz7:()=>on,cJS:()=>Ke,oAB:()=>Kg,Yjl:()=>db,Y36:()=>lc,_UZ:()=>Qs,qZA:()=>L_,TgZ:()=>Kf,EpF:()=>B_,n5z:()=>sa,LFG:()=>Vt,$8M:()=>Tm,$Z:()=>IC,NdJ:()=>G_,CRH:()=>vr,oxw:()=>ep,Q6J:()=>ld,DdM:()=>bp,VKq:()=>wp,WLB:()=>Cp,iGM:()=>zy,MAs:()=>F_,KtG:()=>lm,CHM:()=>kb,P3R:()=>Q1,YNc:()=>cT,_uU:()=>ap,Oqu:()=>lp,hij:()=>cp});var l=M(8645),U=M(7394),X=M(5619),Y=M(5592),se=M(7537),fe=M(4829),Pe=M(6232),Be=M(4564),ye=M(2459),N=M(2096),$=M(305),Ae=M(9360);function ve(s={}){const{connector:a=(()=>new l.x),resetOnError:c=!0,resetOnComplete:d=!0,resetOnRefCountZero:h=!0}=s;return p=>{let m,y,b,C=0,T=!1,S=!1;const O=()=>{y?.unsubscribe(),y=void 0},L=()=>{O(),m=b=void 0,T=S=!1},J=()=>{const ae=m;L(),ae?.unsubscribe()};return(0,Ae.e)((ae,Se)=>{C++,!S&&!T&&O();const Ve=b=b??a();Se.add(()=>{C--,0===C&&!S&&!T&&(y=We(J,h))}),Ve.subscribe(Se),!m&&C>0&&(m=new $.Hp({next:ee=>Ve.next(ee),error:ee=>{S=!0,O(),y=We(L,c,ee),Ve.error(ee)},complete:()=>{T=!0,O(),y=We(L,d),Ve.complete()}}),(0,fe.Xf)(ae).subscribe(m))})(p)}}function We(s,a,...c){if(!0===a)return void s();if(!1===a)return;const d=new $.Hp({next:()=>{d.unsubscribe(),s()}});return(0,fe.Xf)(a(...c)).subscribe(d)}var et=M(4664),me=M(2737),Ee=M(8251);function ct(s,a){return s===a}function ne(s){for(let a in s)if(s[a]===ne)return a;throw Error("Could not find renamed property on target object.")}function ue(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function Q(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Q).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function ge(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const be=ne({__forward_ref__:ne});function pe(s){return s.__forward_ref__=pe,s.toString=function(){return Q(this())},s}function ce(s){return Oe(s)?s():s}function Oe(s){return"function"==typeof s&&s.hasOwnProperty(be)&&s.__forward_ref__===pe}function Ln(s){return s&&!!s.\u0275providers}const Ps="https://g.co/ng/security#xss";class Le extends Error{constructor(a,c){super(function q(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,c)),this.code=a}}function V(s){return"string"==typeof s?s:null==s?"":String(s)}function qe(s,a){throw new Le(-201,!1)}function cr(s,a){null==s&&function It(s,a,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function on(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ke(s){return{providers:s.providers||[],imports:s.imports||[]}}function Qe(s){return as(s,vn)||as(s,zt)}function Os(s){return null!==Qe(s)}function as(s,a){return s.hasOwnProperty(a)?s[a]:null}function Ti(s){return s&&(s.hasOwnProperty(yl)||s.hasOwnProperty(Sh))?s[yl]:null}const vn=ne({\u0275prov:ne}),yl=ne({\u0275inj:ne}),zt=ne({ngInjectableDef:ne}),Sh=ne({ngInjectorDef:ne});var we=(()=>((we=we||{})[we.Default=0]="Default",we[we.Host=1]="Host",we[we.Self=2]="Self",we[we.SkipSelf=4]="SkipSelf",we[we.Optional=8]="Optional",we))();let vl;function Vn(s){const a=vl;return vl=s,a}function oo(s,a,c){const d=Qe(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&we.Optional?null:void 0!==a?a:void qe(Q(s))}const Qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),lo={},co="__NG_DI_FLAG__",uo="ngTempTokenPath",P=/\n/gm,te="__source";let G;function Ye(s){const a=G;return G=s,a}function Lt(s,a=we.Default){if(void 0===G)throw new Le(-203,!1);return null===G?oo(s,void 0,a):G.get(s,a&we.Optional?null:void 0,a)}function Vt(s,a=we.Default){return(function Ns(){return vl}()||Lt)(ce(s),a)}function mt(s,a=we.Default){return Vt(s,yt(a))}function yt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Ar(s){const a=[];for(let c=0;c<s.length;c++){const d=ce(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Le(900,!1);let h,p=we.Default;for(let m=0;m<d.length;m++){const y=d[m],b=wl(y);"number"==typeof b?-1===b?h=y.token:p|=b:h=y}a.push(Vt(h,p))}else a.push(Vt(d))}return a}function jr(s,a){return s[co]=a,s.prototype[co]=a,s}function wl(s){return s[co]}function B(s){return{toString:s}.toString()}var le=(()=>((le=le||{})[le.OnPush=0]="OnPush",le[le.Default=1]="Default",le))(),Ue=(()=>{return(s=Ue||(Ue={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ue;var s})();const Je={},ke=[],Mt=ne({\u0275cmp:ne}),Bn=ne({\u0275dir:ne}),bn=ne({\u0275pipe:ne}),ho=ne({\u0275mod:ne}),$r=ne({\u0275fac:ne}),Ko=ne({__NG_ELEMENT_ID__:ne}),jg=ne({__NG_ENV_ID__:ne});function ur(s,a,c){let d=s.length;for(;;){const h=s.indexOf(a,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=a.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}c=h+1}}function $g(s,a,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const p=c[d++],m=c[d++],y=c[d++];s.setAttribute(a,m,y,p)}else{const p=h,m=c[++d];rb(p)?s.setProperty(a,p,m):s.setAttribute(a,p,m),d++}}return d}function Wg(s){return 3===s||4===s||6===s}function rb(s){return 64===s.charCodeAt(0)}function Hi(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?c=h:0===c||qg(s,c,h,null,-1===c||2===c?a[++d]:null)}}return s}function qg(s,a,c,d,h){let p=0,m=s.length;if(-1===a)m=-1;else for(;p<s.length;){const y=s[p++];if("number"==typeof y){if(y===a){m=-1;break}if(y>a){m=p-1;break}}}for(;p<s.length;){const y=s[p];if("number"==typeof y)break;if(y===c){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==m&&(s.splice(m,0,a),p=m+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}const CA="ng-template";function dr(s,a,c){let d=0,h=!0;for(;d<s.length;){let p=s[d++];if("string"==typeof p&&h){const m=s[d++];if(c&&"class"===p&&-1!==ur(m.toLowerCase(),a,0))return!0}else{if(1===p){for(;d<s.length&&"string"==typeof(p=s[d++]);)if(p.toLowerCase()===a)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function ib(s){return 4===s.type&&s.value!==CA}function sb(s,a,c){return a===(4!==s.type||c?s.value:CA)}function Zg(s,a,c){let d=4;const h=s.attrs||[],p=function ab(s){for(let a=0;a<s.length;a++)if(Wg(s[a]))return a;return s.length}(h);let m=!1;for(let y=0;y<a.length;y++){const b=a[y];if("number"!=typeof b){if(!m)if(4&d){if(d=2|1&d,""!==b&&!sb(s,b,c)||""===b&&1===a.length){if(ii(d))return!1;m=!0}}else{const C=8&d?b:a[++y];if(8&d&&null!==s.attrs){if(!dr(s.attrs,C,c)){if(ii(d))return!1;m=!0}continue}const S=TA(8&d?"class":b,h,ib(s),c);if(-1===S){if(ii(d))return!1;m=!0;continue}if(""!==C){let O;O=S>p?"":h[S+1].toLowerCase();const L=8&d?O:null;if(L&&-1!==ur(L,C,0)||2&d&&C!==O){if(ii(d))return!1;m=!0}}}}else{if(!m&&!ii(d)&&!ii(b))return!1;if(m&&ii(b))continue;m=!1,d=b|1&d}}return ii(d)||m}function ii(s){return 0==(1&s)}function TA(s,a,c,d){if(null===a)return-1;let h=0;if(d||!c){let p=!1;for(;h<a.length;){const m=a[h];if(m===s)return h;if(3===m||6===m)p=!0;else{if(1===m||2===m){let y=a[++h];for(;"string"==typeof y;)y=a[++h];continue}if(4===m)break;if(0===m){h+=4;continue}}h+=p?1:2}return-1}return function EA(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,s)}function ob(s,a,c=!1){for(let d=0;d<a.length;d++)if(Zg(s,a[d],c))return!0;return!1}function IA(s,a){return s?":not("+a.trim()+")":a}function b3(s){let a=s[0],c=1,d=2,h="",p=!1;for(;c<s.length;){let m=s[c];if("string"==typeof m)if(2&d){const y=s[++c];h+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&d?h+="."+m:4&d&&(h+=" "+m);else""!==h&&!ii(m)&&(a+=IA(p,h),h=""),d=m,p=p||!ii(d);c++}return""!==h&&(a+=IA(p,h)),a}function lb(s){return B(()=>{const a=hb(s),c={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===le.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Ue.Emulated,styles:s.styles||ke,_:null,schemas:s.schemas||null,tView:null,id:""};fb(c);const d=s.dependencies;return c.directiveDefs=Dh(d,!1),c.pipeDefs=Dh(d,!0),c.id=function pb(s){let a=0;const c=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const h of c)a=Math.imul(31,a)+h.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function DA(s){return Nt(s)||hr(s)}function MA(s){return null!==s}function Kg(s){return B(()=>({type:s.type,bootstrap:s.bootstrap||ke,declarations:s.declarations||ke,imports:s.imports||ke,exports:s.exports||ke,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function cb(s,a){if(null==s)return Je;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,a&&(a[h]=p)}return c}function ub(s){return B(()=>{const a=hb(s);return fb(a),a})}function db(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Nt(s){return s[Mt]||null}function hr(s){return s[Bn]||null}function Wr(s){return s[bn]||null}function Cl(s){const a=Nt(s)||hr(s)||Wr(s);return null!==a&&a.standalone}function si(s,a){const c=s[ho]||null;if(!c&&!0===a)throw new Error(`Type ${Q(s)} does not have '\u0275mod' property.`);return c}function hb(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:s.inputs||Je,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||ke,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cb(s.inputs,a),outputs:cb(s.outputs)}}function fb(s){s.features?.forEach(a=>a(s))}function Dh(s,a){if(!s)return null;const c=a?Wr:DA;return()=>("function"==typeof s?s():s).map(d=>c(d)).filter(MA)}const Un=0,Re=1,ht=2,Yt=3,oi=4,Mh=5,Dr=6,ks=7,wn=8,Tl=9,Qo=10,ft=11,Rs=12,Qg=13,_u=14,Hn=15,Ph=16,El=17,us=18,Il=19,gb=20,Yo=21,ds=22,Yg=23,Sl=24,Ct=25,Jg=1,mb=2,ai=7,yu=9,fr=11;function Ei(s){return Array.isArray(s)&&"object"==typeof s[Jg]}function qr(s){return Array.isArray(s)&&!0===s[Jg]}function Xg(s){return 0!=(4&s.flags)}function Jo(s){return s.componentOffset>-1}function em(s){return 1==(1&s.flags)}function hs(s){return!!s.template}function tm(s){return 0!=(512&s[ht])}function Xo(s,a){return s.hasOwnProperty($r)?s[$r]:null}let vb=Qt.WeakRef??class yb{constructor(a){this.ref=a}deref(){return this.ref}},BA=0,zi=null,nm=!1;function ir(s){const a=zi;return zi=s,a}class UA{constructor(){this.id=BA++,this.ref=function A3(s){return new vb(s)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[a,c]of this.producers){const d=c.producerNode.deref();if(void 0!==d&&c.atTrackingVersion===this.trackingVersion){if(d.producerPollStatus(c.seenValueVersion))return!0}else this.producers.delete(a),d?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const a=nm;nm=!0;try{for(const[c,d]of this.consumers){const h=d.consumerNode.deref();void 0!==h&&h.trackingVersion===d.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(c),h?.producers.delete(this.id))}}finally{nm=a}}producerAccessed(){if(nm)throw new Error("");if(null===zi)return;let a=zi.producers.get(this.id);void 0===a?(a={consumerNode:zi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:zi.trackingVersion},zi.producers.set(this.id,a),this.consumers.set(zi.id,a)):(a.seenValueVersion=this.valueVersion,a.atTrackingVersion=zi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==zi?.consumerAllowSignalWrites}producerPollStatus(a){return this.valueVersion!==a||(this.onProducerUpdateValueVersion(),this.valueVersion!==a)}}let HA=null;function x3(s){const a=ir(null);try{return s()}finally{ir(a)}}const zA=()=>{};class O3 extends UA{constructor(a,c,d){super(),this.watch=a,this.schedule=c,this.dirty=!1,this.cleanupFn=zA,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=d}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const a=ir(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=zA,this.watch(this.registerOnCleanup)}finally{ir(a)}}cleanup(){this.cleanupFn()}}class N3{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Cb(){return jA}function jA(s){return s.type.prototype.ngOnChanges&&(s.setInput=$A),kh}function kh(){const s=Al(this),a=s?.current;if(a){const c=s.previous;if(c===Je)s.previous=a;else for(let d in a)c[d]=a[d];s.current=null,this.ngOnChanges(a)}}function $A(s,a,c,d){const h=this.declaredInputs[c],p=Al(s)||function WA(s,a){return s[Rh]=a}(s,{previous:Je,current:null}),m=p.current||(p.current={}),y=p.previous,b=y[h];m[h]=new N3(b&&b.currentValue,a,y===Je),s[d]=a}Cb.ngInherit=!0;const Rh="__ngSimpleChanges__";function Al(s){return s[Rh]||null}const fs=function(s,a,c){};function Wt(s){for(;Array.isArray(s);)s=s[Un];return s}function Ml(s,a){return Wt(a[s])}function Mr(s,a){return Wt(a[s.index])}function Lh(s,a){return s.data[a]}function li(s,a){const c=a[s];return Ei(c)?c:c[Un]}function fo(s,a){return null==a?null:s[a]}function Ib(s){s[El]=0}function Sb(s){1024&s[ht]||(s[ht]|=1024,Vh(s,1))}function am(s){1024&s[ht]&&(s[ht]&=-1025,Vh(s,-1))}function Vh(s,a){let c=s[Yt];if(null===c)return;c[Mh]+=a;let d=c;for(c=c[Yt];null!==c&&(1===a&&1===d[Mh]||-1===a&&0===d[Mh]);)c[Mh]+=a,d=c,c=c[Yt]}const it={lFrame:r1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ob(){return it.bindingsEnabled}function ie(){return it.lFrame.lView}function St(){return it.lFrame.tView}function kb(s){return it.lFrame.contextLView=s,s[wn]}function lm(s){return it.lFrame.contextLView=null,s}function sr(){let s=Rb();for(;null!==s&&64===s.type;)s=s.parent;return s}function Rb(){return it.lFrame.currentTNode}function ji(s,a){const c=it.lFrame;c.currentTNode=s,c.isParent=a}function cm(){return it.lFrame.isParent}function pr(){const s=it.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Ol(){return it.lFrame.bindingIndex++}function V3(s,a){const c=it.lFrame;c.bindingIndex=c.bindingRootIndex=s,Vb(a)}function Vb(s){it.lFrame.currentDirectiveIndex=s}function e1(){return it.lFrame.currentQueryIndex}function Bb(s){it.lFrame.currentQueryIndex=s}function U3(s){const a=s[Re];return 2===a.type?a.declTNode:1===a.type?s[Dr]:null}function t1(s,a,c){if(c&we.SkipSelf){let h=a,p=s;for(;!(h=h.parent,null!==h||c&we.Host||(h=U3(p),null===h||(p=p[_u],10&h.type))););if(null===h)return!1;a=h,s=p}const d=it.lFrame=n1();return d.currentTNode=a,d.lView=s,!0}function Ub(s){const a=n1(),c=s[Re];it.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function n1(){const s=it.lFrame,a=null===s?null:s.child;return null===a?r1(s):a}function r1(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function i1(){const s=it.lFrame;return it.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Hb=i1;function Bh(){const s=i1();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Zr(){return it.lFrame.selectedIndex}function Nl(s){it.lFrame.selectedIndex=s}function pn(){const s=it.lFrame;return Lh(s.tView,s.selectedIndex)}let fm=!0;function pm(){return fm}function ta(s){fm=s}function Vs(s,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:b,ngAfterViewChecked:C,ngOnDestroy:T}=p;m&&(s.contentHooks??=[]).push(-c,m),y&&((s.contentHooks??=[]).push(c,y),(s.contentCheckHooks??=[]).push(c,y)),b&&(s.viewHooks??=[]).push(-c,b),C&&((s.viewHooks??=[]).push(c,C),(s.viewCheckHooks??=[]).push(c,C)),null!=T&&(s.destroyHooks??=[]).push(c,T)}}function Kr(s,a,c){zb(s,a,3,c)}function Uh(s,a,c,d){(3&s[ht])===c&&zb(s,a,c,d)}function gm(s,a){let c=s[ht];(3&c)===a&&(c&=8191,c+=1,s[ht]=c)}function zb(s,a,c,d){const p=d??-1,m=a.length-1;let y=0;for(let b=void 0!==d?65535&s[El]:0;b<m;b++)if("number"==typeof a[b+1]){if(y=a[b],null!=d&&y>=d)break}else a[b]<0&&(s[El]+=65536),(y<p||-1==p)&&($b(s,c,a,b),s[El]=(4294901760&s[El])+b+2),b++}function jb(s,a){fs(4,s,a);const c=ir(null);try{a.call(s)}finally{ir(c),fs(5,s,a)}}function $b(s,a,c,d){const h=c[d]<0,p=c[d+1],y=s[h?-c[d]:c[d]];h?s[ht]>>13<s[El]>>16&&(3&s[ht])===a&&(s[ht]+=8192,jb(y,p)):jb(y,p)}const kl=-1;class Cn{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Wb(s){return s!==kl}function na(s){return 32767&s}function Cu(s,a){let c=function o1(s){return s>>16}(s),d=a;for(;c>0;)d=d[_u],c--;return d}let ra=!0;function Hh(s){const a=ra;return ra=s,a}const Bs=255,Pr=5;let ia=0;const Gn={};function Rl(s,a){const c=Tu(s,a);if(-1!==c)return c;const d=a[Re];d.firstCreatePass&&(s.injectorIndex=a.length,vm(d.data,s),vm(a,null),vm(d.blueprint,null));const h=bm(s,a),p=s.injectorIndex;if(Wb(h)){const m=na(h),y=Cu(h,a),b=y[Re].data;for(let C=0;C<8;C++)a[p+C]=y[m+C]|b[m+C]}return a[p+8]=h,p}function vm(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Tu(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function bm(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=a;for(;null!==h;){if(d=Vl(h),null===d)return kl;if(c++,h=h[_u],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return kl}function Gh(s,a,c){!function a1(s,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ko)&&(d=c[Ko]),null==d&&(d=c[Ko]=ia++);const h=d&Bs;a.data[s+(h>>Pr)]|=1<<h}(s,a,c)}function Fl(s,a,c){if(c&we.Optional||void 0!==s)return s;qe()}function wm(s,a,c,d){if(c&we.Optional&&void 0===d&&(d=null),!(c&(we.Self|we.Host))){const h=s[Tl],p=Vn(void 0);try{return h?h.get(a,d,c&we.Optional):oo(a,d,c&we.Optional)}finally{Vn(p)}}return Fl(d,0,c)}function Cm(s,a,c,d=we.Default,h){if(null!==s){if(2048&a[ht]&&!(d&we.Self)){const m=function Q3(s,a,c,d,h){let p=s,m=a;for(;null!==p&&null!==m&&2048&m[ht]&&!(512&m[ht]);){const y=l1(p,m,c,d|we.Self,Gn);if(y!==Gn)return y;let b=p.parent;if(!b){const C=m[gb];if(C){const T=C.get(c,Gn,d);if(T!==Gn)return T}b=Vl(m),m=m[_u]}p=b}return h}(s,a,c,d,Gn);if(m!==Gn)return m}const p=l1(s,a,c,d,Gn);if(p!==Gn)return p}return wm(a,c,d,h)}function l1(s,a,c,d,h){const p=function u1(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Ko)?s[Ko]:void 0;return"number"==typeof a?a>=0?a&Bs:K3:a}(c);if("function"==typeof p){if(!t1(a,s,d))return d&we.Host?Fl(h,0,d):wm(a,c,d,h);try{const m=p(d);if(null!=m||d&we.Optional)return m;qe()}finally{Hb()}}else if("number"==typeof p){let m=null,y=Tu(s,a),b=kl,C=d&we.Host?a[Hn][Dr]:null;for((-1===y||d&we.SkipSelf)&&(b=-1===y?bm(s,a):a[y+8],b!==kl&&zh(d,!1)?(m=a[Re],y=na(b),a=Cu(b,a)):y=-1);-1!==y;){const T=a[Re];if(Zb(p,y,T.data)){const S=c1(y,a,c,m,d,C);if(S!==Gn)return S}b=a[y+8],b!==kl&&zh(d,a[Re].data[y+8]===C)&&Zb(p,y,a)?(m=T,y=na(b),a=Cu(b,a)):y=-1}}return h}function c1(s,a,c,d,h,p){const m=a[Re],y=m.data[s+8],T=Eu(y,m,c,null==d?Jo(y)&&ra:d!=m&&0!=(3&y.type),h&we.Host&&p===y);return null!==T?$i(a,m,T,y):Gn}function Eu(s,a,c,d,h){const p=s.providerIndexes,m=a.data,y=1048575&p,b=s.directiveStart,T=p>>20,O=h?y+T:s.directiveEnd;for(let L=d?y:y+T;L<O;L++){const J=m[L];if(L<b&&c===J||L>=b&&J.type===c)return L}if(h){const L=m[b];if(L&&hs(L)&&L.type===c)return b}return null}function $i(s,a,c,d){let h=s[c];const p=a.data;if(function bu(s){return s instanceof Cn}(h)){const m=h;m.resolving&&function de(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Le(-200,`Circular dependency in DI detected for ${s}${c}`)}(function W(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():V(s)}(p[c]));const y=Hh(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?Vn(m.injectImpl):null;t1(s,d,we.Default);try{h=s[c]=m.factory(void 0,p,s,d),a.firstCreatePass&&c>=d.directiveStart&&function q3(s,a,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=a.type.prototype;if(d){const m=jA(a);(c.preOrderHooks??=[]).push(s,m),(c.preOrderCheckHooks??=[]).push(s,m)}h&&(c.preOrderHooks??=[]).push(0-s,h),p&&((c.preOrderHooks??=[]).push(s,p),(c.preOrderCheckHooks??=[]).push(s,p))}(c,p[c],a)}finally{null!==b&&Vn(b),Hh(y),m.resolving=!1,Hb()}}return h}function Zb(s,a,c){return!!(c[a+(s>>Pr)]&1<<s)}function zh(s,a){return!(s&we.Self||s&we.Host&&a)}class Ll{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Cm(this._tNode,this._lView,a,yt(d),c)}}function K3(){return new Ll(sr(),ie())}function sa(s){return B(()=>{const a=s.prototype.constructor,c=a[$r]||jh(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[$r]||jh(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function jh(s){return Oe(s)?()=>{const a=jh(ce(s));return a&&a()}:Xo(s)}function Vl(s){const a=s[Re],c=a.type;return 2===c?a.declTNode:1===c?s[Dr]:null}function Tm(s){return function qb(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(Wg(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===a)return c[h+1];h+=2}}}return null}(sr(),s)}const Us="__parameters__";function po(s,a,c){return B(()=>{const d=function Kb(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(a);function h(...p){if(this instanceof h)return d.apply(this,p),this;const m=new h(...p);return y.annotation=m,y;function y(b,C,T){const S=b.hasOwnProperty(Us)?b[Us]:Object.defineProperty(b,Us,{value:[]})[Us];for(;S.length<=T;)S.push(null);return(S[T]=S[T]||[]).push(m),b}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}function rt(s,a){s.forEach(c=>Array.isArray(c)?rt(c,a):a(c))}function Di(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function $h(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Qr(s,a,c){let d=Tn(s,a);return d>=0?s[1|d]=c:(d=~d,function Au(s,a,c,d){let h=s.length;if(h==a)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=c,s[a+1]=d}}(s,d,a,c)),d}function Mi(s,a){const c=Tn(s,a);if(c>=0)return s[1|c]}function Tn(s,a){return function Im(s,a,c){let d=0,h=s.length>>c;for(;h!==d;){const p=d+(h-d>>1),m=s[p<<c];if(a===m)return p<<c;m>a?h=p:d=p+1}return~(h<<c)}(s,a,1)}const Wh=jr(po("Optional"),8),ut=jr(po("SkipSelf"),4);function Jh(s){return 128==(128&s.flags)}var ms=(()=>((ms=ms||{})[ms.Important=1]="Important",ms[ms.DashCase=2]="DashCase",ms))();const km=new Map;let hw=0;const Lm="__ngContext__";function mr(s,a){Ei(a)?(s[Lm]=a[Il],function ef(s){km.set(s[Il],s)}(a)):s[Lm]=a}let Wi;function ql(s,a){return Wi(s,a)}function ha(s){const a=s[Yt];return qr(a)?a[Yt]:a}function mw(s){return yw(s[Rs])}function _w(s){return yw(s[oi])}function yw(s){for(;null!==s&&!qr(s);)s=s[oi];return s}function Zl(s,a,c,d,h){if(null!=d){let p,m=!1;qr(d)?p=d:Ei(d)&&(m=!0,d=d[Un]);const y=Wt(d);0===s&&null!==c?null==h?Ew(a,c,y):wo(a,c,y,h||null,!0):1===s&&null!==c?wo(a,c,y,h||null,!0):2===s?function Ql(s,a,c){const d=Lu(s,a);d&&function Iw(s,a,c,d){s.removeChild(a,c,d)}(s,d,a,c)}(a,y,m):3===s&&a.destroyNode(y),null!=p&&function M1(s,a,c,d,h){const p=c[ai];p!==Wt(c)&&Zl(a,s,d,p,h);for(let y=fr;y<c.length;y++){const b=c[y];Yl(b[Re],b,s,a,d,p)}}(a,s,p,c,h)}}function sf(s,a,c){return s.createElement(a,c)}function af(s,a){const c=s[yu],d=c.indexOf(a);am(a),c.splice(d,1)}function Ru(s,a){if(s.length<=fr)return;const c=fr+a,d=s[c];if(d){const h=d[Ph];null!==h&&h!==s&&af(h,d),a>0&&(s[c-1][oi]=d[oi]);const p=$h(s,fr+a);!function A1(s,a){Yl(s,a,a[ft],2,null,null),a[Un]=null,a[Dr]=null}(d[Re],d);const m=p[us];null!==m&&m.detachView(p[Re]),d[Yt]=null,d[oi]=null,d[ht]&=-129}return d}function ys(s,a){if(!(256&a[ht])){const c=a[ft];a[Yg]?.destroy(),a[Sl]?.destroy(),c.destroyNode&&Yl(s,a,c,3,null,null),function D1(s){let a=s[Rs];if(!a)return vo(s[Re],s);for(;a;){let c=null;if(Ei(a))c=a[Rs];else{const d=a[fr];d&&(c=d)}if(!c){for(;a&&!a[oi]&&a!==s;)Ei(a)&&vo(a[Re],a),a=a[Yt];null===a&&(a=s),Ei(a)&&vo(a[Re],a),c=a&&a[oi]}a=c}}(a)}}function vo(s,a){if(!(256&a[ht])){a[ht]&=-129,a[ht]|=256,function Tw(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=a[c[d]];if(!(h instanceof Cn)){const p=c[d+1];if(Array.isArray(p))for(let m=0;m<p.length;m+=2){const y=h[p[m]],b=p[m+1];fs(4,y,b);try{b.call(y)}finally{fs(5,y,b)}}else{fs(4,h,p);try{p.call(h)}finally{fs(5,h,p)}}}}}(s,a),function Cw(s,a){const c=s.cleanup,d=a[ks];if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const m=c[p+3];m>=0?d[m]():d[-m].unsubscribe(),p+=2}else c[p].call(d[c[p+1]]);null!==d&&(a[ks]=null);const h=a[Yo];if(null!==h){a[Yo]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(s,a),1===a[Re].type&&a[ft].destroy();const c=a[Ph];if(null!==c&&qr(a[Yt])){c!==a[Yt]&&af(c,a);const d=a[us];null!==d&&d.detachView(s)}!function Rm(s){km.delete(s[Il])}(a)}}function Hm(s,a,c){return function bo(s,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[Un];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:p}=s.data[d.directiveStart+h];if(p===Ue.None||p===Ue.Emulated)return null}return Mr(d,c)}}(s,a.parent,c)}function wo(s,a,c,d,h){s.insertBefore(a,c,d,h)}function Ew(s,a,c){s.appendChild(a,c)}function Fu(s,a,c,d,h){null!==d?wo(s,a,c,d,h):Ew(s,a,c)}function Lu(s,a){return s.parentNode(a)}let Kl,fa,ff,Aw=function cf(s,a,c){return 40&s.type?Mr(s,c):null};function uf(s,a,c,d){const h=Hm(s,d,a),p=a[ft],y=function lf(s,a,c){return Aw(s,a,c)}(d.parent||a[Dr],d,a);if(null!=h)if(Array.isArray(c))for(let b=0;b<c.length;b++)Fu(p,h,c[b],y,!1);else Fu(p,h,c,y,!1);void 0!==Kl&&Kl(p,d,a,c,h)}function Hs(s,a){if(null!==a){const c=a.type;if(3&c)return Mr(a,s);if(4&c)return jm(-1,s[a.index]);if(8&c){const d=a.child;if(null!==d)return Hs(s,d);{const h=s[a.index];return qr(h)?jm(-1,h):Wt(h)}}if(32&c)return ql(a,s)()||Wt(s[a.index]);{const d=Dw(s,a);return null!==d?Array.isArray(d)?d[0]:Hs(ha(s[Hn]),d):Hs(s,a.next)}}return null}function Dw(s,a){return null!==a?s[Hn][Dr].projection[a.projection]:null}function jm(s,a){const c=fr+s+1;if(c<a.length){const d=a[c],h=d[Re].firstChild;if(null!==h)return Hs(d,h)}return a[ai]}function df(s,a,c,d,h,p,m){for(;null!=c;){const y=d[c.index],b=c.type;if(m&&0===a&&(y&&mr(Wt(y),d),c.flags|=2),32!=(32&c.flags))if(8&b)df(s,a,c.child,d,h,p,!1),Zl(a,s,h,y,p);else if(32&b){const C=ql(c,d);let T;for(;T=C();)Zl(a,s,h,T,p);Zl(a,s,h,y,p)}else 16&b?Wm(s,a,d,c,h,p):Zl(a,s,h,y,p);c=m?c.projectionNext:c.next}}function Yl(s,a,c,d,h,p){df(c,d,s.firstChild,a,h,p,!1)}function Wm(s,a,c,d,h,p){const m=c[Hn],b=m[Dr].projection[d.projection];if(Array.isArray(b))for(let C=0;C<b.length;C++)Zl(a,s,h,b[C],p);else{let C=b;const T=m[Yt];Jh(d)&&(C.flags|=128),df(s,a,C,T,h,p,!0)}}function P1(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function x1(s,a,c){const{mergedAttrs:d,classes:h,styles:p}=c;null!==d&&$g(s,a,d),null!==h&&P1(s,a,h),null!==p&&function lV(s,a,c){s.setAttribute(a,"style",c)}(s,a,p)}function cV(s){fa=s}function Ow(s){return function pf(){if(void 0===ff&&(ff=null,Qt.trustedTypes))try{ff=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ff}()?.createScriptURL(s)||s}class pa{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ps})`}}function Co(s){return s instanceof pa?s.changingThisBreaksApplicationSecurity:s}function zu(s,a){const c=function F1(s){return s instanceof pa&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${Ps})`)}return c===a}const V1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var xn=(()=>((xn=xn||{})[xn.NONE=0]="NONE",xn[xn.HTML=1]="HTML",xn[xn.STYLE=2]="STYLE",xn[xn.SCRIPT=3]="SCRIPT",xn[xn.URL=4]="URL",xn[xn.RESOURCE_URL=5]="RESOURCE_URL",xn))();function Lw(s){const a=qu();return a?a.sanitize(xn.URL,s)||"":zu(s,"URL")?Co(s):function Km(s){return(s=String(s)).match(V1)?s:"unsafe:"+s}(V(s))}function Vw(s){const a=qu();if(a)return Ow(a.sanitize(xn.RESOURCE_URL,s)||"");if(zu(s,"ResourceURL"))return Ow(Co(s));throw new Le(904,!1)}function Q1(s,a,c){return function Bw(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?Vw:Lw}(a,c)(s)}function qu(){const s=ie();return s&&s[Qo].sanitizer}class Rt{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=on({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Zu=new Rt("ENVIRONMENT_INITIALIZER"),Uw=new Rt("INJECTOR",-1),Hw=new Rt("INJECTOR_DEF_TYPES");class Gw{get(a,c=lo){if(c===lo){const d=new Error(`NullInjectorError: No provider for ${Q(a)}!`);throw d.name="NullInjectorError",d}return c}}function vf(s){return{\u0275providers:s}}function Jm(...s){return{\u0275providers:ga(0,s),\u0275fromNgModule:!0}}function ga(s,...a){const c=[],d=new Set;let h;return rt(a,p=>{const m=p;Xm(m,c,[],d)&&(h||=[],h.push(m))}),void 0!==h&&bf(h,c),c}function bf(s,a){for(let c=0;c<s.length;c++){const{providers:h}=s[c];tc(h,p=>{a.push(p)})}}function Xm(s,a,c,d){if(!(s=ce(s)))return!1;let h=null,p=Ti(s);const m=!p&&Nt(s);if(p||m){if(m&&!m.standalone)return!1;h=s}else{const b=s.ngModule;if(p=Ti(b),!p)return!1;h=b}const y=d.has(h);if(m){if(y)return!1;if(d.add(h),m.dependencies){const b="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const C of b)Xm(C,a,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!y){let C;d.add(h);try{rt(p.imports,T=>{Xm(T,a,c,d)&&(C||=[],C.push(T))})}finally{}void 0!==C&&bf(C,a)}if(!y){const C=Xo(h)||(()=>new h);a.push({provide:h,useFactory:C,deps:ke},{provide:Hw,useValue:h,multi:!0},{provide:Zu,useValue:()=>Vt(h),multi:!0})}const b=p.providers;null==b||y||tc(b,T=>{a.push(T)})}}return h!==s&&void 0!==s.providers}function tc(s,a){for(let c of s)Ln(c)&&(c=c.\u0275providers),Array.isArray(c)?tc(c,a):a(c)}const zw=ne({provide:String,useValue:ne});function wf(s){return null!==s&&"object"==typeof s&&zw in s}function ma(s){return"function"==typeof s}const nc=new Rt("Set Injector scope."),Cf={},tD={};let Or;function Ku(){return void 0===Or&&(Or=new Gw),Or}class _a{}class e_ extends _a{get destroyed(){return this._destroyed}constructor(a,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zw(a,m=>this.processProvider(m)),this.records.set(Uw,kr(void 0,this)),h.has("environment")&&this.records.set(_a,kr(void 0,this));const p=this.records.get(nc);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Hw.multi,ke,we.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=Ye(this),d=Vn(void 0);try{return a()}finally{Ye(c),Vn(d)}}get(a,c=lo,d=we.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(jg))return a[jg](this);d=yt(d);const h=Ye(this),p=Vn(void 0);try{if(!(d&we.SkipSelf)){let y=this.records.get(a);if(void 0===y){const b=function qw(s){return"function"==typeof s||"object"==typeof s&&s instanceof Rt}(a)&&Qe(a);y=b&&this.injectableDefInScope(b)?kr(t_(a),Cf):null,this.records.set(a,y)}if(null!=y)return this.hydrate(a,y)}return(d&we.Self?Ku():this.parent).get(a,c=d&we.Optional&&c===lo?null:c)}catch(m){if("NullInjectorError"===m.name){if((m[uo]=m[uo]||[]).unshift(Q(a)),h)throw m;return function zg(s,a,c,d){const h=s[uo];throw a[te]&&h.unshift(a[te]),s.message=function K(s,a,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=Q(a);if(Array.isArray(a))h=a.map(Q).join(" -> ");else if("object"==typeof a){let p=[];for(let m in a)if(a.hasOwnProperty(m)){let y=a[m];p.push(m+":"+("string"==typeof y?JSON.stringify(y):Q(y)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(P,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[uo]=null,s}(m,a,"R3InjectorError",this.source)}throw m}finally{Vn(p),Ye(h)}}resolveInjectorInitializers(){const a=Ye(this),c=Vn(void 0);try{const d=this.get(Zu.multi,ke,we.Self);for(const h of d)h()}finally{Ye(a),Vn(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(Q(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(a){let c=ma(a=ce(a))?a:ce(a&&a.provide);const d=function Nr(s){return wf(s)?kr(void 0,s.useValue):kr(Ww(s),Cf)}(a);if(ma(a)||!0!==a.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=kr(void 0,Cf,!0),h.factory=()=>Ar(h.multi),this.records.set(c,h)),c=a,h.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===Cf&&(c.value=tD,c.value=c.factory()),"object"==typeof c.value&&c.value&&function rD(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=ce(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function t_(s){const a=Qe(s),c=null!==a?a.factory:Xo(s);if(null!==c)return c;if(s instanceof Rt)throw new Le(204,!1);if(s instanceof Function)return function nD(s){const a=s.length;if(a>0)throw function go(s,a){const c=[];for(let d=0;d<s;d++)c.push(a);return c}(a,"?"),new Le(204,!1);const c=function Ci(s){return s&&(s[vn]||s[zt])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Le(204,!1)}function Ww(s,a,c){let d;if(ma(s)){const h=ce(s);return Xo(h)||t_(h)}if(wf(s))d=()=>ce(s.useValue);else if(function $w(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Ar(s.deps||[]));else if(function jw(s){return!(!s||!s.useExisting)}(s))d=()=>Vt(ce(s.useExisting));else{const h=ce(s&&(s.useClass||s.provide));if(!function n_(s){return!!s.deps}(s))return Xo(h)||t_(h);d=()=>new h(...Ar(s.deps))}return d}function kr(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function Zw(s,a){for(const c of s)Array.isArray(c)?Zw(c,a):c&&Ln(c)?Zw(c.\u0275providers,a):a(c)}const iD=new Rt("AppId",{providedIn:"root",factory:()=>sD}),sD="ng",Tf=new Rt("Platform Initializer"),Ef=new Rt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zs=new Rt("CSP nonce",{providedIn:"root",factory:()=>function Vu(){if(void 0!==fa)return fa;if(typeof document<"u")return document;throw new Le(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Jw=(s,a)=>null;function Xw(s,a){return Jw(s,a)}class iC{}class ya{}class To{resolveComponentFactory(a){throw function a_(s){const a=Error(`No component factory found for ${Q(s)}.`);return a.ngComponent=s,a}(a)}}let ed=(()=>{class s{}return s.NULL=new To,s})();function gD(){return ic(sr(),ie())}function ic(s,a){return new sc(Mr(s,a))}let sc=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=gD,s})();function mD(s){return s instanceof sc?s.nativeElement:s}class sC{}let l_=(()=>{class s{constructor(){this.destroyNode=null}}return s.__NG_ELEMENT_ID__=()=>function c_(){const s=ie(),c=li(sr().index,s);return(Ei(c)?c:s)[ft]}(),s})(),_D=(()=>{class s{}return s.\u0275prov=on({token:s,providedIn:"root",factory:()=>null}),s})();class u_{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const qi=new u_("16.1.2"),d_={};function Rr(s){for(;s;){s[ht]|=64;const a=ha(s);if(tm(s)&&!a)return s;s=a}return null}function h_(s){return s.ngOriginalError}class oc{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&h_(a);for(;c&&h_(c);)c=h_(c);return c||null}}const lC=new Rt("",{providedIn:"root",factory:()=>!1});function js(s){return s instanceof Function?s():s}class pC extends UA{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(a){this._lView=a}onConsumerDependencyMayHaveChanged(){Rr(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(a,c,d){const h=ir(this);this.trackingVersion++;try{a(c,d)}finally{ir(h)}}destroy(){this.trackingVersion++}}let Of=null;function gC(){return Of??=new pC,Of}function mC(s,a){return s[a]??gC()}function _C(s,a){const c=gC();c.hasReadASignal&&(s[a]=Of,c.lView=s,Of=new pC)}const st={};function yC(s){vC(St(),ie(),Zr()+s,!1)}function vC(s,a,c,d){if(!d)if(3==(3&a[ht])){const p=s.preOrderCheckHooks;null!==p&&Kr(a,p,c)}else{const p=s.preOrderHooks;null!==p&&Uh(a,p,0,c)}Nl(c)}function TC(s,a=null,c=null,d){const h=EC(s,a,c,d);return h.resolveInjectorInitializers(),h}function EC(s,a=null,c=null,d,h=new Set){const p=[c||ke,Jm(s)];return d=d||("object"==typeof s?void 0:Q(s)),new e_(p,a||Ku(),d||null,h)}let $s=(()=>{class s{static create(c,d){if(Array.isArray(c))return TC({name:""},d,c,"");{const h=c.name??"";return TC({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=lo,s.NULL=new Gw,s.\u0275prov=on({token:s,providedIn:"any",factory:()=>Vt(Uw)}),s.__NG_ELEMENT_ID__=-1,s})();function lc(s,a=we.Default){const c=ie();return null===c?Vt(s,a):Cm(sr(),c,ce(s),a)}function IC(){throw new Error("invalid")}function Nf(s,a,c,d,h,p,m,y,b,C,T){const S=a.blueprint.slice();return S[Un]=h,S[ht]=140|d,(null!==C||s&&2048&s[ht])&&(S[ht]|=2048),Ib(S),S[Yt]=S[_u]=s,S[wn]=c,S[Qo]=m||s&&s[Qo],S[ft]=y||s&&s[ft],S[Tl]=b||s&&s[Tl]||null,S[Dr]=p,S[Il]=function fw(){return hw++}(),S[ds]=T,S[gb]=C,S[Hn]=2==a.type?s[Hn]:S,S}function cc(s,a,c,d,h){let p=s.data[a];if(null===p)p=function g_(s,a,c,d,h){const p=Rb(),m=cm(),b=s.data[a]=function RD(s,a,c,d,h,p){let m=a?a.injectorIndex:-1,y=0;return function Pl(){return null!==it.skipHydrationRootTNode}()&&(y|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:y,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?p:p&&p.parent,c,a,d,h);return null===s.firstChild&&(s.firstChild=b),null!==p&&(m?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b,b.prev=p)),b}(s,a,c,d,h),function um(){return it.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const m=function xl(){const s=it.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===m?-1:m.injectorIndex}return ji(p,!0),p}function Ws(s,a,c,d){if(0===c)return-1;const h=a.length;for(let p=0;p<c;p++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function SC(s,a,c,d,h){const p=mC(a,Yg),m=Zr(),y=2&d;try{if(Nl(-1),y&&a.length>Ct&&vC(s,a,Ct,!1),fs(y?2:0,h),y)p.runInContext(c,d,h);else{const C=ir(null);try{c(d,h)}finally{ir(C)}}}finally{y&&null===a[Yg]&&_C(a,Yg),Nl(m),fs(y?3:1,h)}}function td(s,a,c){if(Xg(a)){const d=ir(null);try{const p=a.directiveEnd;for(let m=a.directiveStart;m<p;m++){const y=s.data[m];y.contentQueries&&y.contentQueries(1,c[m],m)}}finally{ir(d)}}}function m_(s,a,c){Ob()&&(function HD(s,a,c,d){const h=c.directiveStart,p=c.directiveEnd;Jo(c)&&function NC(s,a,c){const d=Mr(a,s),h=AC(c);let m=16;c.signals?m=4096:c.onPush&&(m=64);const y=kf(s,Nf(s,h,null,m,d,a,null,s[Qo].rendererFactory.createRenderer(d,c),null,null,null));s[a.index]=y}(a,c,s.data[h+c.componentOffset]),s.firstCreatePass||Rl(c,a),mr(d,a);const m=c.initialInputs;for(let y=h;y<p;y++){const b=s.data[y],C=$i(a,s,y,c);mr(C,a),null!==m&&qD(0,y-h,C,b,0,m),hs(b)&&(li(c.index,a)[wn]=$i(a,s,y,c))}}(s,a,c,Mr(c,a)),64==(64&c.flags)&&xC(s,a,c))}function __(s,a,c=Mr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let p=0;p<d.length;p+=2){const m=d[p+1],y=-1===m?c(a,s):s[m];s[h++]=y}}}function AC(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=y_(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):a}function y_(s,a,c,d,h,p,m,y,b,C,T){const S=Ct+d,O=S+h,L=function MD(s,a){const c=[];for(let d=0;d<a;d++)c.push(d<s?null:st);return c}(S,O),J="function"==typeof C?C():C;return L[Re]={type:s,blueprint:L,template:c,queries:null,viewQuery:y,declTNode:a,data:L.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:J,incompleteFirstPass:!1,ssrId:T}}let DC=s=>null;function MC(s,a,c,d){for(let h in s)if(s.hasOwnProperty(h)){c=null===c?{}:c;const p=s[h];null===d?v_(c,a,h,p):d.hasOwnProperty(h)&&v_(c,a,d[h],p)}return c}function v_(s,a,c,d){s.hasOwnProperty(c)?s[c].push(a,d):s[c]=[a,d]}function b_(s,a,c,d){if(Ob()){const h=null===d?null:{"":-1},p=function zD(s,a){const c=s.directiveRegistry;let d=null,h=null;if(c)for(let p=0;p<c.length;p++){const m=c[p];if(ob(a,m.selectors,!1))if(d||(d=[]),hs(m))if(null!==m.findHostDirectiveDefs){const y=[];h=h||new Map,m.findHostDirectiveDefs(m,y,h),d.unshift(...y,m),w_(s,a,y.length)}else d.unshift(m),w_(s,a,0);else h=h||new Map,m.findHostDirectiveDefs?.(m,d,h),d.push(m)}return null===d?null:[d,h]}(s,c);let m,y;null===p?m=y=null:[m,y]=p,null!==m&&PC(s,a,c,m,h,y),h&&function OC(s,a,c){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const p=c[a[h+1]];if(null==p)throw new Le(-301,!1);d.push(a[h],p)}}}(c,d,h)}c.mergedAttrs=Hi(c.mergedAttrs,c.attrs)}function PC(s,a,c,d,h,p){for(let C=0;C<d.length;C++)Gh(Rl(c,a),s,d[C].type);!function $D(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}(c,s.data.length,d.length);for(let C=0;C<d.length;C++){const T=d[C];T.providersResolver&&T.providersResolver(T)}let m=!1,y=!1,b=Ws(s,a,d.length,null);for(let C=0;C<d.length;C++){const T=d[C];c.mergedAttrs=Hi(c.mergedAttrs,T.hostAttrs),WD(s,c,a,b,T),jD(b,T,h),null!==T.contentQueries&&(c.flags|=4),(null!==T.hostBindings||null!==T.hostAttrs||0!==T.hostVars)&&(c.flags|=64);const S=T.type.prototype;!m&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((s.preOrderHooks??=[]).push(c.index),m=!0),!y&&(S.ngOnChanges||S.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(c.index),y=!0),b++}!function FD(s,a,c){const h=a.directiveEnd,p=s.data,m=a.attrs,y=[];let b=null,C=null;for(let T=a.directiveStart;T<h;T++){const S=p[T],O=c?c.get(S):null,J=O?O.outputs:null;b=MC(S.inputs,T,b,O?O.inputs:null),C=MC(S.outputs,T,C,J);const ae=null===b||null===m||ib(a)?null:ZD(b,T,m);y.push(ae)}null!==b&&(b.hasOwnProperty("class")&&(a.flags|=8),b.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=y,a.inputs=b,a.outputs=C}(s,c,p)}function xC(s,a,c){const d=c.directiveStart,h=c.directiveEnd,p=c.index,m=function B3(){return it.lFrame.currentDirectiveIndex}();try{Nl(p);for(let y=d;y<h;y++){const b=s.data[y],C=a[y];Vb(y),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&GD(b,C)}}finally{Nl(-1),Vb(m)}}function GD(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function w_(s,a,c){a.componentOffset=c,(s.components??=[]).push(a.index)}function jD(s,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=s;hs(a)&&(c[""]=s)}}function WD(s,a,c,d,h){s.data[d]=h;const p=h.factory||(h.factory=Xo(h.type)),m=new Cn(p,hs(h),lc);s.blueprint[d]=m,c[d]=m,function BD(s,a,c,d,h){const p=h.hostBindings;if(p){let m=s.hostBindingOpCodes;null===m&&(m=s.hostBindingOpCodes=[]);const y=~a.index;(function UD(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(m)!=y&&m.push(y),m.push(c,d,p)}}(s,a,d,Ws(s,c,h.hostVars,st),h)}function ws(s,a,c,d,h,p){const m=Mr(s,a);!function C_(s,a,c,d,h,p,m){if(null==p)s.removeAttribute(a,h,c);else{const y=null==m?V(p):m(p,d||"",h);s.setAttribute(a,h,y,c)}}(a[ft],m,p,s.value,c,d,h)}function qD(s,a,c,d,h,p){const m=p[a];if(null!==m)for(let y=0;y<m.length;)kC(d,c,m[y++],m[y++],m[y++])}function kC(s,a,c,d,h){const p=ir(null);try{const m=s.inputTransforms;null!==m&&m.hasOwnProperty(d)&&(h=m[d].call(a,h)),null!==s.setInput?s.setInput(a,h,c,d):a[d]=h}finally{ir(p)}}function ZD(s,a,c){let d=null,h=0;for(;h<c.length;){const p=c[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===d&&(d=[]);const m=s[p];for(let y=0;y<m.length;y+=2)if(m[y]===a){d.push(p,m[y+1],c[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function RC(s,a,c,d){return[s,!0,!1,a,null,0,d,c,null,null,null]}function FC(s,a){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const p=c[d+1];if(-1!==p){const m=s.data[p];Bb(c[d]),m.contentQueries(2,a[p],p)}}}function kf(s,a){return s[Rs]?s[Qg][oi]=a:s[Rs]=a,s[Qg]=a,a}function T_(s,a,c){Bb(0);const d=ir(null);try{a(s,c)}finally{ir(d)}}function LC(s){return s[ks]||(s[ks]=[])}function VC(s){return s.cleanup||(s.cleanup=[])}function UC(s,a){const c=s[Tl],d=c?c.get(oc,null):null;d&&d.handleError(a)}function E_(s,a,c,d,h){for(let p=0;p<c.length;){const m=c[p++],y=c[p++];kC(s.data[m],a[m],d,y,h)}}function KD(s,a){const c=li(a,s),d=c[Re];!function QD(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])}(d,c);const h=c[Un];null!==h&&null===c[ds]&&(c[ds]=Xw(h,c[Tl])),I_(d,c,c[wn])}function I_(s,a,c){Ub(a);try{const d=s.viewQuery;null!==d&&T_(1,d,c);const h=s.template;null!==h&&SC(s,a,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&FC(s,a),s.staticViewQueries&&T_(2,s.viewQuery,c);const p=s.components;null!==p&&function YD(s,a){for(let c=0;c<a.length;c++)KD(s,a[c])}(a,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[ht]&=-5,Bh()}}let HC=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(c,d,h){const p=typeof Zone>"u"?null:Zone.current,m=new O3(c,C=>{this.all.has(C)&&this.queue.set(C,p)},h);let y;this.all.add(m),m.notify();const b=()=>{m.cleanup(),y?.(),this.all.delete(m),this.queue.delete(m)};return y=d?.onDestroy(b),{destroy:b}}flush(){if(0!==this.queue.size)for(const[c,d]of this.queue)this.queue.delete(c),d?d.run(()=>c.run()):c.run()}get isQueueEmpty(){return 0===this.queue.size}}return s.\u0275prov=on({token:s,providedIn:"root",factory:()=>new s}),s})();function Rf(s,a,c){let d=c?s.styles:null,h=c?s.classes:null,p=0;if(null!==a)for(let m=0;m<a.length;m++){const y=a[m];"number"==typeof y?p=y:1==p?h=ge(h,y):2==p&&(d=ge(d,y+": "+a[++m]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function nd(s,a,c,d,h=!1){for(;null!==c;){const p=a[c.index];if(null!==p&&d.push(Wt(p)),qr(p)){for(let y=fr;y<p.length;y++){const b=p[y],C=b[Re].firstChild;null!==C&&nd(b[Re],b,C,d)}p[ai]!==p[Un]&&d.push(p[ai])}const m=c.type;if(8&m)nd(s,a,c.child,d);else if(32&m){const y=ql(c,a);let b;for(;b=y();)d.push(b)}else if(16&m){const y=Dw(a,c);if(Array.isArray(y))d.push(...y);else{const b=ha(a[Hn]);nd(b[Re],b,y,d,!0)}}c=h?c.projectionNext:c.next}return d}function Ff(s,a,c,d=!0){const h=a[Qo].rendererFactory;h.begin&&h.begin();try{GC(s,a,s.template,c)}catch(m){throw d&&UC(a,m),m}finally{h.end&&h.end(),a[Qo].effectManager?.flush()}}function GC(s,a,c,d){const h=a[ht];if(256!=(256&h)){a[Qo].effectManager?.flush(),Ub(a);try{Ib(a),function Fs(s){return it.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&SC(s,a,c,2,d);const m=3==(3&h);if(m){const C=s.preOrderCheckHooks;null!==C&&Kr(a,C,null)}else{const C=s.preOrderHooks;null!==C&&Uh(a,C,0,null),gm(a,0)}if(function nM(s){for(let a=mw(s);null!==a;a=_w(a)){if(!a[mb])continue;const c=a[yu];for(let d=0;d<c.length;d++){Sb(c[d])}}}(a),zC(a,2),null!==s.contentQueries&&FC(s,a),m){const C=s.contentCheckHooks;null!==C&&Kr(a,C)}else{const C=s.contentHooks;null!==C&&Uh(a,C,1),gm(a,1)}!function DD(s,a){const c=s.hostBindingOpCodes;if(null===c)return;const d=mC(a,Sl);try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)Nl(~p);else{const m=p,y=c[++h],b=c[++h];V3(y,m),d.runInContext(b,2,a[m])}}}finally{null===a[Sl]&&_C(a,Sl),Nl(-1)}}(s,a);const y=s.components;null!==y&&$C(a,y,0);const b=s.viewQuery;if(null!==b&&T_(2,b,d),m){const C=s.viewCheckHooks;null!==C&&Kr(a,C)}else{const C=s.viewHooks;null!==C&&Uh(a,C,2),gm(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[ht]&=-73,am(a)}finally{Bh()}}}function zC(s,a){for(let c=mw(s);null!==c;c=_w(c))for(let d=fr;d<c.length;d++)jC(c[d],a)}function rM(s,a,c){jC(li(a,s),c)}function jC(s,a){if(!function KA(s){return 128==(128&s[ht])}(s))return;const c=s[Re];if(80&s[ht]&&0===a||1024&s[ht]||2===a)GC(c,s,c.template,s[wn]);else if(s[Mh]>0){zC(s,1);const h=s[Re].components;null!==h&&$C(s,h,1)}}function $C(s,a,c){for(let d=0;d<a.length;d++)rM(s,a[d],c)}class rd{get rootNodes(){const a=this._lView,c=a[Re];return nd(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(a){this._lView[wn]=a}get destroyed(){return 256==(256&this._lView[ht])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Yt];if(qr(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(Ru(a,d),$h(c,d))}this._attachedToViewContainer=!1}ys(this._lView[Re],this._lView)}onDestroy(a){!function Ab(s,a){if(256==(256&s[ht]))throw new Le(911,!1);null===s[Yo]&&(s[Yo]=[]),s[Yo].push(a)}(this._lView,a)}markForCheck(){Rr(this._cdRefInjectingView||this._lView)}detach(){this._lView[ht]&=-129}reattach(){this._lView[ht]|=128}detectChanges(){Ff(this._lView[Re],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function oV(s,a){Yl(s,a,a[ft],2,null,null)}(this._lView[Re],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=a}}class iM extends rd{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Ff(a[Re],a,a[wn],!1)}checkNoChanges(){}get context(){return null}}class WC extends ed{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Nt(a);return new id(c,this.ngModule)}}function qC(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class oM{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=yt(d);const h=this.injector.get(a,d_,d);return h!==d_||c===d_?h:this.parentInjector.get(a,c,d)}}class id extends ya{get inputs(){return qC(this.componentDef.inputs)}get outputs(){return qC(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function Gi(s){return s.map(b3).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,h){let p=(h=h||this.ngModule)instanceof _a?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const m=p?new oM(a,p):a,y=m.get(sC,null);if(null===y)throw new Le(407,!1);const T={rendererFactory:y,sanitizer:m.get(_D,null),effectManager:m.get(HC,null)},S=y.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",L=d?function PD(s,a,c,d){const p=d.get(lC,!1)||c===Ue.ShadowDom,m=s.selectRootElement(a,p);return function xD(s){DC(s)}(m),m}(S,d,this.componentDef.encapsulation,m):sf(S,O,function sM(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(O)),Se=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Ve=y_(0,null,null,1,0,null,null,null,null,null,null),ee=Nf(null,Ve,null,Se,null,null,T,S,m,null,null);let lt,_t;Ub(ee);try{const Tt=this.componentDef;let er,Sn=null;Tt.findHostDirectiveDefs?(er=[],Sn=new Map,Tt.findHostDirectiveDefs(Tt,er,Sn),er.push(Tt)):er=[Tt];const uI=function lM(s,a){const c=s[Re],d=Ct;return s[d]=a,cc(c,d,2,"#host",null)}(ee,L),ko=function cM(s,a,c,d,h,p,m){const y=h[Re];!function uM(s,a,c,d){for(const h of s)a.mergedAttrs=Hi(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(Rf(a,a.mergedAttrs,!0),null!==c&&x1(d,c,a))}(d,s,a,m);let b=null;null!==a&&(b=Xw(a,h[Tl]));const C=p.rendererFactory.createRenderer(a,c);let T=16;c.signals?T=4096:c.onPush&&(T=64);const S=Nf(h,AC(c),null,T,h[s.index],s,p,C,null,null,b);return y.firstCreatePass&&w_(y,s,d.length-1),kf(h,S),h[s.index]=S}(uI,L,Tt,er,ee,T,S);_t=Lh(Ve,Ct),L&&function hM(s,a,c,d){if(d)$g(s,c,["ng-version",qi.full]);else{const{attrs:h,classes:p}=function SA(s){const a=[],c=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&a.push(p,s[++d]):8===h&&c.push(p);else{if(!ii(h))break;h=p}d++}return{attrs:a,classes:c}}(a.selectors[0]);h&&$g(s,c,h),p&&p.length>0&&P1(s,c,p.join(" "))}}(S,Tt,L,d),void 0!==c&&function fM(s,a,c){const d=s.projection=[];for(let h=0;h<a.length;h++){const p=c[h];d.push(null!=p?Array.from(p):null)}}(_t,this.ngContentSelectors,c),lt=function dM(s,a,c,d,h,p){const m=sr(),y=h[Re],b=Mr(m,h);PC(y,h,m,c,null,d);for(let T=0;T<c.length;T++)mr($i(h,y,m.directiveStart+T,m),h);xC(y,h,m),b&&mr(b,h);const C=$i(h,y,m.directiveStart+m.componentOffset,m);if(s[wn]=h[wn]=C,null!==p)for(const T of p)T(C,a);return td(y,m,s),C}(ko,Tt,er,Sn,ee,[pM]),I_(Ve,ee,null)}finally{Bh()}return new aM(this.componentType,lt,ic(_t,ee),ee,_t)}}class aM extends iC{constructor(a,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new iM(h),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const p=this._rootLView;E_(p[Re],p,h,a,c),this.previousInputValues.set(a,c),Rr(li(this._tNode.index,p))}}get injector(){return new Ll(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function pM(){const s=sr();Vs(ie()[Re],s)}function Zs(s){let a=function ZC(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;a;){let h;if(hs(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Le(903,!1);h=a.\u0275dir}if(h){if(c){d.push(h);const m=s;m.inputs=Lf(s.inputs),m.inputTransforms=Lf(s.inputTransforms),m.declaredInputs=Lf(s.declaredInputs),m.outputs=Lf(s.outputs);const y=h.hostBindings;y&&yM(s,y);const b=h.viewQuery,C=h.contentQueries;if(b&&mM(s,b),C&&_M(s,C),ue(s.inputs,h.inputs),ue(s.declaredInputs,h.declaredInputs),ue(s.outputs,h.outputs),null!==h.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),ue(m.inputTransforms,h.inputTransforms)),hs(h)&&h.data.animation){const T=s.data;T.animation=(T.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let m=0;m<p.length;m++){const y=p[m];y&&y.ngInherit&&y(s),y===Zs&&(c=!1)}}a=Object.getPrototypeOf(a)}!function gM(s){let a=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=Hi(h.hostAttrs,c=Hi(c,h.hostAttrs))}}(d)}function Lf(s){return s===Je?{}:s===ke?[]:s}function mM(s,a){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{a(d,h),c(d,h)}:a}function _M(s,a){const c=s.contentQueries;s.contentQueries=c?(d,h,p)=>{a(d,h,p),c(d,h,p)}:a}function yM(s,a){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{a(d,h),c(d,h)}:a}function JC(s){const a=s.inputConfig,c={};for(const d in a)if(a.hasOwnProperty(d)){const h=a[d];Array.isArray(h)&&h[2]&&(c[d]=h[2])}s.inputTransforms=c}function Vf(s){return!!dc(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function dc(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ki(s,a,c){return s[a]=c}function an(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function Bf(s,a,c,d){const h=ie();return an(h,Ol(),a)&&(St(),ws(pn(),h,s,a,c,d)),Bf}function cT(s,a,c,d,h,p,m,y){const b=ie(),C=St(),T=s+Ct,S=C.firstCreatePass?function R_(s,a,c,d,h,p,m,y,b){const C=a.consts,T=cc(a,s,4,m||null,fo(C,y));b_(a,c,T,fo(C,b)),Vs(a,T);const S=T.tView=y_(2,T,d,h,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,C,null);return null!==a.queries&&(a.queries.template(a,T),S.queries=a.queries.embeddedTView(T)),T}(T,C,b,a,c,d,h,p,m):C.data[T];ji(S,!1);const O=qf(C,b,S,s);pm()&&uf(C,b,O,S),mr(O,b),kf(b,b[T]=RC(O,b,O,S)),em(S)&&m_(C,b,S),null!=m&&__(b,S,y)}let qf=function uT(s,a,c,d){return ta(!0),a[ft].createComment("")};function F_(s){return function ea(s,a){return s[a]}(function XA(){return it.lFrame.contextLView}(),Ct+s)}function ld(s,a,c){const d=ie();return an(d,Ol(),a)&&function ui(s,a,c,d,h,p,m,y){const b=Mr(a,c);let T,C=a.inputs;!y&&null!=C&&(T=C[d])?(E_(s,c,T,d,h),Jo(a)&&function bs(s,a){const c=li(a,s);16&c[ht]||(c[ht]|=64)}(c,a.index)):3&a.type&&(d=function LD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=m?m(h,a.value||"",d):h,p.setProperty(b,d,h))}(St(),pn(),d,s,a,d[ft],c,!1),ld}function fT(s,a,c,d,h){const m=h?"class":"style";E_(s,c,a.inputs[m],m,d)}function Kf(s,a,c,d){const h=ie(),p=St(),m=Ct+s,y=h[ft],b=p.firstCreatePass?function LV(s,a,c,d,h,p){const m=a.consts,b=cc(a,s,2,d,fo(m,h));return b_(a,c,b,fo(m,p)),null!==b.attrs&&Rf(b,b.attrs,!1),null!==b.mergedAttrs&&Rf(b,b.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,b),b}(m,p,h,a,c,d):p.data[m],C=fc(p,h,b,y,a,s);h[m]=C;const T=em(b);return ji(b,!0),x1(y,C,b),32!=(32&b.flags)&&pm()&&uf(p,h,C,b),0===function Pb(){return it.lFrame.elementDepthCount}()&&mr(C,h),function YA(){it.lFrame.elementDepthCount++}(),T&&(m_(p,h,b),td(p,b,h)),null!==d&&__(h,b),Kf}function L_(){let s=sr();cm()?function Fb(){it.lFrame.isParent=!1}():(s=s.parent,ji(s,!1));const a=s;(function JA(s){return it.skipHydrationRootTNode===s})(a)&&function L3(){it.skipHydrationRootTNode=null}(),function xb(){it.lFrame.elementDepthCount--}();const c=St();return c.firstCreatePass&&(Vs(c,s),Xg(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function _m(s){return 0!=(8&s.flags)}(a)&&fT(c,a,ie(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function wu(s){return 0!=(16&s.flags)}(a)&&fT(c,a,ie(),a.stylesWithoutHost,!1),L_}function Qs(s,a,c,d){return Kf(s,a,c,d),L_(),Qs}let fc=(s,a,c,d,h,p)=>(ta(!0),sf(d,h,function Gb(){return it.lFrame.currentNamespace}()));function B_(){return ie()}function U_(s){return!!s&&"function"==typeof s.then}function H_(s){return!!s&&"function"==typeof s.subscribe}function G_(s,a,c,d){const h=ie(),p=St(),m=sr();return function Xf(s,a,c,d,h,p,m){const y=em(d),C=s.firstCreatePass&&VC(s),T=a[wn],S=LC(a);let O=!0;if(3&d.type||m){const ae=Mr(d,a),Se=m?m(ae):ae,Ve=S.length,ee=m?_t=>m(Wt(_t[d.index])):d.index;let lt=null;if(!m&&y&&(lt=function DM(s,a,c,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const m=h[p];if(m===c&&h[p+1]===d){const y=a[ks],b=h[p+2];return y.length>b?y[b]:null}"string"==typeof m&&(p+=2)}return null}(s,a,h,d.index)),null!==lt)(lt.__ngLastListenerFn__||lt).__ngNextListenerFn__=p,lt.__ngLastListenerFn__=p,O=!1;else{p=PM(d,a,T,p,!1);const _t=c.listen(Se,h,p);S.push(p,_t),C&&C.push(h,ee,Ve,Ve+1)}}else p=PM(d,a,T,p,!1);const L=d.outputs;let J;if(O&&null!==L&&(J=L[h])){const ae=J.length;if(ae)for(let Se=0;Se<ae;Se+=2){const Tt=a[J[Se]][J[Se+1]].subscribe(p),er=S.length;S.push(p,Tt),C&&C.push(h,d.index,er,-(er+1))}}}(p,h,h[ft],m,s,a,d),G_}function MM(s,a,c,d){try{return fs(6,a,c),!1!==c(d)}catch(h){return UC(s,h),!1}finally{fs(7,a,c)}}function PM(s,a,c,d,h){return function p(m){if(m===Function)return d;Rr(s.componentOffset>-1?li(s.index,a):a);let b=MM(a,c,d,m),C=p.__ngNextListenerFn__;for(;C;)b=MM(a,c,C,m)&&b,C=C.__ngNextListenerFn__;return h&&!1===b&&m.preventDefault(),b}}function ep(s=1){return function H3(s){return(it.lFrame.contextLView=function G3(s,a){for(;s>0;)a=a[_u],s--;return a}(s,it.lFrame.contextLView))[wn]}(s)}function hd(s,a){return s<<17|a<<2}function Na(s){return s>>17&32767}function vT(s){return 2|s}function ka(s){return(131068&s)>>2}function tp(s,a){return-131069&s|a<<2}function np(s){return 1|s}function CT(s,a,c,d,h){const p=s[c+1],m=null===a;let y=d?Na(p):ka(p),b=!1;for(;0!==y&&(!1===b||m);){const T=s[y+1];UV(s[y],a)&&(b=!0,s[y+1]=d?np(T):vT(T)),y=d?Na(T):ka(T)}b&&(s[c+1]=d?vT(p):np(p))}function UV(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Tn(s,a)>=0}function sp(s,a){return function Qi(s,a,c,d){const h=ie(),p=St(),m=function Ls(s){const a=it.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}(2);p.firstUpdatePass&&function DT(s,a,c,d){const h=s.data;if(null===h[c+1]){const p=h[Zr()],m=function Y_(s,a){return a>=s.expandoStartIndex}(s,c);(function NT(s,a){return 0!=(s.flags&(a?8:16))})(p,d)&&null===a&&!m&&(a=!1),a=function HV(s,a,c,d){const h=function hm(s){const a=it.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let p=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(c=Ji(c=op(null,s,a,c,d),a.attrs,d),p=null);else{const m=a.directiveStylingLast;if(-1===m||s[m]!==h)if(c=op(h,s,a,c,d),null===p){let b=function J_(s,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==ka(d))return s[Na(d)]}(s,a,d);void 0!==b&&Array.isArray(b)&&(b=op(null,s,a,b[1],d),b=Ji(b,a.attrs,d),function HM(s,a,c,d){s[Na(c?a.classBindings:a.styleBindings)]=d}(s,a,d,b))}else p=function MT(s,a,c){let d;const h=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<h;p++)d=Ji(d,s[p].hostAttrs,c);return Ji(d,a.attrs,c)}(s,a,d)}return void 0!==p&&(d?a.residualClasses=p:a.residualStyles=p),c}(h,p,a,d),function RM(s,a,c,d,h,p){let m=p?a.classBindings:a.styleBindings,y=Na(m),b=ka(m);s[d]=c;let T,C=!1;if(Array.isArray(c)?(T=c[1],(null===T||Tn(c,T)>0)&&(C=!0)):T=c,h)if(0!==b){const O=Na(s[y+1]);s[d+1]=hd(O,y),0!==O&&(s[O+1]=tp(s[O+1],d)),s[y+1]=function BV(s,a){return 131071&s|a<<17}(s[y+1],d)}else s[d+1]=hd(y,0),0!==y&&(s[y+1]=tp(s[y+1],d)),y=d;else s[d+1]=hd(b,0),0===y?y=d:s[b+1]=tp(s[b+1],d),b=d;C&&(s[d+1]=vT(s[d+1])),CT(s,T,d,!0),CT(s,T,d,!1),function wT(s,a,c,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&Tn(p,a)>=0&&(c[d+1]=np(c[d+1]))}(a,T,s,d,p),m=hd(y,b),p?a.classBindings=m:a.styleBindings=m}(h,p,a,c,m,d)}}(p,s,m,d),a!==st&&an(h,m,a)&&function xT(s,a,c,d,h,p,m,y){if(!(3&a.type))return;const b=s.data,C=b[y+1],T=function NM(s){return 1==(1&s)}(C)?OT(b,a,c,h,ka(C),m):void 0;Ra(T)||(Ra(p)||function VV(s){return 2==(2&s)}(C)&&(p=OT(b,null,c,h,y,m)),function aV(s,a,c,d,h){if(a)h?s.addClass(c,d):s.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:ms.DashCase;null==h?s.removeStyle(c,d,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=ms.Important),s.setStyle(c,d,h,p))}}(d,m,Ml(Zr(),c),h,p))}(p,p.data[Zr()],h,h[ft],s,h[m+1]=function ey(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Q(Co(s)))),s}(a,c),d,m)}(s,a,null,!0),sp}function op(s,a,c,d,h){let p=null;const m=c.directiveEnd;let y=c.directiveStylingLast;for(-1===y?y=c.directiveStart:y++;y<m&&(p=a[y],d=Ji(d,p.hostAttrs,h),p!==s);)y++;return null!==s&&(c.directiveStylingLast=y),d}function Ji(s,a,c){const d=c?1:2;let h=-1;if(null!==a)for(let p=0;p<a.length;p++){const m=a[p];"number"==typeof m?h=m:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Qr(s,m,!!c||a[++p]))}return void 0===s?null:s}function OT(s,a,c,d,h,p){const m=null===a;let y;for(;h>0;){const b=s[h],C=Array.isArray(b),T=C?b[1]:b,S=null===T;let O=c[h+1];O===st&&(O=S?ke:void 0);let L=S?Mi(O,d):T===d?O:void 0;if(C&&!Ra(L)&&(L=Mi(b,d)),Ra(L)&&(y=L,m))return y;const J=s[h+1];h=m?Na(J):ka(J)}if(null!==a){let b=p?a.residualClasses:a.residualStyles;null!=b&&(y=Mi(b,d))}return y}function Ra(s){return void 0!==s}function ap(s,a=""){const c=ie(),d=St(),h=s+Ct,p=d.firstCreatePass?cc(d,h,1,a,null):d.data[h],m=kT(d,c,p,a,s);c[h]=m,pm()&&uf(d,c,m,p),ji(p,!1)}let kT=(s,a,c,d,h)=>(ta(!0),function rf(s,a){return s.createText(a)}(a[ft],d));function lp(s){return cp("",s,""),lp}function cp(s,a,c){const d=ie(),h=function wa(s,a,c,d){return an(s,Ol(),c)?a+V(c)+d:st}(d,s,a,c);return h!==st&&function qs(s,a,c){const d=Ml(a,s);!function vw(s,a,c){s.setValue(a,c)}(s[ft],d,c)}(d,Zr(),h),cp}const Fa=void 0;var lP=["en",[["a","p"],["AM","PM"],Fa],[["AM","PM"],Fa,Fa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fa,"{1} 'at' {0}",Fa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aP(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let _c={};function iy(s){const a=function QV(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=KT(a);if(c)return c;const d=a.split("-")[0];if(c=KT(d),c)return c;if("en"===d)return lP;throw new Le(701,!1)}function ZT(s){return iy(s)[tt.PluralCase]}function KT(s){return s in _c||(_c[s]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[s]),_c[s]}var tt=(()=>((tt=tt||{})[tt.LocaleId=0]="LocaleId",tt[tt.DayPeriodsFormat=1]="DayPeriodsFormat",tt[tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",tt[tt.DaysFormat=3]="DaysFormat",tt[tt.DaysStandalone=4]="DaysStandalone",tt[tt.MonthsFormat=5]="MonthsFormat",tt[tt.MonthsStandalone=6]="MonthsStandalone",tt[tt.Eras=7]="Eras",tt[tt.FirstDayOfWeek=8]="FirstDayOfWeek",tt[tt.WeekendRange=9]="WeekendRange",tt[tt.DateFormat=10]="DateFormat",tt[tt.TimeFormat=11]="TimeFormat",tt[tt.DateTimeFormat=12]="DateTimeFormat",tt[tt.NumberSymbols=13]="NumberSymbols",tt[tt.NumberFormats=14]="NumberFormats",tt[tt.CurrencyCode=15]="CurrencyCode",tt[tt.CurrencySymbol=16]="CurrencySymbol",tt[tt.CurrencyName=17]="CurrencyName",tt[tt.Currencies=18]="Currencies",tt[tt.Directionality=19]="Directionality",tt[tt.PluralCase=20]="PluralCase",tt[tt.ExtraData=21]="ExtraData",tt))();const yc="en-US";let QT=yc;function _r(s,a,c,d,h){if(s=ce(s),Array.isArray(s))for(let p=0;p<s.length;p++)_r(s[p],a,c,d,h);else{const p=St(),m=ie();let y=ma(s)?s:ce(s.provide),b=Ww(s);const C=sr(),T=1048575&C.providerIndexes,S=C.directiveStart,O=C.providerIndexes>>20;if(ma(s)||!s.multi){const L=new Cn(b,h,lc),J=py(y,a,h?T:T+O,S);-1===J?(Gh(Rl(C,m),p,y),Kn(p,s,a.length),a.push(y),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),c.push(L),m.push(L)):(c[J]=L,m[J]=L)}else{const L=py(y,a,T+O,S),J=py(y,a,T,T+O),Se=J>=0&&c[J];if(h&&!Se||!h&&!(L>=0&&c[L])){Gh(Rl(C,m),p,y);const Ve=function dt(s,a,c,d,h){const p=new Cn(s,c,lc);return p.multi=[],p.index=a,p.componentProviders=0,D(p,h,d&&!c),p}(h?xe:Xi,c.length,h,d,b);!h&&Se&&(c[J].providerFactory=Ve),Kn(p,s,a.length,0),a.push(y),C.directiveStart++,C.directiveEnd++,h&&(C.providerIndexes+=1048576),c.push(Ve),m.push(Ve)}else Kn(p,s,L>-1?L:J,D(c[h?J:L],b,!h&&d));!h&&d&&Se&&c[J].componentProviders++}}}function Kn(s,a,c,d){const h=ma(a),p=function eD(s){return!!s.useClass}(a);if(h||p){const b=(p?ce(a.useClass):a).prototype.ngOnDestroy;if(b){const C=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const T=C.indexOf(c);-1===T?C.push(c,[d,b]):C[T+1].push(d,b)}else C.push(c,b)}}}function D(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function py(s,a,c,d){for(let h=c;h<d;h++)if(a[h]===s)return h;return-1}function Xi(s,a,c,d){return gd(this.multi,[])}function xe(s,a,c,d){const h=this.multi;let p;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=$i(c,c[Re],this.providerFactory.index,d);p=y.slice(0,m),gd(h,p);for(let b=m;b<y.length;b++)p.push(y[b])}else p=[],gd(h,p);return p}function gd(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function md(s,a=[]){return c=>{c.providersResolver=(d,h)=>function Ze(s,a,c){const d=St();if(d.firstCreatePass){const h=hs(s);_r(c,d.data,d.blueprint,h,!0),_r(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class Ts{}class hE{}function gy(s,a){return new my(s,a??null,[])}class my extends Ts{constructor(a,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new WC(this);const h=si(a);this._bootstrapComponents=js(h.bootstrap),this._r3Injector=EC(a,c,[{provide:Ts,useValue:this},{provide:ed,useValue:this.componentFactoryResolver},...d],Q(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class _y extends hE{constructor(a){super(),this.moduleType=a}create(a){return new my(this.moduleType,a,[])}}class _d extends Ts{constructor(a){super(),this.componentFactoryResolver=new WC(this),this.instance=null;const c=new e_([...a.providers,{provide:Ts,useValue:this},{provide:ed,useValue:this.componentFactoryResolver}],a.parent||Ku(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function jn(s,a,c=null){return new _d({providers:s,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let Ao=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=ga(0,c.type),h=d.length>0?jn([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,h)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=on({token:s,providedIn:"environment",factory:()=>new s(Vt(_a))}),s})();function fE(s){s.getStandaloneInjector=a=>a.get(Ao).getOrCreateStandaloneInjector(s)}function bp(s,a,c){const d=pr()+s,h=ie();return h[d]===st?Ki(h,d,c?a.call(c):a()):function On(s,a){return s[a]}(h,d)}function wp(s,a,c,d){return function vE(s,a,c,d,h,p){const m=a+c;return an(s,m,h)?Ki(s,m+1,p?d.call(p,h):d(h)):wd(s,m+1)}(ie(),pr(),s,a,c,d)}function Cp(s,a,c,d,h){return function Cd(s,a,c,d,h,p,m){const y=a+c;return function va(s,a,c,d){const h=an(s,a,c);return an(s,a+1,d)||h}(s,y,h,p)?Ki(s,y+2,m?d.call(m,h,p):d(h,p)):wd(s,y+2)}(ie(),pr(),s,a,c,d,h)}function wd(s,a){const c=s[a];return c===st?void 0:c}function Ep(s){return a=>{setTimeout(s,void 0,a)}}const es=class BP extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let h=a,p=c||(()=>null),m=d;if(a&&"object"==typeof a){const b=a;h=b.next?.bind(b),p=b.error?.bind(b),m=b.complete?.bind(b)}this.__isAsync&&(p=Ep(p),h&&(h=Ep(h)),m&&(m=Ep(m)));const y=super.subscribe({next:h,error:p,complete:m});return a instanceof U.w0&&a.add(y),y}};function My(){return this._results[Symbol.iterator]()}class Ip{get changes(){return this._changes||(this._changes=new es)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Ip.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=My)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const h=function Ai(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Si(s,a,c){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=a[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Td=(()=>{class s{}return s.__NG_ELEMENT_ID__=Oy,s})();const Py=Td,xy=class extends Py{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c,null)}createEmbeddedViewImpl(a,c,d){const m=this._declarationTContainer.tView,y=Nf(this._declarationLView,m,a,4096&this._declarationLView[ht]?4096:16,null,m.declTNode,null,null,null,c||null,d||null);y[Ph]=this._declarationLView[this._declarationTContainer.index];const C=this._declarationLView[us];return null!==C&&(y[us]=C.createEmbeddedView(m)),I_(m,y,a),new rd(y)}};function Oy(){return In(sr(),ie())}function In(s,a){return 4&s.type?new xy(a,s,ic(s,a)):null}let Do=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ed,s})();function Ed(){return Ap(sr(),ie())}const Fy=Do,Ly=class extends Fy{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return ic(this._hostTNode,this._hostLView)}get injector(){return new Ll(this._hostTNode,this._hostLView)}get parentInjector(){const a=bm(this._hostTNode,this._hostLView);if(Wb(a)){const c=Cu(a,this._hostLView),d=na(a);return new Ll(c[Re].data[d+8],c)}return new Ll(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=IE(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-fr}createEmbeddedView(a,c,d){let h,p;"number"==typeof d?h=d:null!=d&&(h=d.index,p=d.injector);const y=a.createEmbeddedViewImpl(c||{},p,null);return this.insertImpl(y,h,false),y}createComponent(a,c,d,h,p){const m=a&&!function oa(s){return"function"==typeof s}(a);let y;if(m)y=c;else{const ae=c||{};y=ae.index,d=ae.injector,h=ae.projectableNodes,p=ae.environmentInjector||ae.ngModuleRef}const b=m?a:new id(Nt(a)),C=d||this.parentInjector;if(!p&&null==b.ngModule){const Se=(m?C:this.parentInjector).get(_a,null);Se&&(p=Se)}Nt(b.componentType??{});const L=b.create(C,h,null,p);return this.insertImpl(L.hostView,y,false),L}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,d){const h=a._lView,p=h[Re];if(function QA(s){return qr(s[Yt])}(h)){const b=this.indexOf(a);if(-1!==b)this.detach(b);else{const C=h[Yt],T=new Ly(C,C[Dr],C[Yt]);T.detach(T.indexOf(a))}}const m=this._adjustIndex(c),y=this._lContainer;if(function ku(s,a,c,d){const h=fr+d,p=c.length;d>0&&(c[h-1][oi]=a),d<p-fr?(a[oi]=c[h],Di(c,fr+d,a)):(c.push(a),a[oi]=null),a[Yt]=c;const m=a[Ph];null!==m&&c!==m&&function ww(s,a){const c=s[yu];a[Hn]!==a[Yt][Yt][Hn]&&(s[mb]=!0),null===c?s[yu]=[a]:c.push(a)}(m,a);const y=a[us];null!==y&&y.insertView(s),a[ht]|=128}(p,h,y,m),!d){const b=jm(m,y),C=h[ft],T=Lu(C,y[ai]);null!==T&&function bw(s,a,c,d,h,p){d[Un]=h,d[Dr]=a,Yl(s,d,c,1,h,p)}(p,y[Dr],C,h,T,b)}return a.attachToViewContainerRef(),Di(Cc(y),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=IE(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=Ru(this._lContainer,c);d&&($h(Cc(this._lContainer),c),ys(d[Re],d))}detach(a){const c=this._adjustIndex(a,-1),d=Ru(this._lContainer,c);return d&&null!=$h(Cc(this._lContainer),c)?new rd(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function IE(s){return s[8]}function Cc(s){return s[8]||(s[8]=[])}function Ap(s,a){let c;const d=a[s.index];return qr(d)?c=d:(c=RC(d,a,null,s),a[s.index]=c,kf(a,c)),By(c,a,s,d),new Ly(c,s,a)}let By=function SE(s,a,c,d){if(s[ai])return;let h;h=8&c.type?Wt(d):function Vy(s,a){const c=s[ft],d=c.createComment(""),h=Mr(a,s);return wo(c,Lu(c,h),d,function Gm(s,a){return s.nextSibling(a)}(c,h),!1),d}(a,c),s[ai]=h};class Dp{constructor(a){this.queryList=a,this.matches=null}clone(){return new Dp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mp{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const m=c.getByIndex(p);h.push(this.queries[m.indexInDeclarationView].clone())}return new Mp(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==Pp(a,c).matches&&this.queries[c].setDirty()}}class Sd{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Uy{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(a,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new Uy(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Hy{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new Hy(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(a,c,Tc(c,p)),this.matchTNodeWithReadOption(a,c,Eu(c,a,p,!1,!1))}else d===Td?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Eu(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===sc||h===Do||h===Td&&4&c.type)this.addMatch(c.index,-2);else{const p=Eu(c,a,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function Tc(s,a){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function $P(s,a,c,d){return-1===c?function jP(s,a){return 11&s.type?ic(s,a):4&s.type?In(s,a):null}(a,s):-2===c?function Ga(s,a,c){return c===sc?ic(a,s):c===Td?In(a,s):c===Do?Ap(a,s):void 0}(s,a,d):$i(s,s[Re],c,a)}function Gy(s,a,c,d){const h=a[us].queries[d];if(null===h.matches){const p=s.data,m=c.matches,y=[];for(let b=0;b<m.length;b+=2){const C=m[b];y.push(C<0?null:$P(a,p[C],m[b+1],c.metadata.read))}h.matches=y}return h.matches}function Ec(s,a,c,d){const h=s.queries.getByIndex(c),p=h.matches;if(null!==p){const m=Gy(s,a,h,c);for(let y=0;y<p.length;y+=2){const b=p[y];if(b>0)d.push(m[y/2]);else{const C=p[y+1],T=a[-b];for(let S=fr;S<T.length;S++){const O=T[S];O[Ph]===O[Yt]&&Ec(O[Re],O,C,d)}if(null!==T[yu]){const S=T[yu];for(let O=0;O<S.length;O++){const L=S[O];Ec(L[Re],L,C,d)}}}}}return d}function zy(s){const a=ie(),c=St(),d=e1();Bb(d+1);const h=Pp(c,d);if(s.dirty&&function ZA(s){return 4==(4&s[ht])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Ec(c,a,d,[]):Gy(c,a,h,d);s.reset(p,mD),s.notifyOnChanges()}return!0}return!1}function jy(s,a,c,d){const h=St();if(h.firstCreatePass){const p=sr();(function Dd(s,a,c){null===s.queries&&(s.queries=new Uy),s.queries.track(new Hy(a,c))})(h,new Sd(a,c,d),p.index),function ME(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}!function Ic(s,a,c){const d=new Ip(4==(4&c));(function kD(s,a,c,d){const h=LC(a);h.push(c),s.firstCreatePass&&VC(s).push(d,h.length-1)})(s,a,d,d.destroy),null===a[us]&&(a[us]=new Mp),a[us].queries.push(new Dp(d))}(h,ie(),c)}function vr(){return function DE(s,a){return s[us].queries[a].queryList}(ie(),e1())}function Pp(s,a){return s.queries.getByIndex(a)}function xp(s){return!!si(s)}const zE=new Rt("Application Initializer");let Pc=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d}),this.appInits=mt(zE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const p=h();if(U_(p))c.push(p);else if(H_(p)){const m=new Promise((y,b)=>{p.subscribe({complete:y,error:b})});c.push(m)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),xc=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Oc=new Rt("LocaleId",{providedIn:"root",factory:()=>mt(Oc,we.Optional|we.SkipSelf)||function Rp(){return typeof $localize<"u"&&$localize.locale||yc}()}),jE=new Rt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let cn=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new X.X(!1)}add(){this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class $E{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let sx=(()=>{class s{compileModuleSync(c){return new _y(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=js(si(c).declarations).reduce((m,y)=>{const b=Nt(y);return b&&m.push(new id(b)),m},[]);return new $E(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ns(...s){}class wr{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new es(!1),this.onMicrotaskEmpty=new es(!1),this.onStable=new es(!1),this.onError=new es(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function qE(){let s=Qt.requestAnimationFrame,a=Qt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function av(s){const a=()=>{!function ZE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Qt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Nc(s),s.isCheckStableRunning=!0,Wa(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Nc(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,m,y)=>{try{return lv(s),c.invokeTask(h,p,m,y)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),xd(s)}},onInvoke:(c,d,h,p,m,y,b)=>{try{return lv(s),c.invoke(h,p,m,y,b)}finally{s.shouldCoalesceRunChangeDetection&&a(),xd(s)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Nc(s),Wa(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!wr.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(wr.isInAngularZone())throw new Le(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,h){const p=this._inner,m=p.scheduleEventTask("NgZoneEvent: "+h,a,ov,ns,ns);try{return p.runTask(m,c,d)}finally{p.cancelTask(m)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const ov={};function Wa(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Nc(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function lv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function xd(s){s._nesting--,Wa(s)}class ax{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new es,this.onMicrotaskEmpty=new es,this.onStable=new es,this.onError=new es}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,h){return a.apply(c,d)}}const cv=new Rt("",{providedIn:"root",factory:kc});function kc(){const s=mt(wr);let a=!0;return function F(...s){const a=(0,Be.yG)(s),c=(0,Be._6)(s,1/0),d=s;return d.length?1===d.length?(0,fe.Xf)(d[0]):(0,se.J)(c)((0,ye.D)(d,a)):Pe.E}(new Y.y(h=>{a=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{h.next(a),h.complete()})}),new Y.y(h=>{let p;s.runOutsideAngular(()=>{p=s.onStable.subscribe(()=>{wr.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(a=!0,h.next(!0))})})});const m=s.onUnstable.subscribe(()=>{wr.assertInAngularZone(),a&&(a=!1,s.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),m.unsubscribe()}}).pipe(ve()))}const uv=new Rt(""),dv=new Rt("");let Rc,hv=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rc||(function KE(s){Rc=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{wr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(Vt(wr),Vt(Vp),Vt(dv))},s.\u0275prov=on({token:s,factory:s.\u0275fac}),s})(),Vp=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Rc?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Xs=null;const fv=new Rt("AllowMultipleToken"),eo=new Rt("PlatformDestroyListeners"),Bp=new Rt("appBootstrapListener");class fi{constructor(a,c){this.name=a,this.token=c}}function Ni(s,a,c=[]){const d=`Platform: ${a}`,h=new Rt(d);return(p=[])=>{let m=Od();if(!m||m.injector.get(fv,!1)){const y=[...c,...p,{provide:h,useValue:!0}];s?s(y):function YE(s){if(Xs&&!Xs.get(fv,!1))throw new Le(400,!1);(function pv(){!function GA(s){HA=s}(()=>{throw new Le(600,!1)})})(),Xs=s;const a=s.get(rs);(function qa(s){s.get(Tf,null)?.forEach(c=>c())})(s)}(function Bt(s=[],a){return $s.create({name:a,providers:[{provide:nc,useValue:"platform"},{provide:eo,useValue:new Set([()=>Xs=null])},...s]})}(y,d))}return function gv(s){const a=Od();if(!a)throw new Le(401,!1);return a}()}}function Od(){return Xs?.get(rs)??null}let rs=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function _v(s="zone.js",a){return"noop"===s?new ax:"zone.js"===s?new wr(a):s}(d?.ngZone,function mv(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return h.run(()=>{const p=function yr(s,a,c){return new my(s,a,c)}(c.moduleType,this.injector,function Nd(s){return[{provide:wr,useFactory:s},{provide:Zu,multi:!0,useFactory:()=>{const a=mt(zp,{optional:!0});return()=>a.initialize()}},{provide:Yn,useFactory:Gp},{provide:cv,useFactory:kc}]}(()=>h)),m=p.injector.get(oc,null);return h.runOutsideAngular(()=>{const y=h.onError.subscribe({next:b=>{m.handleError(b)}});p.onDestroy(()=>{ki(this._modules,p),y.unsubscribe()})}),function Za(s,a,c){try{const d=c();return U_(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(m,h,()=>{const y=p.injector.get(Pc);return y.runInitializers(),y.donePromise.then(()=>(function YT(s){cr(s,"Expected localeId to be defined"),"string"==typeof s&&(QT=s.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Oc,yc)||yc),this._moduleDoBootstrap(p),p))})})}bootstrapModule(c,d=[]){const h=Hp({},d);return function QE(s,a,c){const d=new _y(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(Ka);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Le(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(eo,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Vt($s))},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Hp(s,a){return Array.isArray(a)?a.reduce(Hp,s):{...s,...a}}let Ka=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=mt(Yn),this.zoneIsStable=mt(cv),this.componentTypes=[],this.components=[],this.isStable=mt(cn).hasPendingTasks.pipe((0,et.w)(c=>c?(0,N.of)(!1):this.zoneIsStable),function nt(s,a=me.y){return s=s??ct,(0,Ae.e)((c,d)=>{let h,p=!0;c.subscribe((0,Ee.x)(d,m=>{const y=a(m);(p||!s(h,y))&&(p=!1,h=y,d.next(m))}))})}(),ve()),this._injector=mt(_a)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof ya;if(!this._injector.get(Pc).done)throw!h&&Cl(c),new Le(405,!1);let m;m=h?c:this._injector.get(ed).resolveComponentFactory(c),this.componentTypes.push(m.componentType);const y=function Up(s){return s.isBoundToModule}(m)?void 0:this._injector.get(Ts),C=m.create($s.NULL,[],d||m.selector,y),T=C.location.nativeElement,S=C.injector.get(uv,null);return S?.registerApplication(T),C.onDestroy(()=>{this.detachView(C.hostView),ki(this.components,C),S?.unregisterApplication(T)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this.internalErrorHandler(c)}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;ki(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(Bp,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>ki(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Le(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ki(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}const Yn=new Rt("",{providedIn:"root",factory:()=>mt(oc).handleError.bind(void 0)});function Gp(){const s=mt(wr),a=mt(oc);return c=>s.runOutsideAngular(()=>a.handleError(c))}let zp=(()=>{class s{constructor(){this.zone=mt(wr),this.applicationRef=mt(Ka)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=on({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Fc(){return!1}let cx=(()=>{class s{}return s.__NG_ELEMENT_ID__=nI,s})();function nI(s){return function ux(s,a,c){if(Jo(s)&&!c){const d=li(s.index,a);return new rd(d,d)}return 47&s.type?new rd(a[Hn],a):null}(sr(),ie(),16==(16&s))}class wv{constructor(){}supports(a){return Vf(a)}create(a){return new fx(a)}}const hx=(s,a)=>a;class fx{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||hx}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const m=!d||c&&c.currentIndex<Cv(d,h,p)?c:d,y=Cv(m,h,p),b=m.currentIndex;if(m===d)h--,d=d._nextRemoved;else if(c=c._next,null==m.previousIndex)h++;else{p||(p=[]);const C=y-h,T=b-h;if(C!=T){for(let O=0;O<C;O++){const L=O<p.length?p[O]:p[O]=0,J=L+O;T<=J&&J<C&&(p[O]=L+1)}p[m.previousIndex]=T-C}}y!==b&&a(m,y,b)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Vf(a))throw new Le(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,p,m,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let y=0;y<this.length;y++)p=a[y],m=this._trackByFn(y,p),null!==c&&Object.is(c.trackById,m)?(d&&(c=this._verifyReinsertion(c,p,m,y)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,m,y),d=!0),c=c._next}else h=0,function TM(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,y=>{m=this._trackByFn(h,y),null!==c&&Object.is(c.trackById,m)?(d&&(c=this._verifyReinsertion(c,y,m,h)),Object.is(c.item,y)||this._addIdentityChange(c,y)):(c=this._mismatch(c,y,m,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,h){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,h)):a=this._addAfter(new px(c,d),p,h),a}_verifyReinsertion(a,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?a=this._reinsertAfter(p,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,p=a._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const h=null===c?this._itHead:c._next;return a._next=h,a._prev=c,null===h?this._itTail=a:h._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new iI),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iI),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class px{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gx{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class iI{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new gx,this.map.set(c,d)),d.add(a)}get(a,c){const h=this.map.get(a);return h?h.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Cv(s,a,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+a+h}class sI{constructor(){}supports(a){return a instanceof Map||dc(a)}create(){return new MB}}class MB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||dc(a)))throw new Le(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,c);const p=h._prev,m=h._next;return p&&(p._next=m),m&&(m._prev=p),h._next=null,h._prev=null,h}const d=new mx(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class mx{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Tv(){return new ot([new wv])}let ot=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||Tv()),deps:[[s,new ut,new Wh]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Le(901,!1)}}return s.\u0275prov=on({token:s,providedIn:"root",factory:Tv}),s})();function Ev(){return new qt([new sI])}let qt=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||Ev()),deps:[[s,new ut,new Wh]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new Le(901,!1)}}return s.\u0275prov=on({token:s,providedIn:"root",factory:Ev}),s})();const mn=Ni(null,"core",[]);let De=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Vt(Ka))},s.\u0275mod=Kg({type:s}),s.\u0275inj=Ke({}),s})();function Ja(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function Ss(s){const a=Nt(s);if(!a)return null;const c=new id(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3106:(Xe,he,M)=>{M.d(he,{Z:()=>We});var l=M(9058),U=M(4537),X=M(534),Y=M(7879);class se{constructor(me,Ee){this._delegate=me,this.firebase=Ee,(0,X._addComponent)(me,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(me,Ee=X._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(me);return!ct.isInitialized()&&"EXPLICIT"===(null===(nt=ct.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:Ee})}_removeServiceInstance(me,Ee=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(Ee)}_addComponent(me){(0,X._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,X._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function ye(){const et=function Be(et){const me={},Ee={__esModule:!0,initializeApp:function ne(be,pe={}){const ce=X.initializeApp(be,pe);if((0,l.r3)(me,ce.name))return me[ce.name];const Oe=new et(ce,Ee);return me[ce.name]=Oe,Oe},app:ct,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function Q(be){const pe=be.name,ce=pe.replace("-compat","");if(X._registerComponent(be)&&"PUBLIC"===be.type){const Oe=(Ln=ct())=>{if("function"!=typeof Ln[ce])throw Pe.create("invalid-app-argument",{appName:pe});return Ln[ce]()};void 0!==be.serviceProps&&(0,l.ZB)(Oe,be.serviceProps),Ee[ce]=Oe,et.prototype[ce]=function(...Ln){return this._getService.bind(this,pe).apply(this,be.multipleInstances?Ln:[])}}return"PUBLIC"===be.type?Ee[ce]:null},removeApp:function nt(be){delete me[be]},useAsService:function ge(be,pe){return"serverAuth"===pe?null:pe},modularAPIs:X}};function ct(be){if(!(0,l.r3)(me,be=be||X._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:be});return me[be]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function ue(){return Object.keys(me).map(be=>me[be])}}),ct.App=et,Ee}(se);return et.INTERNAL=Object.assign(Object.assign({},et.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function me(Ee){(0,l.ZB)(et,Ee)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),et}(),N=new Y.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){N.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const et=self.firebase.SDK_VERSION;et&&et.indexOf("LITE")>=0&&N.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=F;!function ve(et){(0,X.registerVersion)("@firebase/app-compat","0.2.13",et)}()},534:(Xe,he,M)=>{M.r(he),M.d(he,{FirebaseError:()=>Y.ZR,SDK_VERSION:()=>Ns,_DEFAULT_ENTRY_NAME:()=>Kt,_addComponent:()=>as,_addOrOverwriteComponent:()=>Ci,_apps:()=>Qe,_clearComponents:()=>zt,_components:()=>Os,_getProvider:()=>vn,_registerComponent:()=>Ti,_removeServiceInstance:()=>yl,deleteApp:()=>Qt,getApp:()=>oo,getApps:()=>Ah,initializeApp:()=>Vn,onLog:()=>bl,registerVersion:()=>ls,setLogLevel:()=>lo});var l=M(5861),U=M(4537),X=M(7879),Y=M(9058);const se=(K,B)=>B.some(le=>K instanceof le);let fe,Pe;const F=new WeakMap,N=new WeakMap,$=new WeakMap,Ae=new WeakMap,ve=new WeakMap;let me={get(K,B,le){if(K instanceof IDBTransaction){if("done"===B)return N.get(K);if("objectStoreNames"===B)return K.objectStoreNames||$.get(K);if("store"===B)return le.objectStoreNames[1]?void 0:le.objectStore(le.objectStoreNames[0])}return ne(K[B])},set:(K,B,le)=>(K[B]=le,!0),has:(K,B)=>K instanceof IDBTransaction&&("done"===B||"store"===B)||B in K};function ct(K){return"function"==typeof K?function nt(K){return K!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(K)?function(...B){return K.apply(ue(this),B),ne(F.get(this))}:function(...B){return ne(K.apply(ue(this),B))}:function(B,...le){const Ue=K.call(ue(this),B,...le);return $.set(Ue,B.sort?B.sort():[B]),ne(Ue)}}(K):(K instanceof IDBTransaction&&function et(K){if(N.has(K))return;const B=new Promise((le,Ue)=>{const Je=()=>{K.removeEventListener("complete",ke),K.removeEventListener("error",Mt),K.removeEventListener("abort",Mt)},ke=()=>{le(),Je()},Mt=()=>{Ue(K.error||new DOMException("AbortError","AbortError")),Je()};K.addEventListener("complete",ke),K.addEventListener("error",Mt),K.addEventListener("abort",Mt)});N.set(K,B)}(K),se(K,function Be(){return fe||(fe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(K,me):K)}function ne(K){if(K instanceof IDBRequest)return function We(K){const B=new Promise((le,Ue)=>{const Je=()=>{K.removeEventListener("success",ke),K.removeEventListener("error",Mt)},ke=()=>{le(ne(K.result)),Je()},Mt=()=>{Ue(K.error),Je()};K.addEventListener("success",ke),K.addEventListener("error",Mt)});return B.then(le=>{le instanceof IDBCursor&&F.set(le,K)}).catch(()=>{}),ve.set(B,K),B}(K);if(Ae.has(K))return Ae.get(K);const B=ct(K);return B!==K&&(Ae.set(K,B),ve.set(B,K)),B}const ue=K=>ve.get(K),be=["get","getKey","getAll","getAllKeys","count"],pe=["put","add","delete","clear"],ce=new Map;function Oe(K,B){if(!(K instanceof IDBDatabase)||B in K||"string"!=typeof B)return;if(ce.get(B))return ce.get(B);const le=B.replace(/FromIndex$/,""),Ue=B!==le,Je=pe.includes(le);if(!(le in(Ue?IDBIndex:IDBObjectStore).prototype)||!Je&&!be.includes(le))return;const ke=function(){var Mt=(0,l.Z)(function*(Bn,...bn){const ho=this.transaction(Bn,Je?"readwrite":"readonly");let $r=ho.store;return Ue&&($r=$r.index(bn.shift())),(yield Promise.all([$r[le](...bn),Je&&ho.done]))[0]});return function(bn){return Mt.apply(this,arguments)}}();return ce.set(B,ke),ke}!function Ee(K){me=K(me)}(K=>({...K,get:(B,le,Ue)=>Oe(B,le)||K.get(B,le,Ue),has:(B,le)=>!!Oe(B,le)||K.has(B,le)}));class Ln{constructor(B){this.container=B}getPlatformInfoString(){return this.container.getProviders().map(le=>{if(function os(K){const B=K.getComponent();return"VERSION"===B?.type}(le)){const Ue=le.getImmediate();return`${Ue.library}/${Ue.version}`}return null}).filter(le=>le).join(" ")}}const Ps="@firebase/app",q=new X.Yd("@firebase/app"),Kt="[DEFAULT]",Ke={[Ps]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qe=new Map,Os=new Map;function as(K,B){try{K.container.addComponent(B)}catch(le){q.debug(`Component ${B.name} failed to register with FirebaseApp ${K.name}`,le)}}function Ci(K,B){K.container.addOrOverwriteComponent(B)}function Ti(K){const B=K.name;if(Os.has(B))return q.debug(`There were multiple attempts to register component ${B}.`),!1;Os.set(B,K);for(const le of Qe.values())as(le,K);return!0}function vn(K,B){const le=K.container.getProvider("heartbeat").getImmediate({optional:!0});return le&&le.triggerHeartbeat(),K.container.getProvider(B)}function yl(K,B,le=Kt){vn(K,B).clearInstance(le)}function zt(){Os.clear()}const we=new Y.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class vl{constructor(B,le,Ue){this._isDeleted=!1,this._options=Object.assign({},B),this._config=Object.assign({},le),this._name=le.name,this._automaticDataCollectionEnabled=le.automaticDataCollectionEnabled,this._container=Ue,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(B){this.checkDestroyed(),this._automaticDataCollectionEnabled=B}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(B){this._isDeleted=B}checkDestroyed(){if(this.isDeleted)throw we.create("app-deleted",{appName:this._name})}}const Ns="9.23.0";function Vn(K,B={}){let le=K;"object"!=typeof B&&(B={name:B});const Ue=Object.assign({name:Kt,automaticDataCollectionEnabled:!1},B),Je=Ue.name;if("string"!=typeof Je||!Je)throw we.create("bad-app-name",{appName:String(Je)});if(le||(le=(0,Y.aH)()),!le)throw we.create("no-options");const ke=Qe.get(Je);if(ke){if((0,Y.vZ)(le,ke.options)&&(0,Y.vZ)(Ue,ke.config))return ke;throw we.create("duplicate-app",{appName:Je})}const Mt=new U.H0(Je);for(const bn of Os.values())Mt.addComponent(bn);const Bn=new vl(le,Ue,Mt);return Qe.set(Je,Bn),Bn}function oo(K=Kt){const B=Qe.get(K);if(!B&&K===Kt&&(0,Y.aH)())return Vn();if(!B)throw we.create("no-app",{appName:K});return B}function Ah(){return Array.from(Qe.values())}function Qt(K){return ao.apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(K){const B=K.name;Qe.has(B)&&(Qe.delete(B),yield Promise.all(K.container.getProviders().map(le=>le.delete())),K.isDeleted=!0)})).apply(this,arguments)}function ls(K,B,le){var Ue;let Je=null!==(Ue=Ke[K])&&void 0!==Ue?Ue:K;le&&(Je+=`-${le}`);const ke=Je.match(/\s|\//),Mt=B.match(/\s|\//);if(ke||Mt){const Bn=[`Unable to register library "${Je}" with version "${B}":`];return ke&&Bn.push(`library name "${Je}" contains illegal characters (whitespace or "/")`),ke&&Mt&&Bn.push("and"),Mt&&Bn.push(`version name "${B}" contains illegal characters (whitespace or "/")`),void q.warn(Bn.join(" "))}Ti(new U.wA(`${Je}-version`,()=>({library:Je,version:B}),"VERSION"))}function bl(K,B){if(null!==K&&"function"!=typeof K)throw we.create("invalid-log-argument");(0,X.Am)(K,B)}function lo(K){(0,X.Ub)(K)}const co="firebase-heartbeat-database",uo=1,x="firebase-heartbeat-store";let P=null;function R(){return P||(P=function Q(K,B,{blocked:le,upgrade:Ue,blocking:Je,terminated:ke}={}){const Mt=indexedDB.open(K,B),Bn=ne(Mt);return Ue&&Mt.addEventListener("upgradeneeded",bn=>{Ue(ne(Mt.result),bn.oldVersion,bn.newVersion,ne(Mt.transaction),bn)}),le&&Mt.addEventListener("blocked",bn=>le(bn.oldVersion,bn.newVersion,bn)),Bn.then(bn=>{ke&&bn.addEventListener("close",()=>ke()),Je&&bn.addEventListener("versionchange",ho=>Je(ho.oldVersion,ho.newVersion,ho))}).catch(()=>{}),Bn}(co,uo,{upgrade:(K,B)=>{0===B&&K.createObjectStore(x)}}).catch(K=>{throw we.create("idb-open",{originalErrorMessage:K.message})})),P}function G(){return(G=(0,l.Z)(function*(K){try{return yield(yield R()).transaction(x).objectStore(x).get(Lt(K))}catch(B){if(B instanceof Y.ZR)q.warn(B.message);else{const le=we.create("idb-get",{originalErrorMessage:B?.message});q.warn(le.message)}}})).apply(this,arguments)}function Ge(K,B){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,l.Z)(function*(K,B){try{const Ue=(yield R()).transaction(x,"readwrite");yield Ue.objectStore(x).put(B,Lt(K)),yield Ue.done}catch(le){if(le instanceof Y.ZR)q.warn(le.message);else{const Ue=we.create("idb-set",{originalErrorMessage:le?.message});q.warn(Ue.message)}}})).apply(this,arguments)}function Lt(K){return`${K.name}!${K.options.appId}`}class mt{constructor(B){this.container=B,this._heartbeatsCache=null;const le=this.container.getProvider("app").getImmediate();this._storage=new jr(le),this._heartbeatsCachePromise=this._storage.read().then(Ue=>(this._heartbeatsCache=Ue,Ue))}triggerHeartbeat(){var B=this;return(0,l.Z)(function*(){const Ue=B.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Je=yt();if(null===B._heartbeatsCache&&(B._heartbeatsCache=yield B._heartbeatsCachePromise),B._heartbeatsCache.lastSentHeartbeatDate!==Je&&!B._heartbeatsCache.heartbeats.some(ke=>ke.date===Je))return B._heartbeatsCache.heartbeats.push({date:Je,agent:Ue}),B._heartbeatsCache.heartbeats=B._heartbeatsCache.heartbeats.filter(ke=>{const Mt=new Date(ke.date).valueOf();return Date.now()-Mt<=2592e6}),B._storage.overwrite(B._heartbeatsCache)})()}getHeartbeatsHeader(){var B=this;return(0,l.Z)(function*(){if(null===B._heartbeatsCache&&(yield B._heartbeatsCachePromise),null===B._heartbeatsCache||0===B._heartbeatsCache.heartbeats.length)return"";const le=yt(),{heartbeatsToSend:Ue,unsentEntries:Je}=function Ar(K,B=1024){const le=[];let Ue=K.slice();for(const Je of K){const ke=le.find(Mt=>Mt.agent===Je.agent);if(ke){if(ke.dates.push(Je.date),wl(le)>B){ke.dates.pop();break}}else if(le.push({agent:Je.agent,dates:[Je.date]}),wl(le)>B){le.pop();break}Ue=Ue.slice(1)}return{heartbeatsToSend:le,unsentEntries:Ue}}(B._heartbeatsCache.heartbeats),ke=(0,Y.L)(JSON.stringify({version:2,heartbeats:Ue}));return B._heartbeatsCache.lastSentHeartbeatDate=le,Je.length>0?(B._heartbeatsCache.heartbeats=Je,yield B._storage.overwrite(B._heartbeatsCache)):(B._heartbeatsCache.heartbeats=[],B._storage.overwrite(B._heartbeatsCache)),ke})()}}function yt(){return(new Date).toISOString().substring(0,10)}class jr{constructor(B){this.app=B,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Y.hl)()&&(0,Y.eu)().then(()=>!0).catch(()=>!1)})()}read(){var B=this;return(0,l.Z)(function*(){return(yield B._canUseIndexedDBPromise)&&(yield function te(K){return G.apply(this,arguments)}(B.app))||{heartbeats:[]}})()}overwrite(B){var le=this;return(0,l.Z)(function*(){var Ue;if(yield le._canUseIndexedDBPromise){const ke=yield le.read();return Ge(le.app,{lastSentHeartbeatDate:null!==(Ue=B.lastSentHeartbeatDate)&&void 0!==Ue?Ue:ke.lastSentHeartbeatDate,heartbeats:B.heartbeats})}})()}add(B){var le=this;return(0,l.Z)(function*(){var Ue;if(yield le._canUseIndexedDBPromise){const ke=yield le.read();return Ge(le.app,{lastSentHeartbeatDate:null!==(Ue=B.lastSentHeartbeatDate)&&void 0!==Ue?Ue:ke.lastSentHeartbeatDate,heartbeats:[...ke.heartbeats,...B.heartbeats]})}})()}}function wl(K){return(0,Y.L)(JSON.stringify({version:2,heartbeats:K})).length}!function zg(K){Ti(new U.wA("platform-logger",B=>new Ln(B),"PRIVATE")),Ti(new U.wA("heartbeat",B=>new mt(B),"PRIVATE")),ls(Ps,"0.9.13",K),ls(Ps,"0.9.13","esm2017"),ls("fire-js","")}("")},4537:(Xe,he,M)=>{M.d(he,{H0:()=>Be,wA:()=>X});var l=M(5861),U=M(9058);class X{constructor(F,N,$){this.name=F,this.instanceFactory=N,this.type=$,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const Y="[DEFAULT]";class se{constructor(F,N){this.name=F,this.container=N,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const N=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(N)){const $=new U.BH;if(this.instancesDeferred.set(N,$),this.isInitialized(N)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:N});Ae&&$.resolve(Ae)}catch{}}return this.instancesDeferred.get(N).promise}getImmediate(F){var N;const $=this.normalizeInstanceIdentifier(F?.identifier),Ae=null!==(N=F?.optional)&&void 0!==N&&N;if(!this.isInitialized($)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$})}catch(ve){if(Ae)return null;throw ve}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if(function Pe(ye){return"EAGER"===ye.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:Y})}catch{}for(const[N,$]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(N);try{const ve=this.getOrInitializeService({instanceIdentifier:Ae});$.resolve(ve)}catch{}}}}clearInstance(F=Y){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,l.Z)(function*(){const N=Array.from(F.instances.values());yield Promise.all([...N.filter($=>"INTERNAL"in $).map($=>$.INTERNAL.delete()),...N.filter($=>"_delete"in $).map($=>$._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=Y){return this.instances.has(F)}getOptions(F=Y){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:N={}}=F,$=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized($))throw Error(`${this.name}(${$}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:$,options:N});for(const[ve,We]of this.instancesDeferred.entries())$===this.normalizeInstanceIdentifier(ve)&&We.resolve(Ae);return Ae}onInit(F,N){var $;const Ae=this.normalizeInstanceIdentifier(N),ve=null!==($=this.onInitCallbacks.get(Ae))&&void 0!==$?$:new Set;ve.add(F),this.onInitCallbacks.set(Ae,ve);const We=this.instances.get(Ae);return We&&F(We,Ae),()=>{ve.delete(F)}}invokeOnInitCallbacks(F,N){const $=this.onInitCallbacks.get(N);if($)for(const Ae of $)try{Ae(F,N)}catch{}}getOrInitializeService({instanceIdentifier:F,options:N={}}){let $=this.instances.get(F);if(!$&&this.component&&($=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=F,ye===Y?void 0:ye),options:N}),this.instances.set(F,$),this.instancesOptions.set(F,N),this.invokeOnInitCallbacks($,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,$)}catch{}var ye;return $||null}normalizeInstanceIdentifier(F=Y){return this.component?this.component.multipleInstances?F:Y:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Be{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const N=this.getProvider(F.name);if(N.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);N.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const N=new se(F,this);return this.providers.set(F,N),N}getProviders(){return Array.from(this.providers.values())}}},7879:(Xe,he,M)=>{M.d(he,{Am:()=>ye,Ub:()=>Be,Yd:()=>Pe,in:()=>U});const l=[];var U=(()=>((U=U||{})[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",U))();const X={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},Y=U.INFO,se={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},fe=(F,N,...$)=>{if(N<F.logLevel)return;const Ae=(new Date).toISOString(),ve=se[N];if(!ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${N})`);console[ve](`[${Ae}]  ${F.name}:`,...$)};class Pe{constructor(N){this.name=N,this._logLevel=Y,this._logHandler=fe,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(N){if(!(N in U))throw new TypeError(`Invalid value "${N}" assigned to \`logLevel\``);this._logLevel=N}setLogLevel(N){this._logLevel="string"==typeof N?X[N]:N}get logHandler(){return this._logHandler}set logHandler(N){if("function"!=typeof N)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=N}get userLogHandler(){return this._userLogHandler}set userLogHandler(N){this._userLogHandler=N}debug(...N){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...N),this._logHandler(this,U.DEBUG,...N)}log(...N){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...N),this._logHandler(this,U.VERBOSE,...N)}info(...N){this._userLogHandler&&this._userLogHandler(this,U.INFO,...N),this._logHandler(this,U.INFO,...N)}warn(...N){this._userLogHandler&&this._userLogHandler(this,U.WARN,...N),this._logHandler(this,U.WARN,...N)}error(...N){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...N),this._logHandler(this,U.ERROR,...N)}}function Be(F){l.forEach(N=>{N.setLogLevel(F)})}function ye(F,N){for(const $ of l){let Ae=null;N&&N.level&&(Ae=X[N.level]),$.userLogHandler=null===F?null:(ve,We,...et)=>{const me=et.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");We>=(Ae??ve.logLevel)&&F({level:U[We].toLowerCase(),message:me,args:et,type:ve.name})}}}},7142:(Xe,he,M)=>{M.d(he,{Z:()=>l.Z});var l=M(3106);l.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(Xe,he,M)=>{function l(X,Y,se,fe,Pe,Be,ye){try{var F=X[Be](ye),N=F.value}catch($){return void se($)}F.done?Y(N):Promise.resolve(N).then(fe,Pe)}function U(X){return function(){var Y=this,se=arguments;return new Promise(function(fe,Pe){var Be=X.apply(Y,se);function ye(N){l(Be,fe,Pe,ye,F,"next",N)}function F(N){l(Be,fe,Pe,ye,F,"throw",N)}ye(void 0)})}}M.d(he,{Z:()=>U})},7582:(Xe,he,M)=>{function Y(q,V){var W={};for(var de in q)Object.prototype.hasOwnProperty.call(q,de)&&V.indexOf(de)<0&&(W[de]=q[de]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(de=Object.getOwnPropertySymbols(q);Ce<de.length;Ce++)V.indexOf(de[Ce])<0&&Object.prototype.propertyIsEnumerable.call(q,de[Ce])&&(W[de[Ce]]=q[de[Ce]])}return W}function $(q,V,W,de){return new(W||(W=Promise))(function(_e,qe){function je(Zt){try{at(de.next(Zt))}catch(Ft){qe(Ft)}}function Mn(Zt){try{at(de.throw(Zt))}catch(Ft){qe(Ft)}}function at(Zt){Zt.done?_e(Zt.value):function Ce(_e){return _e instanceof W?_e:new W(function(qe){qe(_e)})}(Zt.value).then(je,Mn)}at((de=de.apply(q,V||[])).next())})}function ne(q){return this instanceof ne?(this.v=q,this):new ne(q)}function ue(q,V,W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,de=W.apply(q,V||[]),_e=[];return Ce={},qe("next"),qe("throw"),qe("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce;function qe(en){de[en]&&(Ce[en]=function(qn){return new Promise(function(ni,wi){_e.push([en,qn,ni,wi])>1||je(en,qn)})})}function je(en,qn){try{!function Mn(en){en.value instanceof ne?Promise.resolve(en.value.v).then(at,Zt):Ft(_e[0][2],en)}(de[en](qn))}catch(ni){Ft(_e[0][3],ni)}}function at(en){je("next",en)}function Zt(en){je("throw",en)}function Ft(en,qn){en(qn),_e.shift(),_e.length&&je(_e[0][0],_e[0][1])}}function ge(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var W,V=q[Symbol.asyncIterator];return V?V.call(q):(q=function et(q){var V="function"==typeof Symbol&&Symbol.iterator,W=V&&q[V],de=0;if(W)return W.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&de>=q.length&&(q=void 0),{value:q&&q[de++],done:!q}}};throw new TypeError(V?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),W={},de("next"),de("throw"),de("return"),W[Symbol.asyncIterator]=function(){return this},W);function de(_e){W[_e]=q[_e]&&function(qe){return new Promise(function(je,Mn){!function Ce(_e,qe,je,Mn){Promise.resolve(Mn).then(function(at){_e({value:at,done:je})},qe)}(je,Mn,(qe=q[_e](qe)).done,qe.value)})}}}M.d(he,{FC:()=>ue,KL:()=>ge,_T:()=>Y,mG:()=>$,qq:()=>ne})}},Xe=>{Xe(Xe.s=687)}]);